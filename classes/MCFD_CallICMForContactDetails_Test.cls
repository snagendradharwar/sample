@isTest
private class MCFD_CallICMForContactDetails_Test {
	

	@isTest static void test_method_one() {
		

		User objuser = MCFD_TestDataHelper_Test.getCommunityUser('1-407SJCD');
           
        System.RunAs(objuser){         	
			
		    Request__c request = new Request__c();
			//set it to rtp record type
			List<RecordType> rtp = [SELECT Id, Name FROM RecordType WHERE Name = 'Application'];
			request.RecordTypeId = rtp[0].Id;
			request.MCFD_Status__c = 'In Progress';
			request.ICM_SR_Number__c = '1234fgf56789';
			insert request;

			Request__c request2 = new Request__c();
			//set it to rtp record type
			List<RecordType> rtp2 = [SELECT Id, Name FROM RecordType WHERE Name = 'Renewal'];
			request2.RecordTypeId = rtp2[0].Id;
			request2.MCFD_Status__c = 'In Progress';
			request2.ICM_SR_Number__c = '123sda456781';
			insert request2;

			Request__c request3 = new Request__c();
			//set it to rtp record type
			List<RecordType> rtp3 = [SELECT Id, Name FROM RecordType WHERE Name = 'Autism Case Request'];
			request3.RecordTypeId = rtp3[0].Id;
			request3.MCFD_Status__c = 'Submitted';
			request3.ICM_SR_Number__c = '12345sd6781';
			insert request3;

			Request__c request4 = new Request__c();
			//set it to rtp record type
			List<RecordType> rtp4 = [SELECT Id, Name FROM RecordType WHERE Name = 'CCS Case Request'];
			request4.RecordTypeId = rtp4[0].Id;
			request4.MCFD_Status__c = 'Submitted';
			request4.ICM_SR_Number__c = '12345678sd1';
			insert request4;

			Request__c request5 = new Request__c();
			//set it to renewal record type
			request5.RecordTypeId = rtp2[0].Id;
			request5.MCFD_Status__c = 'Submitted';
			request5.ICM_SR_Number__c = '123456781324';
			insert request5;


			Request__c request6 = new Request__c();
			//set it to renewal record type
			request6.RecordTypeId = rtp2[0].Id;
			request6.MCFD_Status__c = 'Submitted';
			request6.ICM_SR_Number__c = 'notARealID';
			Date oldDate = Date.today().addYears(-2);
			request6.MCFD_Submitted_Date__c = oldDate;
			insert request6;

			List<Request__c> returnedList;

			Test.StartTest();
		    // setting up mock webservice response 
		    Test.setMock(HttpCalloutMock.class, new MCFD_ExampleCalloutMockICMContact());  

			returnedList = MCFD_CallICMForContactDetails.getPortalApplicationDetails('test');

			Boolean returnBool;
			returnBool = MCFD_CallICMForContactDetails.fetchUserWelcomePagePreference();

			Contact returnContact;
			returnContact = MCFD_CallICMForContactDetails.fetchLoggedInUserContact();

			String returnString2;
			returnString2 = MCFD_CallICMForContactDetails.CallICM();


			String testJSON = '{"errorMessage" : "Invalid GUID","status" : "ERROR"}';

			returnBool = MCFD_CallICMForContactDetails.apexupdateReqAndChkForReregister(testJSON);

			String testJSON2 = '{"Id" : "123456","AutismPortalAccess" : "true","BirthDate" : "02/02/1993", "CCSPortalAccess" : "true", "CellularPhone" : "123-123-1234","FirstName" : "Test","LastName" : "Test", "HomePhone" : "123-123-1234","SIN" : "123123123", "MessagePhone" : "123-123-1234","WorkPhone" : "123-123-1234","SRNumber" : "1231231234"}';

			returnBool = MCFD_CallICMForContactDetails.apexupdateReqAndChkForReregister(testJSON2);

			String testJSON3 = '{"Id" : "123456","AutismPortalAccess" : "true","BirthDate" : "02/02/1993", "CCSPortalAccess" : "true", "CellularPhone" : "123-123-1234","FirstName" : "Test","LastName" : "Test", "HomePhone" : "123-123-1234","SIN" : "123123123", "MessagePhone" : "123-123-1234","WorkPhone" : "123-123-1234","SRNumber" : "ABC123", "SRStatus" : "Submitted"}';

			returnBool = MCFD_CallICMForContactDetails.apexupdateReqAndChkForReregister(testJSON3);

			String testJSON4 = '{"Id" : "12345sd6781","AutismPortalAccess" : "true","BirthDate" : "02/02/1993", "CCSPortalAccess" : "true", "CellularPhone" : "123-123-1234","FirstName" : "Test","LastName" : "Test", "HomePhone" : "123-123-1234","SIN" : "123123123", "MessagePhone" : "123-123-1234","WorkPhone" : "123-123-1234","SRNumber" : "12345sd6781", "Status" : "Closed"}';

			returnBool = MCFD_CallICMForContactDetails.apexupdateReqAndChkForReregister(testJSON4);

			MCFD_CallICMForContactDetails.apexLogError_PortalHubPage('test');

			Request__c returnRequest;
			returnRequest = MCFD_CallICMForContactDetails.getCCSCaseInfofromICM('testCaseNum');

			String returnString;
			returnString = MCFD_CallICMForContactDetails.getCalloutResponseContents('testCaseNum');

			returnString = MCFD_CallICMForContactDetails.CallICM();

			
			Test.StopTest();
		}
	}

    
    @isTest static void unReadMsgTest (){
        
        User objuser = MCFD_TestDataHelper_Test.getCommunityUser('1-407SJCD');
        
        
        MCFD_message__C mess1 = new MCFD_message__C();
        mess1.portal_message_read__C=false;
        mess1.Contact__c=objuser.contactid;
        mess1.Message_Status__c = 'Sent from ICM';
        system.debug(objuser.contactid);
        insert mess1;
        
        System.RunAs(objuser){ 
            
            integer msgCount=  MCFD_CallICMForContactDetails.getCountUnreadMessages();
            system.debug( msgCount);
            system.assertEquals(1, msgCount);
        }
        
        
        
        

        System.RunAs(objuser){ 
        	Test.StartTest();

			String testJSON2 = '{"Id" : "1-407SJCD","AutismPortalAccess" : "true","BirthDate" : "02/02/1993", "CCSPortalAccess" : "true", "CellularPhone" : "123-123-1234","FirstName" : "Test","LastName" : "Test", "HomePhone" : "123-123-1234","SIN" : "123123123", "MessagePhone" : "123-123-1234","WorkPhone" : "123-123-1234","SRNumber" : "1231231234"}';

			Boolean returnBool;
			returnBool = MCFD_CallICMForContactDetails.apexupdateReqAndChkForReregister(testJSON2);

			Test.StopTest();
		}

	}
    
    
    
    
    
    
    
    
    
	@isTest static void duplicateContactTest (){

		User objuser = MCFD_TestDataHelper_Test.getCommunityUser('1-407SJCD');
        
		Contact newDuplicateCon = new Contact();
		newDuplicateCon.MCFD_Is_Portal_User__c = true;
		newDuplicateCon.MCFD_Status__c = 'Active';
		newDuplicateCon.ICM_Contact_Id__c = '1-407SJCD';
		newDuplicateCon.LastName = 'TestLN1';
		newDuplicateCon.FirstName = 'TestFN1';

		insert newDuplicateCon;

        System.RunAs(objuser){ 
        	Test.StartTest();

			String testJSON2 = '{"Id" : "1-407SJCD","AutismPortalAccess" : "true","BirthDate" : "02/02/1993", "CCSPortalAccess" : "true", "CellularPhone" : "123-123-1234","FirstName" : "Test","LastName" : "Test", "HomePhone" : "123-123-1234","SIN" : "123123123", "MessagePhone" : "123-123-1234","WorkPhone" : "123-123-1234","SRNumber" : "1231231234"}';

			Boolean returnBool;
			returnBool = MCFD_CallICMForContactDetails.apexupdateReqAndChkForReregister(testJSON2);

			Test.StopTest();
		}

	}
	
	@isTest static void test_method_two() {
		User objuser = MCFD_TestDataHelper_Test.getCommunityUser('1-407SJCD');
           
        System.RunAs(objuser){ 

        	
			
		    Request__c request = new Request__c();
			//set it to rtp record type
			List<RecordType> rtp = [SELECT Id, Name FROM RecordType WHERE Name = 'Application'];
			request.RecordTypeId = rtp[0].Id;
			request.MCFD_Status__c = 'In Progress';
			request.ICM_SR_Number__c = '123456789';
			insert request;

			List<Request__c> returnedList;

			Test.StartTest();
		    // setting up mock webservice response 
		    Test.setMock(HttpCalloutMock.class, new MCFD_ExampleCallOutMockError());  

			returnedList = MCFD_CallICMForContactDetails.getPortalApplicationDetails('test');

			Boolean returnBool;
			returnBool = MCFD_CallICMForContactDetails.fetchUserWelcomePagePreference();

			Contact returnContact;
			returnContact = MCFD_CallICMForContactDetails.fetchLoggedInUserContact();

			String returnString2;
			returnString2 = MCFD_CallICMForContactDetails.CallICM();

		//	returnBool = MCFD_CallICMForContactDetails.apexupdateReqAndChkForReregister('test');

			MCFD_CallICMForContactDetails.apexLogError_PortalHubPage('test');

			Request__c returnRequest;
			returnRequest = MCFD_CallICMForContactDetails.getCCSCaseInfofromICM('testCaseNum');

			String returnString;
			returnString = MCFD_CallICMForContactDetails.getCalloutResponseContents('testCaseNum');

			Request__c noICMrequest = new Request__c();
			List<RecordType> req = [SELECT Id, Name FROM RecordType WHERE Name = 'Application'];
			request.RecordTypeId = req[0].Id;
			insert noICMrequest;

			MCFD_CallICMForContactDetails.cancelICMSR(noICMrequest.Id);


			Test.StopTest();
		}
	}
	@isTest static void test_method_three() {

		User objuser = MCFD_TestDataHelper_Test.getCommunityUser('1-407SJCD');
           
        System.RunAs(objuser){ 
        	Test.StartTest();
            
                Test.setMock(HttpCalloutMock.class, new MCFD_ExampleCalloutMockCancelSR());  
                
                Request__c returnedRequest = new Request__c();	
                String renewalString = '{ "docPortalResponse" : {"HlsCase" : [{"CaseNum" : "1-3333-3333","Status" : "Open","Type" : "Child Care Subsidy","SpouseLivingAway" : "Y","SpousalConsentFlagCalc" : "Y",			"TranslatorRequired" : "Y",			"TotalMonthlyIncome" : "3000.00",			"IncomeLastVerifiedDate" : "09/30/2017",			"DocumentsOutstanding" : "",			"DocumentsComments" : "",			"FAIRCCompleted" : "09/30/2017",			"RenewReviewDate" : "",			"RowId" : "",			"CaseAddress" : [{				"UnitNum" : "102", 				"Line1" : "45749 Spadina Ave", 				"Line2" : "More Address", 				"City" : "Chilliwack", 				"PostalCode" : "V2P 1T5", 				"Province" : "BC",				"MAKID" : "" 				}],"PubCaseBenefitPlan" : [{				"AllocationAmount" : "0", 				"ApprovedBy" : "CGWRK33", 				"ApprovedDate" : "07/25/2017 08:54:55", 				"ApprovedOrders" : "", 				"BenefitPlanNum" : "", 				"BenefitPlanType" : "Benefit Plan", 				"CloseReason" : "", 				"Comments" : "", 				"Commitment" : "0", 				"CreatedByOffice" : "XWB - CHILD CARE SUBSIDY SERV", 				"EndPeriod" : "Jun 2017", 				"FamilyIncome" : "290", 				"FamilyType" : "Two Parents", 				"InCycleAllocationCalc" : "0", 				"InCycleRemainderCalc" : "0", 				"LockedFlag" : "N", 				"Name2" : "Pass port", 				"OutofCycleAllocationCalc" : "0", 				"OutofCycleRemainderCalc" : "0", 				"PlanExpiryDate" : "11/30/2017", 				"PlanName" : "", 				"PlanStartDate" : "09/01/2017", 				"ProgramArea" : "", 				"ProgramLength" : "", 				"ProgramName" : "CCS Adjustment Benefit Plan", 				"RemainderAmount" : "750", 				"ServicePlan" : "", 				"StartPeriod" : "Jun 2017", 				"Status" : "Approved", 				"SystemComments" : "Assessed as eligible", 				"TotalAmount" : "750", 				"TotalInCycleAmountCalc" : "", 				"TotalOutofCycleAmountCalc" : "750", 				"TransitArea" : "", 				"TransitRate" : "", 				"RowId" : "",				"VSFTotalAmount" : "0", 				"PubCaseBenefitPlanLineItem" : [{					"ActualAmount" : "", 					"BenefitAmount" : "100", 					"BenefitId" : "1-4ATHV4B", 					"BenefitName2" : "Special Needs Supplement", 					"CFCSAmount" : "", 					"CancellationDate" : "", 					"CaseOfficeName" : "XWB - CHILD CARE SUBSIDY SERV", 					"Comments" : "", 					"CostCare" : "1000", 					"CreatedByOffice" : "XWB - CHILD CARE SUBSIDY SERV", 					"EffectiveDate" : "06/01/2017", 					"EstimatedAmount" : "", 					"ExpirationDate" : "09/30/2017", 					"FamilyUnitFlag" : "N", 					"FirstPaymentDate" : "", 					"Frequency" : "Monthly", 					"FullDayRate" : "37.50", 					"FullDays" : "5", 					"Funder" : "", 					"HalfDayRate" : "18.75", 					"HalfDays" : "5", 					"InCycleFlag" : "N", 					"LockedFlag" : "N", 					"OPAAmountPaid" : "", 					"OPABenefitMonth" : "", 					"OPADeterminedAmount" : "", 					"OPAMaritalStatus" : "", 					"OverriddenBy" : "", 					"OverrideDate" : "", 					"OverrideFlag" : "N", 					"ParentPortionAmount" : "0", 					"Period" : "", 					"PeriodAdjusted" : "", 					"Product" : "G1", 					"ProductSTOB" : "7916", 					"ProductServiceId" : "", 					"ProviderName" : "Denied Adjustment BP/BL And this is a really really really really really really really long name", 					"Quantity" : "", 					"ReasonCare" : "Employed", 					"RecipientContactFirstName" : "Gretta And this is a really really really really really really really long name", 					"RecipientContactLastName" : "Gold", 					"RecipientContactId" : "1-CHILD01", 					"RecipientContactMiddleName" : "Goldie", 					"RecurringPaymentAmount" : "", 					"ServiceLocationType" : "", 					"ServiceRequestId" : "", 					"Status" : "Denied", 					"SupervisorApprovalFlag" : "N", 					"SystemComments2" : "Assessed as eligible", 					"Type" : "", 					"UnitofMeasure" : "", 					"YPPAmount" : "" ,					"RowId" : ""					}]}],	"Contact" : [{"SIN" : "123123123","Gender" : "Female","MiddleName" : "R","ICMContactId" : "1-4B1Z8XT ","BirthDate" : "04/20/1978","FirstName" : "Rainbow","LastName" : "Rita","Relationship" : "Key player","SpecialNeedsStatus" : "","ChildCareRequired" : "N","MinistryPlacementStatus" : "","SharedCustodyStatus" : "","CustodyDetail" : "","DisabilityStatus" : "Confirmed","Email" : "andrea.lloyd@gov.bc.ca","CellPhone" : "7676870999","HomePhone" : "3764091234","WorkPhone" : "2345678655",				"SPEIClient" : "N",				"PlacementType" : "",				"CareRequired" : "N",				"BCAssistance" : "N",				"FederalBenefits" : "N",				"MoreThan1Case" : "N",				"Income" : [ { 					"IncomeType" : "",					"RowId" : "",					"SubType" : "",					"Source" : "",					"Amount" : "20000.00",					"Frequency" : "",					"StartDate" : "07/25/2017 08:54:55",					"EndDate" : "",					"CaseType" : "",					"SamplePayFrequency" : "",					"ConversionFactor" : "",					"Sample1DatePaid" : "09/19/2015",					"Sample1PayPeriodStart" : "09/19/2015",					"Sample1PayPeriodEnd" : "",					"Sample1NetPay" : "375.00",					"Sample1Adjustments" : "25.00",					"Sample1TotalAmount" : "350.00",					"NoSample2Flag" : "N",					"Sample2DatePaid" : "04/19/2015",					"Sample2PayPeriodStart" : "04/19/2015",					"Sample2PayPeriodEnd" : "",					"Sample2NetPay" : "300.00",					"Sample2Adjustments" : "50.00",					"Sample2TotalAmount" : "250.00",					"TotalNetPay" : "230000.00",					"TotatAdjustments" : "300.00",					"TotalIncome" : "20000.00"				}],				"RFC" : [ { 					"Reason" : "",					"Name" : "",					"StartDate" : "09/19/2015",					"EndDate" : "",					"WeekdayDays" : "5",					"WeekdayHours" : "30",					"StartTime" : "08:00:00",					"EndTime" : "15:00:00",					"WeekendDays" : "2",					"WeekendHours" : "7",					"TravelTime" : "",					"Comments" : "",					"RowId" : ""				}]				}, 				{ 				"SIN" : "", 				"Gender" : "Male", 				"MiddleName" : "R", 				"ICMContactId" : "1-4B1ZHMI ", 				"BirthDate" : "08/31/1982", 				"FirstName" : "Ralph", 				"LastName" : "Rainbow", 				"Relationship" : "Spouse", 				"SpecialNeedsStatus" : "", 				"ChildCareRequired" : "", 				"MinistryPlacementStatus" : "", 				"SharedCustodyStatus" : "", 				"CustodyDetail" : "", 				"DisabilityStatus" : "", 				"Email" : "", 				"CellPhone" : "123-123-1234", 				"HomePhone" : "123-123-1234", 				"WorkPhone" : "123-123-1234",				"SPEIClient" : "N",				"PlacementType" : "",				"CareRequired" : "N",				"BCAssistance" : "N",				"FederalBenefits" : "N",				"MoreThan1Case" : "N",				"Income" : [ { 					"IncomeType" : "",					"RowId" : "",					"SubType" : "",					"Source" : "",					"Amount" : "20000.00",					"Frequency" : "",					"StartDate" : "07/25/2017 08:54:55",					"EndDate" : "",					"CaseType" : "",					"SamplePayFrequency" : "",					"ConversionFactor" : "",					"Sample1DatePaid" : "09/19/2015",					"Sample1PayPeriodStart" : "09/19/2015",					"Sample1PayPeriodEnd" : "",					"Sample1NetPay" : "375.00",					"Sample1Adjustments" : "25.00",					"Sample1TotalAmount" : "350.00",					"NoSample2Flag" : "N",					"Sample2DatePaid" : "04/19/2015",					"Sample2PayPeriodStart" : "04/19/2015",					"Sample2PayPeriodEnd" : "",					"Sample2NetPay" : "300.00",					"Sample2Adjustments" : "50.00",					"Sample2TotalAmount" : "250.00",					"TotalNetPay" : "230000.00",					"TotatAdjustments" : "300.00",					"TotalIncome" : "20000.00"				}],				"RFC" : [ { 					"Reason" : "",					"Name" : "",					"StartDate" : "09/19/2015",					"EndDate" : "",					"WeekdayDays" : "5",					"WeekdayHours" : "30",					"StartTime" : "08:00:00",					"EndTime" : "15:00:00",					"WeekendDays" : "2",					"WeekendHours" : "7",					"TravelTime" : "",					"Comments" : "",					"RowId" : ""				}]				}, 				{ 				"SIN" : "", 				"Gender" : "Female", 				"MiddleName" : "Goldie", 				"ICMContactId" : "1-CHILD01", 				"BirthDate" : "09/05/2007", 				"FirstName" : "Gretta", 				"LastName" : "Gold", 				"Relationship" : "Daughter", 				"SpecialNeedsStatus" : "", 				"ChildCareRequired" : "Y", 				"MinistryPlacementStatus" : "Y", 				"SharedCustodyStatus" : "Y", 				"CustodyDetail" : "Custody on weekdays", 				"DisabilityStatus" : "", 				"Email" : "", 				"CellPhone" : "123-123-1234", 				"HomePhone" : "123-123-1234", 				"WorkPhone" : "123-123-1234",				"SPEIClient" : "N",				"PlacementType" : "",				"CareRequired" : "N",				"BCAssistance" : "N",				"FederalBenefits" : "N",				"MoreThan1Case" : "N"}, 				{ 				"SIN" : "", 				"Gender" : "Male", 				"MiddleName" : "Orion", 				"ICMContactId" : "1-CHILD02", 				"BirthDate" : "09/05/2007", 				"FirstName" : "Oliver", 				"LastName" : "Orange", 				"Relationship" : "Son", 				"SpecialNeedsStatus" : "", 				"ChildCareRequired" : "Y", 				"MinistryPlacementStatus" : "Y", 				"SharedCustodyStatus" : "Y", 				"CustodyDetail" : "Custody on weekdays", 				"DisabilityStatus" : "", 				"Email" : "", 				"CellPhone" : "123-123-1234", 				"HomePhone" : "123-123-1234", 				"WorkPhone" : "123-123-1234",				"SPEIClient" : "N",				"PlacementType" : "",				"CareRequired" : "N",				"BCAssistance" : "N",				"FederalBenefits" : "N",				"MoreThan1Case" : "N"}, 				{ 				"SIN" : "", 				"Gender" : "Female", 				"MiddleName" : "Buddy", 				"ICMContactId" : "1-CHILD03", 				"BirthDate" : "09/05/2007", 				"FirstName" : "Bobbie", 				"LastName" : "Bronze", 				"Relationship" : "Daughter", 				"SpecialNeedsStatus" : "", 				"ChildCareRequired" : "Y", 				"MinistryPlacementStatus" : "Y", 				"SharedCustodyStatus" : "Y", 				"CustodyDetail" : "Custody on weekdays", 				"DisabilityStatus" : "", 				"Email" : "", 				"CellPhone" : "123-123-1234", 				"HomePhone" : "123-123-1234", 				"WorkPhone" : "123-123-1234",				"SPEIClient" : "N",				"PlacementType" : "",				"CareRequired" : "N",				"BCAssistance" : "N",				"FederalBenefits" : "N",				"MoreThan1Case" : "N"			}],			"Attachment" : [{				"Type" : "",				"Template" : "",				"FileName" : "","Status" : "Complete","Category" : "","SubCategory" : "","RowId" : ""}]}]}}';
                
                returnedRequest = MCFD_CallICMForContactDetails.createCCSRenewal(renewalString);
                
                String renewalString2 = '{ "docPortalResponse" : {"HlsCase" : [{"CaseNum" : "1-3333-3333","Status" : "Open","Type" : "Child Care Subsidy","SpouseLivingAway" : "Y","SpousalConsentFlagCalc" : "Y",			"TranslatorRequired" : "Y",			"TotalMonthlyIncome" : "3000.00",			"IncomeLastVerifiedDate" : "09/30/2017",			"DocumentsOutstanding" : "",			"DocumentsComments" : "",			"FAIRCCompleted" : "09/30/2017",			"RenewReviewDate" : "",			"RowId" : "",			"CaseAddress" : [{				"UnitNum" : "102", 				"Line1" : "45749 Spadina Ave", 				"Line2" : "More Address", 				"City" : "Chilliwack", 				"PostalCode" : "V2P 1T5", 				"Province" : "BC",				"MAKID" : "" 				}],"PubCaseBenefitPlan" : [{				"AllocationAmount" : "0", 				"ApprovedBy" : "CGWRK33", 				"ApprovedDate" : "07/25/2017 08:54:55", 				"ApprovedOrders" : "", 				"BenefitPlanNum" : "", 				"BenefitPlanType" : "Benefit Plan", 				"CloseReason" : "", 				"Comments" : "", 				"Commitment" : "0", 				"CreatedByOffice" : "XWB - CHILD CARE SUBSIDY SERV", 				"EndPeriod" : "Jun 2017", 				"FamilyIncome" : "290", 				"FamilyType" : "Two Parents", 				"InCycleAllocationCalc" : "0", 				"InCycleRemainderCalc" : "0", 				"LockedFlag" : "N", 				"Name2" : "Pass port", 				"OutofCycleAllocationCalc" : "0", 				"OutofCycleRemainderCalc" : "0", 				"PlanExpiryDate" : "11/30/2017", 				"PlanName" : "", 				"PlanStartDate" : "09/01/2017", 				"ProgramArea" : "", 				"ProgramLength" : "", 				"ProgramName" : "CCS Adjustment Benefit Plan", 				"RemainderAmount" : "750", 				"ServicePlan" : "", 				"StartPeriod" : "Jun 2017", 				"Status" : "Approved", 				"SystemComments" : "Assessed as eligible", 				"TotalAmount" : "750", 				"TotalInCycleAmountCalc" : "", 				"TotalOutofCycleAmountCalc" : "750", 				"TransitArea" : "", 				"TransitRate" : "", 				"RowId" : "",				"VSFTotalAmount" : "0", 				"PubCaseBenefitPlanLineItem" : [{"ActualAmount" : "","BenefitAmount" : "100","BenefitId" : "1-4ATHV4B","BenefitName2" : "PreSchool", "CFCSAmount" : "","CancellationDate" : "", "CaseOfficeName" : "XWB - CHILD CARE SUBSIDY SERV","Comments" : "","CostCare" : "1000","CreatedByOffice" : "XWB - CHILD CARE SUBSIDY SERV","EffectiveDate" : "06/01/2017","EstimatedAmount" : "","ExpirationDate" : "09/30/2017","FamilyUnitFlag" : "N","FirstPaymentDate" : "","Frequency" : "Monthly","FullDayRate" : "37.50", "FullDays" : "5","Funder" : "","HalfDayRate" : "18.75", "HalfDays" : "5","InCycleFlag" : "N","LockedFlag" : "N","OPAAmountPaid" : "", "OPABenefitMonth" : "","OPADeterminedAmount" : "","OPAMaritalStatus" : "","OverriddenBy" : "", "OverrideDate" : "","OverrideFlag" : "N","ParentPortionAmount" : "0","Period" : "","PeriodAdjusted" : "","Product" : "G1","ProductSTOB" : "7916", "ProductServiceId" : "","ProviderName" : "Denied Adjustment BP/BL And this is a really really really really really really really long name","Quantity" : "","ReasonCare" : "Employed","RecipientContactFirstName" : "Gretta And this is a really really really really really really really long name", "RecipientContactLastName" : "Gold","RecipientContactId" : "1-CHILD01","RecipientContactMiddleName" : "Goldie","RecurringPaymentAmount" : "","ServiceLocationType" : "","ServiceRequestId" : "","Status" : "Approved", 					"SupervisorApprovalFlag" : "N", 					"SystemComments2" : "Assessed as eligible", 					"Type" : "", 					"UnitofMeasure" : "", 					"YPPAmount" : "" ,					"RowId" : ""					}]}],	"Contact" : [{"SIN" : "123123123","Gender" : "Female","MiddleName" : "R","ICMContactId" : "1-4B1Z8XT ","BirthDate" : "04/20/1978","FirstName" : "Rainbow","LastName" : "Rita","Relationship" : "Key player","SpecialNeedsStatus" : "","ChildCareRequired" : "N","MinistryPlacementStatus" : "","SharedCustodyStatus" : "","CustodyDetail" : "","DisabilityStatus" : "Confirmed","Email" : "andrea.lloyd@gov.bc.ca","CellPhone" : "7676870999","HomePhone" : "3764091234","WorkPhone" : "2345678655",				"SPEIClient" : "N",				"PlacementType" : "",				"CareRequired" : "N",				"BCAssistance" : "N",				"FederalBenefits" : "N",				"MoreThan1Case" : "N",				"Income" : [ { 					"IncomeType" : "",					"RowId" : "",					"SubType" : "",					"Source" : "",					"Amount" : "20000.00",					"Frequency" : "",					"StartDate" : "07/25/2017 08:54:55",					"EndDate" : "",					"CaseType" : "",					"SamplePayFrequency" : "",					"ConversionFactor" : "",					"Sample1DatePaid" : "09/19/2015",					"Sample1PayPeriodStart" : "09/19/2015",					"Sample1PayPeriodEnd" : "",					"Sample1NetPay" : "375.00",					"Sample1Adjustments" : "25.00",					"Sample1TotalAmount" : "350.00",					"NoSample2Flag" : "N",					"Sample2DatePaid" : "04/19/2015",					"Sample2PayPeriodStart" : "04/19/2015",					"Sample2PayPeriodEnd" : "",					"Sample2NetPay" : "300.00",					"Sample2Adjustments" : "50.00",					"Sample2TotalAmount" : "250.00",					"TotalNetPay" : "230000.00",					"TotatAdjustments" : "300.00",					"TotalIncome" : "20000.00"				}],				"RFC" : [ { 					"Reason" : "",					"Name" : "",					"StartDate" : "09/19/2015",					"EndDate" : "",					"WeekdayDays" : "5",					"WeekdayHours" : "30",					"StartTime" : "08:00:00",					"EndTime" : "15:00:00",					"WeekendDays" : "2",					"WeekendHours" : "7",					"TravelTime" : "",					"Comments" : "",					"RowId" : ""				}]				}, 				{ 				"SIN" : "", 				"Gender" : "Male", 				"MiddleName" : "R", 				"ICMContactId" : "1-4B1ZHMI ", 				"BirthDate" : "08/31/1982", 				"FirstName" : "Ralph", 				"LastName" : "Rainbow", 				"Relationship" : "Spouse", 				"SpecialNeedsStatus" : "", 				"ChildCareRequired" : "", 				"MinistryPlacementStatus" : "", 				"SharedCustodyStatus" : "", 				"CustodyDetail" : "", 				"DisabilityStatus" : "", 				"Email" : "", 				"CellPhone" : "123-123-1234", 				"HomePhone" : "123-123-1234", 				"WorkPhone" : "123-123-1234",				"SPEIClient" : "N",				"PlacementType" : "",				"CareRequired" : "N",				"BCAssistance" : "N",				"FederalBenefits" : "N",				"MoreThan1Case" : "N",				"Income" : [ { 					"IncomeType" : "",					"RowId" : "",					"SubType" : "",					"Source" : "",					"Amount" : "20000.00",					"Frequency" : "",					"StartDate" : "07/25/2017 08:54:55",					"EndDate" : "",					"CaseType" : "",					"SamplePayFrequency" : "",					"ConversionFactor" : "",					"Sample1DatePaid" : "09/19/2015",					"Sample1PayPeriodStart" : "09/19/2015",					"Sample1PayPeriodEnd" : "",					"Sample1NetPay" : "375.00",					"Sample1Adjustments" : "25.00",					"Sample1TotalAmount" : "350.00",					"NoSample2Flag" : "N",					"Sample2DatePaid" : "04/19/2015",					"Sample2PayPeriodStart" : "04/19/2015",					"Sample2PayPeriodEnd" : "",					"Sample2NetPay" : "300.00",					"Sample2Adjustments" : "50.00",					"Sample2TotalAmount" : "250.00",					"TotalNetPay" : "230000.00",					"TotatAdjustments" : "300.00",					"TotalIncome" : "20000.00"				}],				"RFC" : [ { 					"Reason" : "",					"Name" : "",					"StartDate" : "09/19/2015",					"EndDate" : "",					"WeekdayDays" : "5",					"WeekdayHours" : "30",					"StartTime" : "08:00:00",					"EndTime" : "15:00:00",					"WeekendDays" : "2",					"WeekendHours" : "7",					"TravelTime" : "",					"Comments" : "",					"RowId" : ""				}]				}, 				{ 				"SIN" : "", 				"Gender" : "Female", 				"MiddleName" : "Goldie", 				"ICMContactId" : "1-CHILD01", 				"BirthDate" : "09/05/2007", 				"FirstName" : "Gretta", 				"LastName" : "Gold", 				"Relationship" : "Daughter", 				"SpecialNeedsStatus" : "Reported", 				"ChildCareRequired" : "N", 				"MinistryPlacementStatus" : "Y", 				"SharedCustodyStatus" : "Y", 				"CustodyDetail" : "Custody on weekdays", 				"DisabilityStatus" : "", 				"Email" : "", 				"CellPhone" : "123-123-1234", 				"HomePhone" : "123-123-1234", 				"WorkPhone" : "123-123-1234",				"SPEIClient" : "N",				"PlacementType" : "",				"CareRequired" : "N",				"BCAssistance" : "N",				"FederalBenefits" : "N",				"MoreThan1Case" : "N"}, 				{ 				"SIN" : "", 				"Gender" : "Male", 				"MiddleName" : "Orion", 				"ICMContactId" : "1-CHILD02", 				"BirthDate" : "09/05/2007", 				"FirstName" : "Oliver", 				"LastName" : "Orange", 				"Relationship" : "Son", 				"SpecialNeedsStatus" : "", 				"ChildCareRequired" : "Y", 				"MinistryPlacementStatus" : "Y", 				"SharedCustodyStatus" : "Y", 				"CustodyDetail" : "Custody on weekdays", 				"DisabilityStatus" : "", 				"Email" : "", 				"CellPhone" : "123-123-1234", 				"HomePhone" : "123-123-1234", 				"WorkPhone" : "123-123-1234",				"SPEIClient" : "N",				"PlacementType" : "",				"CareRequired" : "N",				"BCAssistance" : "N",				"FederalBenefits" : "N",				"MoreThan1Case" : "N"}, 				{ 				"SIN" : "", 				"Gender" : "Female", 				"MiddleName" : "Buddy", 				"ICMContactId" : "1-CHILD03", 				"BirthDate" : "09/05/2007", 				"FirstName" : "Bobbie", 				"LastName" : "Bronze", 				"Relationship" : "Daughter", 				"SpecialNeedsStatus" : "", 				"ChildCareRequired" : "Y", 				"MinistryPlacementStatus" : "Y", 				"SharedCustodyStatus" : "Y", 				"CustodyDetail" : "Custody on weekdays", 				"DisabilityStatus" : "", 				"Email" : "", 				"CellPhone" : "123-123-1234", 				"HomePhone" : "123-123-1234", 				"WorkPhone" : "123-123-1234",				"SPEIClient" : "N",				"PlacementType" : "",				"CareRequired" : "N",				"BCAssistance" : "N",				"FederalBenefits" : "N",				"MoreThan1Case" : "N"			}],			"Attachment" : [{				"Type" : "",				"Template" : "",				"FileName" : "","Status" : "Complete","Category" : "","SubCategory" : "","RowId" : ""}]}]}}';
            
            returnedRequest = MCFD_CallICMForContactDetails.createCCSRenewal(renewalString2);
            
            
            MCFD_CallICMForContactDetails.InsertAccessDeniedMessage('This is a test message', 'test subject', 'General Message', '12345', '1234567');
                       
            MCFD_CallICMForContactDetails.updateRenewalRequest(renewalString,returnedRequest);
            
            returnedRequest.ICM_SR_Number__c = null;
            returnedRequest.ICM_SR_Number__c = '123456';
          
                upsert returnedRequest;
                
                MCFD_CallICMForContactDetails.cancelICMSR(returnedRequest.Id);
            	MCFD_CallICMForContactDetails.getPortalApplicationDetails_PreMethod();
               
            Test.StopTest();
        }
        
    }
	@isTest static void test_method_four() {
		User objuser = MCFD_TestDataHelper_Test.getCommunityUser('1-407SJCD');
           
        System.RunAs(objuser){ 
        	Test.StartTest();

			Request__c returnedRequest = new Request__c();	

			String renewalString = '{ "docPortalResponse" : {"HlsCase" : [{"CaseNum" : "1-3333-3333","Status" : "Open","Type" : "Child Care Subsidy","SpouseLivingAway" : "Y","SpousalConsentFlagCalc" : "Y",			"TranslatorRequired" : "Y",			"TotalMonthlyIncome" : "3000.00",			"IncomeLastVerifiedDate" : "09/30/2017",			"DocumentsOutstanding" : "",			"DocumentsComments" : "",			"FAIRCCompleted" : "09/30/2017",			"RenewReviewDate" : "",			"RowId" : "",			"CaseAddress" : [{				"UnitNum" : "102", 				"Line1" : "45749 Spadina Ave", 				"Line2" : "More Address", 				"City" : "Chilliwack", 				"PostalCode" : "V2P 1T5", 				"Province" : "BC",				"MAKID" : "" 				}],"PubCaseBenefitPlan" : [{				"AllocationAmount" : "0", 				"ApprovedBy" : "CGWRK33", 				"ApprovedDate" : "07/25/2017 08:54:55", 				"ApprovedOrders" : "", 				"BenefitPlanNum" : "", 				"BenefitPlanType" : "Benefit Plan", 				"CloseReason" : "", 				"Comments" : "", 				"Commitment" : "0", 				"CreatedByOffice" : "XWB - CHILD CARE SUBSIDY SERV", 				"EndPeriod" : "Jun 2017", 				"FamilyIncome" : "290", 				"FamilyType" : "Two Parents", 				"InCycleAllocationCalc" : "0", 				"InCycleRemainderCalc" : "0", 				"LockedFlag" : "N", 				"Name2" : "Pass port", 				"OutofCycleAllocationCalc" : "0", 				"OutofCycleRemainderCalc" : "0", 				"PlanExpiryDate" : "11/30/2017", 				"PlanName" : "", 				"PlanStartDate" : "09/01/2017", 				"ProgramArea" : "", 				"ProgramLength" : "", 				"ProgramName" : "CCS Adjustment Benefit Plan", 				"RemainderAmount" : "750", 				"ServicePlan" : "", 				"StartPeriod" : "Jun 2017", 				"Status" : "Approved", 				"SystemComments" : "Assessed as eligible", 				"TotalAmount" : "750", 				"TotalInCycleAmountCalc" : "", 				"TotalOutofCycleAmountCalc" : "750", 				"TransitArea" : "", 				"TransitRate" : "", 				"RowId" : "",				"VSFTotalAmount" : "0", 				"PubCaseBenefitPlanLineItem" : [{"ActualAmount" : "","BenefitAmount" : "100","BenefitId" : "1-4ATHV4B","BenefitName2" : "Licensed Group", "CFCSAmount" : "","CancellationDate" : "", "CaseOfficeName" : "XWB - CHILD CARE SUBSIDY SERV","Comments" : "","CostCare" : "1000","CreatedByOffice" : "XWB - CHILD CARE SUBSIDY SERV","EffectiveDate" : "06/01/2017","EstimatedAmount" : "","ExpirationDate" : "09/30/2017","FamilyUnitFlag" : "N","FirstPaymentDate" : "","Frequency" : "Monthly","FullDayRate" : "37.50", "FullDays" : "5","Funder" : "","HalfDayRate" : "18.75", "HalfDays" : "5","InCycleFlag" : "N","LockedFlag" : "N","OPAAmountPaid" : "", "OPABenefitMonth" : "","OPADeterminedAmount" : "","OPAMaritalStatus" : "","OverriddenBy" : "", "OverrideDate" : "","OverrideFlag" : "N","ParentPortionAmount" : "0","Period" : "","PeriodAdjusted" : "","Product" : "G1","ProductSTOB" : "7916", "ProductServiceId" : "","ProviderName" : "Denied Adjustment BP/BL And this is a really really really really really really really long name","Quantity" : "","ReasonCare" : "Employed","RecipientContactFirstName" : "Gretta And this is a reall", "RecipientContactLastName" : "Gold","RecipientContactId" : "1-CHILD01","RecipientContactMiddleName" : "Goldie","RecurringPaymentAmount" : "","ServiceLocationType" : "","ServiceRequestId" : "","Status" : "Approved", "SupervisorApprovalFlag" : "N", "SystemComments2" : "Assessed as eligible","Type" : "", "UnitofMeasure" : "", "YPPAmount" : "" ,"RowId" : ""}]}],	"Contact" : [{"SIN" : "123123123","Gender" : "Female","MiddleName" : "R","ICMContactId" : "1-4B1Z8XT ","BirthDate" : "04/20/1978","FirstName" : "Rainbow","LastName" : "Rita","Relationship" : "Key player","SpecialNeedsStatus" : "","ChildCareRequired" : "N","MinistryPlacementStatus" : "","SharedCustodyStatus" : "","CustodyDetail" : "","DisabilityStatus" : "Confirmed","Email" : "andrea.lloyd@gov.bc.ca","CellPhone" : "7676870999","HomePhone" : "3764091234","WorkPhone" : "2345678655",				"SPEIClient" : "N",				"PlacementType" : "",				"CareRequired" : "N",				"BCAssistance" : "N",				"FederalBenefits" : "N",				"MoreThan1Case" : "N",				"Income" : [ { 					"IncomeType" : "",					"RowId" : "",					"SubType" : "",					"Source" : "",					"Amount" : "20000.00",					"Frequency" : "",					"StartDate" : "07/25/2017 08:54:55",					"EndDate" : "",					"CaseType" : "",					"SamplePayFrequency" : "",					"ConversionFactor" : "",					"Sample1DatePaid" : "09/19/2015",					"Sample1PayPeriodStart" : "09/19/2015",					"Sample1PayPeriodEnd" : "",					"Sample1NetPay" : "375.00",					"Sample1Adjustments" : "25.00",					"Sample1TotalAmount" : "350.00",					"NoSample2Flag" : "N",					"Sample2DatePaid" : "04/19/2015",					"Sample2PayPeriodStart" : "04/19/2015",					"Sample2PayPeriodEnd" : "",					"Sample2NetPay" : "300.00",					"Sample2Adjustments" : "50.00",					"Sample2TotalAmount" : "250.00",					"TotalNetPay" : "230000.00",					"TotatAdjustments" : "300.00",					"TotalIncome" : "20000.00"				}],				"RFC" : [ { 					"Reason" : "",					"Name" : "",					"StartDate" : "09/19/2015",					"EndDate" : "",					"WeekdayDays" : "5",					"WeekdayHours" : "30",					"StartTime" : "08:00:00",					"EndTime" : "15:00:00",					"WeekendDays" : "2",					"WeekendHours" : "7",					"TravelTime" : "",					"Comments" : "",					"RowId" : ""				}]				}, 				{ 				"SIN" : "", 				"Gender" : "Male", 				"MiddleName" : "R", 				"ICMContactId" : "1-4B1ZHMI ", 				"BirthDate" : "08/31/1982", 				"FirstName" : "Ralph", 				"LastName" : "Rainbow", 				"Relationship" : "Spouse", 				"SpecialNeedsStatus" : "", 				"ChildCareRequired" : "", 				"MinistryPlacementStatus" : "", 				"SharedCustodyStatus" : "", 				"CustodyDetail" : "", 				"DisabilityStatus" : "", 				"Email" : "", 				"CellPhone" : "123-123-1234", 				"HomePhone" : "123-123-1234", 				"WorkPhone" : "123-123-1234",				"SPEIClient" : "N",				"PlacementType" : "",				"CareRequired" : "N",				"BCAssistance" : "N",				"FederalBenefits" : "N",				"MoreThan1Case" : "N",				"Income" : [ { 					"IncomeType" : "",					"RowId" : "",					"SubType" : "",					"Source" : "",					"Amount" : "20000.00",					"Frequency" : "",					"StartDate" : "07/25/2017 08:54:55",					"EndDate" : "",					"CaseType" : "",					"SamplePayFrequency" : "",					"ConversionFactor" : "",					"Sample1DatePaid" : "09/19/2015",					"Sample1PayPeriodStart" : "09/19/2015",					"Sample1PayPeriodEnd" : "",					"Sample1NetPay" : "375.00",					"Sample1Adjustments" : "25.00",					"Sample1TotalAmount" : "350.00",					"NoSample2Flag" : "N",					"Sample2DatePaid" : "04/19/2015",					"Sample2PayPeriodStart" : "04/19/2015",					"Sample2PayPeriodEnd" : "",					"Sample2NetPay" : "300.00",					"Sample2Adjustments" : "50.00",					"Sample2TotalAmount" : "250.00",					"TotalNetPay" : "230000.00",					"TotatAdjustments" : "300.00",					"TotalIncome" : "20000.00"				}],				"RFC" : [ { 					"Reason" : "",					"Name" : "",					"StartDate" : "09/19/2015",					"EndDate" : "",					"WeekdayDays" : "5",					"WeekdayHours" : "30",					"StartTime" : "08:00:00",					"EndTime" : "15:00:00",					"WeekendDays" : "2",					"WeekendHours" : "7",					"TravelTime" : "",					"Comments" : "",					"RowId" : ""				}]				}, 				{ 				"SIN" : "", 				"Gender" : "Female", 				"MiddleName" : "Goldie", 				"ICMContactId" : "1-CHILD01", 				"BirthDate" : "09/05/2007", 				"FirstName" : "Gretta", 				"LastName" : "Gold", 				"Relationship" : "Daughter", 				"SpecialNeedsStatus" : "Reported", 				"ChildCareRequired" : "N", 				"MinistryPlacementStatus" : "Y", 				"SharedCustodyStatus" : "Y", 				"CustodyDetail" : "Custody on weekdays", 				"DisabilityStatus" : "", 				"Email" : "", 				"CellPhone" : "123-123-1234", 				"HomePhone" : "123-123-1234", 				"WorkPhone" : "123-123-1234",				"SPEIClient" : "N",				"PlacementType" : "",				"CareRequired" : "N",				"BCAssistance" : "N",				"FederalBenefits" : "N",				"MoreThan1Case" : "N"}, 				{ 				"SIN" : "", 				"Gender" : "Male", 				"MiddleName" : "Orion", 				"ICMContactId" : "1-CHILD02", 				"BirthDate" : "09/05/2007", 				"FirstName" : "Oliver", 				"LastName" : "Orange", 				"Relationship" : "Son", 				"SpecialNeedsStatus" : "", 				"ChildCareRequired" : "Y", 				"MinistryPlacementStatus" : "Y", 				"SharedCustodyStatus" : "Y", 				"CustodyDetail" : "Custody on weekdays", 				"DisabilityStatus" : "", 				"Email" : "", 				"CellPhone" : "123-123-1234", 				"HomePhone" : "123-123-1234", 				"WorkPhone" : "123-123-1234",				"SPEIClient" : "N",				"PlacementType" : "",				"CareRequired" : "N",				"BCAssistance" : "N",				"FederalBenefits" : "N",				"MoreThan1Case" : "N"}, 				{ 				"SIN" : "", 				"Gender" : "Female", 				"MiddleName" : "Buddy", 				"ICMContactId" : "1-CHILD03", 				"BirthDate" : "09/05/2007", 				"FirstName" : "Bobbie", 				"LastName" : "Bronze", 				"Relationship" : "Daughter", 				"SpecialNeedsStatus" : "", 				"ChildCareRequired" : "Y", 				"MinistryPlacementStatus" : "Y", 				"SharedCustodyStatus" : "Y", 				"CustodyDetail" : "Custody on weekdays", 				"DisabilityStatus" : "", 				"Email" : "", 				"CellPhone" : "123-123-1234", 				"HomePhone" : "123-123-1234", 				"WorkPhone" : "123-123-1234",				"SPEIClient" : "N",				"PlacementType" : "",				"CareRequired" : "N",				"BCAssistance" : "N",				"FederalBenefits" : "N",				"MoreThan1Case" : "N"			}],			"Attachment" : [{				"Type" : "",				"Template" : "",				"FileName" : "","Status" : "Approved","Category" : "","SubCategory" : "","RowId" : ""}]}]}}';
			returnedRequest = MCFD_CallICMForContactDetails.createCCSRenewal(renewalString);
			MCFD_CallICMForContactDetails.updateRenewalRequest(renewalString,returnedRequest);

			Test.setMock(HttpCalloutMock.class, new MCFD_ExampleCallOutMockError());  
			MCFD_CallICMForContactDetails.cancelICMSR(returnedRequest.Id);
			Test.StopTest();


			String renewalString1 = '{ "docPortalResponse" : {"HlsCase" : [{"CaseNum" : "1-3333-3333","Status" : "Open","Type" : "Child Care Subsidy","SpouseLivingAway" : "Y","SpousalConsentFlagCalc" : "Y",			"TranslatorRequired" : "Y",			"TotalMonthlyIncome" : "3000.00",			"IncomeLastVerifiedDate" : "09/30/2017",			"DocumentsOutstanding" : "",			"DocumentsComments" : "",			"FAIRCCompleted" : "09/30/2017",			"RenewReviewDate" : "",			"RowId" : "",			"CaseAddress" : [{				"UnitNum" : "102", 				"Line1" : "45749 Spadina Ave", 				"Line2" : "More Address", 				"City" : "Chilliwack", 				"PostalCode" : "V2P 1T5", 				"Province" : "BC",				"MAKID" : "" 				}],"PubCaseBenefitPlan" : [{				"AllocationAmount" : "0", 				"ApprovedBy" : "CGWRK33", 				"ApprovedDate" : "07/25/2017 08:54:55", 				"ApprovedOrders" : "", 				"BenefitPlanNum" : "", 				"BenefitPlanType" : "Benefit Plan", 				"CloseReason" : "", 				"Comments" : "", 				"Commitment" : "0", 				"CreatedByOffice" : "XWB - CHILD CARE SUBSIDY SERV", 				"EndPeriod" : "Jun 2017", 				"FamilyIncome" : "290", 				"FamilyType" : "Two Parents", 				"InCycleAllocationCalc" : "0", 				"InCycleRemainderCalc" : "0", 				"LockedFlag" : "N", 				"Name2" : "Pass port", 				"OutofCycleAllocationCalc" : "0", 				"OutofCycleRemainderCalc" : "0", 				"PlanExpiryDate" : "11/30/2017", 				"PlanName" : "", 				"PlanStartDate" : "09/01/2017", 				"ProgramArea" : "", 				"ProgramLength" : "", 				"ProgramName" : "CCS Adjustment Benefit Plan", 				"RemainderAmount" : "750", 				"ServicePlan" : "", 				"StartPeriod" : "Jun 2017", 				"Status" : "Approved", 				"SystemComments" : "Assessed as eligible", 				"TotalAmount" : "750", 				"TotalInCycleAmountCalc" : "", 				"TotalOutofCycleAmountCalc" : "750", 				"TransitArea" : "", 				"TransitRate" : "", 				"RowId" : "",				"VSFTotalAmount" : "0", 				"PubCaseBenefitPlanLineItem" : [{"ActualAmount" : "","BenefitAmount" : "100","BenefitId" : "1-4ATHV4B","BenefitName2" : "Preschool", "CFCSAmount" : "","CancellationDate" : "", "CaseOfficeName" : "XWB - CHILD CARE SUBSIDY SERV","Comments" : "","CostCare" : "1000","CreatedByOffice" : "XWB - CHILD CARE SUBSIDY SERV","EffectiveDate" : "06/01/2017","EstimatedAmount" : "","ExpirationDate" : "09/30/2017","FamilyUnitFlag" : "N","FirstPaymentDate" : "","Frequency" : "Monthly","FullDayRate" : "37.50", "FullDays" : "5","Funder" : "","HalfDayRate" : "18.75", "HalfDays" : "5","InCycleFlag" : "N","LockedFlag" : "N","OPAAmountPaid" : "", "OPABenefitMonth" : "","OPADeterminedAmount" : "","OPAMaritalStatus" : "","OverriddenBy" : "", "OverrideDate" : "","OverrideFlag" : "N","ParentPortionAmount" : "0","Period" : "","PeriodAdjusted" : "","Product" : "G1","ProductSTOB" : "7916", "ProductServiceId" : "","ProviderName" : "Denied Adjustment BP/BL And this is a really really really really really really really long name","Quantity" : "","ReasonCare" : "Employed","RecipientContactFirstName" : "Gretta And this is a reall", "RecipientContactLastName" : "Gold","RecipientContactId" : "1-CHILD01","RecipientContactMiddleName" : "Goldie","RecurringPaymentAmount" : "","ServiceLocationType" : "","ServiceRequestId" : "","Status" : "Approved", "SupervisorApprovalFlag" : "N", "SystemComments2" : "Assessed as eligible","Type" : "", "UnitofMeasure" : "", "YPPAmount" : "" ,"RowId" : ""}]}],	"Contact" : [{"SIN" : "123123123","Gender" : "Female","MiddleName" : "R","ICMContactId" : "1-4B1Z8XT ","BirthDate" : "04/20/1978","FirstName" : "Rainbow","LastName" : "Rita","Relationship" : "Key player","SpecialNeedsStatus" : "","ChildCareRequired" : "N","MinistryPlacementStatus" : "","SharedCustodyStatus" : "","CustodyDetail" : "","DisabilityStatus" : "Confirmed","Email" : "andrea.lloyd@gov.bc.ca","CellPhone" : "","HomePhone" : "3764091234","WorkPhone" : "2345678655",				"SPEIClient" : "N",				"PlacementType" : "",				"CareRequired" : "N",				"BCAssistance" : "N",				"FederalBenefits" : "N",				"MoreThan1Case" : "N",				"Income" : [ { 					"IncomeType" : "",					"RowId" : "",					"SubType" : "",					"Source" : "",					"Amount" : "20000.00",					"Frequency" : "",					"StartDate" : "07/25/2017 08:54:55",					"EndDate" : "",					"CaseType" : "",					"SamplePayFrequency" : "",					"ConversionFactor" : "",					"Sample1DatePaid" : "09/19/2015",					"Sample1PayPeriodStart" : "09/19/2015",					"Sample1PayPeriodEnd" : "",					"Sample1NetPay" : "375.00",					"Sample1Adjustments" : "25.00",					"Sample1TotalAmount" : "350.00",					"NoSample2Flag" : "N",					"Sample2DatePaid" : "04/19/2015",					"Sample2PayPeriodStart" : "04/19/2015",					"Sample2PayPeriodEnd" : "",					"Sample2NetPay" : "300.00",					"Sample2Adjustments" : "50.00",					"Sample2TotalAmount" : "250.00",					"TotalNetPay" : "230000.00",					"TotatAdjustments" : "300.00",					"TotalIncome" : "20000.00"				}],				"RFC" : [ { 					"Reason" : "",					"Name" : "",					"StartDate" : "09/19/2015",					"EndDate" : "",					"WeekdayDays" : "5",					"WeekdayHours" : "30",					"StartTime" : "08:00:00",					"EndTime" : "15:00:00",					"WeekendDays" : "2",					"WeekendHours" : "7",					"TravelTime" : "",					"Comments" : "",					"RowId" : ""				}]				}, 				{ 				"SIN" : "", 				"Gender" : "Male", 				"MiddleName" : "R", 				"ICMContactId" : "1-4B1ZHMI ", 				"BirthDate" : "08/31/1982", 				"FirstName" : "Ralph", 				"LastName" : "Rainbow", 				"Relationship" : "Spouse", 				"SpecialNeedsStatus" : "", 				"ChildCareRequired" : "", 				"MinistryPlacementStatus" : "", 				"SharedCustodyStatus" : "", 				"CustodyDetail" : "", 				"DisabilityStatus" : "", 				"Email" : "", 				"CellPhone" : "123-123-1234", 				"HomePhone" : "123-123-1234", 				"WorkPhone" : "123-123-1234",				"SPEIClient" : "N",				"PlacementType" : "",				"CareRequired" : "N",				"BCAssistance" : "N",				"FederalBenefits" : "N",				"MoreThan1Case" : "N",				"Income" : [ { 					"IncomeType" : "",					"RowId" : "",					"SubType" : "",					"Source" : "",					"Amount" : "20000.00",					"Frequency" : "",					"StartDate" : "07/25/2017 08:54:55",					"EndDate" : "",					"CaseType" : "",					"SamplePayFrequency" : "",					"ConversionFactor" : "",					"Sample1DatePaid" : "09/19/2015",					"Sample1PayPeriodStart" : "09/19/2015",					"Sample1PayPeriodEnd" : "",					"Sample1NetPay" : "375.00",					"Sample1Adjustments" : "25.00",					"Sample1TotalAmount" : "350.00",					"NoSample2Flag" : "N",					"Sample2DatePaid" : "04/19/2015",					"Sample2PayPeriodStart" : "04/19/2015",					"Sample2PayPeriodEnd" : "",					"Sample2NetPay" : "300.00",					"Sample2Adjustments" : "50.00",					"Sample2TotalAmount" : "250.00",					"TotalNetPay" : "230000.00",					"TotatAdjustments" : "300.00",					"TotalIncome" : "20000.00"				}],				"RFC" : [ { 					"Reason" : "",					"Name" : "",					"StartDate" : "09/19/2015",					"EndDate" : "",					"WeekdayDays" : "5",					"WeekdayHours" : "30",					"StartTime" : "08:00:00",					"EndTime" : "15:00:00",					"WeekendDays" : "2",					"WeekendHours" : "7",					"TravelTime" : "",					"Comments" : "",					"RowId" : ""				}]				}, 				{ 				"SIN" : "", 				"Gender" : "Female", 				"MiddleName" : "Goldie", 				"ICMContactId" : "1-CHILD01", 				"BirthDate" : "09/05/2007", 				"FirstName" : "Gretta", 				"LastName" : "Gold", 				"Relationship" : "Daughter", 				"SpecialNeedsStatus" : "Reported", 				"ChildCareRequired" : "N", 				"MinistryPlacementStatus" : "Y", 				"SharedCustodyStatus" : "Y", 				"CustodyDetail" : "Custody on weekdays", 				"DisabilityStatus" : "", 				"Email" : "", 				"CellPhone" : "123-123-1234", 				"HomePhone" : "123-123-1234", 				"WorkPhone" : "123-123-1234",				"SPEIClient" : "N",				"PlacementType" : "",				"CareRequired" : "N",				"BCAssistance" : "N",				"FederalBenefits" : "N",				"MoreThan1Case" : "N"}, 				{ 				"SIN" : "", 				"Gender" : "Male", 				"MiddleName" : "Orion", 				"ICMContactId" : "1-CHILD02", 				"BirthDate" : "09/05/2007", 				"FirstName" : "Oliver", 				"LastName" : "Orange", 				"Relationship" : "Son", 				"SpecialNeedsStatus" : "", 				"ChildCareRequired" : "Y", 				"MinistryPlacementStatus" : "Y", 				"SharedCustodyStatus" : "Y", 				"CustodyDetail" : "Custody on weekdays", 				"DisabilityStatus" : "", 				"Email" : "", 				"CellPhone" : "123-123-1234", 				"HomePhone" : "123-123-1234", 				"WorkPhone" : "123-123-1234",				"SPEIClient" : "N",				"PlacementType" : "",				"CareRequired" : "N",				"BCAssistance" : "N",				"FederalBenefits" : "N",				"MoreThan1Case" : "N"}, 				{ 				"SIN" : "", 				"Gender" : "Female", 				"MiddleName" : "Buddy", 				"ICMContactId" : "1-CHILD03", 				"BirthDate" : "09/05/2007", 				"FirstName" : "Bobbie", 				"LastName" : "Bronze", 				"Relationship" : "Daughter", 				"SpecialNeedsStatus" : "", 				"ChildCareRequired" : "Y", 				"MinistryPlacementStatus" : "Y", 				"SharedCustodyStatus" : "Y", 				"CustodyDetail" : "Custody on weekdays", 				"DisabilityStatus" : "", 				"Email" : "", 				"CellPhone" : "123-123-1234", 				"HomePhone" : "123-123-1234", 				"WorkPhone" : "123-123-1234",				"SPEIClient" : "N",				"PlacementType" : "",				"CareRequired" : "N",				"BCAssistance" : "N",				"FederalBenefits" : "N",				"MoreThan1Case" : "N"			}],			"Attachment" : [{				"Type" : "",				"Template" : "",				"FileName" : "","Status" : "Approved","Category" : "","SubCategory" : "","RowId" : ""}]}]}}';
			returnedRequest = MCFD_CallICMForContactDetails.createCCSRenewal(renewalString1);
			MCFD_CallICMForContactDetails.updateRenewalRequest(renewalString1,returnedRequest);

			String renewalString2 = '{ "docPortalResponse" : {"HlsCase" : [{"CaseNum" : "1-3333-3333","Status" : "Open","Type" : "Child Care Subsidy","SpouseLivingAway" : "Y","SpousalConsentFlagCalc" : "Y",			"TranslatorRequired" : "Y",			"TotalMonthlyIncome" : "3000.00",			"IncomeLastVerifiedDate" : "09/30/2017",			"DocumentsOutstanding" : "",			"DocumentsComments" : "",			"FAIRCCompleted" : "09/30/2017",			"RenewReviewDate" : "",			"RowId" : "",			"CaseAddress" : [{				"UnitNum" : "102", 				"Line1" : "45749 Spadina Ave", 				"Line2" : "More Address", 				"City" : "Chilliwack", 				"PostalCode" : "V2P 1T5", 				"Province" : "BC",				"MAKID" : "" 				}],"PubCaseBenefitPlan" : [{				"AllocationAmount" : "0", 				"ApprovedBy" : "CGWRK33", 				"ApprovedDate" : "07/25/2017 08:54:55", 				"ApprovedOrders" : "", 				"BenefitPlanNum" : "", 				"BenefitPlanType" : "Benefit Plan", 				"CloseReason" : "", 				"Comments" : "", 				"Commitment" : "0", 				"CreatedByOffice" : "XWB - CHILD CARE SUBSIDY SERV", 				"EndPeriod" : "Jun 2017", 				"FamilyIncome" : "290", 				"FamilyType" : "Two Parents", 				"InCycleAllocationCalc" : "0", 				"InCycleRemainderCalc" : "0", 				"LockedFlag" : "N", 				"Name2" : "Pass port", 				"OutofCycleAllocationCalc" : "0", 				"OutofCycleRemainderCalc" : "0", 				"PlanExpiryDate" : "11/30/2017", 				"PlanName" : "", 				"PlanStartDate" : "09/01/2017", 				"ProgramArea" : "", 				"ProgramLength" : "", 				"ProgramName" : "CCS Adjustment Benefit Plan", 				"RemainderAmount" : "750", 				"ServicePlan" : "", 				"StartPeriod" : "Jun 2017", 				"Status" : "Approved", 				"SystemComments" : "Assessed as eligible", 				"TotalAmount" : "750", 				"TotalInCycleAmountCalc" : "", 				"TotalOutofCycleAmountCalc" : "750", 				"TransitArea" : "", 				"TransitRate" : "", 				"RowId" : "",				"VSFTotalAmount" : "0", 				"PubCaseBenefitPlanLineItem" : [{"ActualAmount" : "","BenefitAmount" : "100","BenefitId" : "1-4ATHV4B","BenefitName2" : "Licensed Family", "CFCSAmount" : "","CancellationDate" : "", "CaseOfficeName" : "XWB - CHILD CARE SUBSIDY SERV","Comments" : "","CostCare" : "1000","CreatedByOffice" : "XWB - CHILD CARE SUBSIDY SERV","EffectiveDate" : "06/01/2017","EstimatedAmount" : "","ExpirationDate" : "09/30/2017","FamilyUnitFlag" : "N","FirstPaymentDate" : "","Frequency" : "Monthly","FullDayRate" : "37.50", "FullDays" : "5","Funder" : "","HalfDayRate" : "18.75", "HalfDays" : "5","InCycleFlag" : "N","LockedFlag" : "N","OPAAmountPaid" : "", "OPABenefitMonth" : "","OPADeterminedAmount" : "","OPAMaritalStatus" : "","OverriddenBy" : "", "OverrideDate" : "","OverrideFlag" : "N","ParentPortionAmount" : "0","Period" : "","PeriodAdjusted" : "","Product" : "G1","ProductSTOB" : "7916", "ProductServiceId" : "","ProviderName" : "Denied Adjustment BP/BL And this is a really really really really really really really long name","Quantity" : "","ReasonCare" : "Employed","RecipientContactFirstName" : "Gretta And this is a reall", "RecipientContactLastName" : "Gold","RecipientContactId" : "1-CHILD01","RecipientContactMiddleName" : "Goldie","RecurringPaymentAmount" : "","ServiceLocationType" : "","ServiceRequestId" : "","Status" : "Approved", "SupervisorApprovalFlag" : "N", "SystemComments2" : "Assessed as eligible","Type" : "", "UnitofMeasure" : "", "YPPAmount" : "" ,"RowId" : ""}]}],	"Contact" : [{"SIN" : "123123123","Gender" : "Female","MiddleName" : "R","ICMContactId" : "1-4B1Z8XT ","BirthDate" : "04/20/1978","FirstName" : "Rainbow","LastName" : "Rita","Relationship" : "Key player","SpecialNeedsStatus" : "","ChildCareRequired" : "N","MinistryPlacementStatus" : "","SharedCustodyStatus" : "","CustodyDetail" : "","DisabilityStatus" : "Confirmed","Email" : "andrea.lloyd@gov.bc.ca","CellPhone" : "","HomePhone" : "","WorkPhone" : "2345678655",				"SPEIClient" : "N",				"PlacementType" : "",				"CareRequired" : "N",				"BCAssistance" : "N",				"FederalBenefits" : "N",				"MoreThan1Case" : "N",				"Income" : [ { 					"IncomeType" : "",					"RowId" : "",					"SubType" : "",					"Source" : "",					"Amount" : "20000.00",					"Frequency" : "",					"StartDate" : "07/25/2017 08:54:55",					"EndDate" : "",					"CaseType" : "",					"SamplePayFrequency" : "",					"ConversionFactor" : "",					"Sample1DatePaid" : "09/19/2015",					"Sample1PayPeriodStart" : "09/19/2015",					"Sample1PayPeriodEnd" : "",					"Sample1NetPay" : "375.00",					"Sample1Adjustments" : "25.00",					"Sample1TotalAmount" : "350.00",					"NoSample2Flag" : "N",					"Sample2DatePaid" : "04/19/2015",					"Sample2PayPeriodStart" : "04/19/2015",					"Sample2PayPeriodEnd" : "",					"Sample2NetPay" : "300.00",					"Sample2Adjustments" : "50.00",					"Sample2TotalAmount" : "250.00",					"TotalNetPay" : "230000.00",					"TotatAdjustments" : "300.00",					"TotalIncome" : "20000.00"				}],				"RFC" : [ { 					"Reason" : "",					"Name" : "",					"StartDate" : "09/19/2015",					"EndDate" : "",					"WeekdayDays" : "5",					"WeekdayHours" : "30",					"StartTime" : "08:00:00",					"EndTime" : "15:00:00",					"WeekendDays" : "2",					"WeekendHours" : "7",					"TravelTime" : "",					"Comments" : "",					"RowId" : ""				}]				}, 				{ 				"SIN" : "", 				"Gender" : "Male", 				"MiddleName" : "R", 				"ICMContactId" : "1-4B1ZHMI ", 				"BirthDate" : "08/31/1982", 				"FirstName" : "Ralph", 				"LastName" : "Rainbow", 				"Relationship" : "Spouse", 				"SpecialNeedsStatus" : "", 				"ChildCareRequired" : "", 				"MinistryPlacementStatus" : "", 				"SharedCustodyStatus" : "", 				"CustodyDetail" : "", 				"DisabilityStatus" : "", 				"Email" : "", 				"CellPhone" : "123-123-1234", 				"HomePhone" : "123-123-1234", 				"WorkPhone" : "123-123-1234",				"SPEIClient" : "N",				"PlacementType" : "",				"CareRequired" : "N",				"BCAssistance" : "N",				"FederalBenefits" : "N",				"MoreThan1Case" : "N",				"Income" : [ { 					"IncomeType" : "",					"RowId" : "",					"SubType" : "",					"Source" : "",					"Amount" : "20000.00",					"Frequency" : "",					"StartDate" : "07/25/2017 08:54:55",					"EndDate" : "",					"CaseType" : "",					"SamplePayFrequency" : "",					"ConversionFactor" : "",					"Sample1DatePaid" : "09/19/2015",					"Sample1PayPeriodStart" : "09/19/2015",					"Sample1PayPeriodEnd" : "",					"Sample1NetPay" : "375.00",					"Sample1Adjustments" : "25.00",					"Sample1TotalAmount" : "350.00",					"NoSample2Flag" : "N",					"Sample2DatePaid" : "04/19/2015",					"Sample2PayPeriodStart" : "04/19/2015",					"Sample2PayPeriodEnd" : "",					"Sample2NetPay" : "300.00",					"Sample2Adjustments" : "50.00",					"Sample2TotalAmount" : "250.00",					"TotalNetPay" : "230000.00",					"TotatAdjustments" : "300.00",					"TotalIncome" : "20000.00"				}],				"RFC" : [ { 					"Reason" : "",					"Name" : "",					"StartDate" : "09/19/2015",					"EndDate" : "",					"WeekdayDays" : "5",					"WeekdayHours" : "30",					"StartTime" : "08:00:00",					"EndTime" : "15:00:00",					"WeekendDays" : "2",					"WeekendHours" : "7",					"TravelTime" : "",					"Comments" : "",					"RowId" : ""				}]				}, 				{ 				"SIN" : "", 				"Gender" : "Female", 				"MiddleName" : "Goldie", 				"ICMContactId" : "1-CHILD01", 				"BirthDate" : "09/05/2007", 				"FirstName" : "Gretta", 				"LastName" : "Gold", 				"Relationship" : "Daughter", 				"SpecialNeedsStatus" : "Reported", 				"ChildCareRequired" : "N", 				"MinistryPlacementStatus" : "Y", 				"SharedCustodyStatus" : "Y", 				"CustodyDetail" : "Custody on weekdays", 				"DisabilityStatus" : "", 				"Email" : "", 				"CellPhone" : "123-123-1234", 				"HomePhone" : "123-123-1234", 				"WorkPhone" : "123-123-1234",				"SPEIClient" : "N",				"PlacementType" : "",				"CareRequired" : "N",				"BCAssistance" : "N",				"FederalBenefits" : "N",				"MoreThan1Case" : "N"}, 				{ 				"SIN" : "", 				"Gender" : "Male", 				"MiddleName" : "Orion", 				"ICMContactId" : "1-CHILD02", 				"BirthDate" : "09/05/2007", 				"FirstName" : "Oliver", 				"LastName" : "Orange", 				"Relationship" : "Son", 				"SpecialNeedsStatus" : "", 				"ChildCareRequired" : "Y", 				"MinistryPlacementStatus" : "Y", 				"SharedCustodyStatus" : "Y", 				"CustodyDetail" : "Custody on weekdays", 				"DisabilityStatus" : "", 				"Email" : "", 				"CellPhone" : "123-123-1234", 				"HomePhone" : "123-123-1234", 				"WorkPhone" : "123-123-1234",				"SPEIClient" : "N",				"PlacementType" : "",				"CareRequired" : "N",				"BCAssistance" : "N",				"FederalBenefits" : "N",				"MoreThan1Case" : "N"}, 				{ 				"SIN" : "", 				"Gender" : "Female", 				"MiddleName" : "Buddy", 				"ICMContactId" : "1-CHILD03", 				"BirthDate" : "09/05/2007", 				"FirstName" : "Bobbie", 				"LastName" : "Bronze", 				"Relationship" : "Daughter", 				"SpecialNeedsStatus" : "", 				"ChildCareRequired" : "Y", 				"MinistryPlacementStatus" : "Y", 				"SharedCustodyStatus" : "Y", 				"CustodyDetail" : "Custody on weekdays", 				"DisabilityStatus" : "", 				"Email" : "", 				"CellPhone" : "123-123-1234", 				"HomePhone" : "123-123-1234", 				"WorkPhone" : "123-123-1234",				"SPEIClient" : "N",				"PlacementType" : "",				"CareRequired" : "N",				"BCAssistance" : "N",				"FederalBenefits" : "N",				"MoreThan1Case" : "N"			}],			"Attachment" : [{				"Type" : "",				"Template" : "",				"FileName" : "","Status" : "Approved","Category" : "","SubCategory" : "","RowId" : ""}]}]}}';
			returnedRequest = MCFD_CallICMForContactDetails.createCCSRenewal(renewalString2);
			MCFD_CallICMForContactDetails.updateRenewalRequest(renewalString2,returnedRequest);

			String renewalString3 = '{ "docPortalResponse" : {"HlsCase" : [{"CaseNum" : "1-3333-3333","Status" : "Open","Type" : "Child Care Subsidy","SpouseLivingAway" : "Y","SpousalConsentFlagCalc" : "Y",			"TranslatorRequired" : "Y",			"TotalMonthlyIncome" : "3000.00",			"IncomeLastVerifiedDate" : "09/30/2017",			"DocumentsOutstanding" : "",			"DocumentsComments" : "",			"FAIRCCompleted" : "09/30/2017",			"RenewReviewDate" : "",			"RowId" : "",			"CaseAddress" : [{				"UnitNum" : "102", 				"Line1" : "45749 Spadina Ave", 				"Line2" : "More Address", 				"City" : "Chilliwack", 				"PostalCode" : "V2P 1T5", 				"Province" : "BC",				"MAKID" : "" 				}],"PubCaseBenefitPlan" : [{				"AllocationAmount" : "0", 				"ApprovedBy" : "CGWRK33", 				"ApprovedDate" : "07/25/2017 08:54:55", 				"ApprovedOrders" : "", 				"BenefitPlanNum" : "", 				"BenefitPlanType" : "Benefit Plan", 				"CloseReason" : "", 				"Comments" : "", 				"Commitment" : "0", 				"CreatedByOffice" : "XWB - CHILD CARE SUBSIDY SERV", 				"EndPeriod" : "Jun 2017", 				"FamilyIncome" : "290", 				"FamilyType" : "Two Parents", 				"InCycleAllocationCalc" : "0", 				"InCycleRemainderCalc" : "0", 				"LockedFlag" : "N", 				"Name2" : "Pass port", 				"OutofCycleAllocationCalc" : "0", 				"OutofCycleRemainderCalc" : "0", 				"PlanExpiryDate" : "11/30/2017", 				"PlanName" : "", 				"PlanStartDate" : "09/01/2017", 				"ProgramArea" : "", 				"ProgramLength" : "", 				"ProgramName" : "CCS Adjustment Benefit Plan", 				"RemainderAmount" : "750", 				"ServicePlan" : "", 				"StartPeriod" : "Jun 2017", 				"Status" : "Approved", 				"SystemComments" : "Assessed as eligible", 				"TotalAmount" : "750", 				"TotalInCycleAmountCalc" : "", 				"TotalOutofCycleAmountCalc" : "750", 				"TransitArea" : "", 				"TransitRate" : "", 				"RowId" : "",				"VSFTotalAmount" : "0", 				"PubCaseBenefitPlanLineItem" : [{"ActualAmount" : "","BenefitAmount" : "100","BenefitId" : "1-4ATHV4B","BenefitName2" : "Registered Licence Not Rquired", "CFCSAmount" : "","CancellationDate" : "", "CaseOfficeName" : "XWB - CHILD CARE SUBSIDY SERV","Comments" : "","CostCare" : "1000","CreatedByOffice" : "XWB - CHILD CARE SUBSIDY SERV","EffectiveDate" : "06/01/2017","EstimatedAmount" : "","ExpirationDate" : "09/30/2017","FamilyUnitFlag" : "N","FirstPaymentDate" : "","Frequency" : "Monthly","FullDayRate" : "37.50", "FullDays" : "5","Funder" : "","HalfDayRate" : "18.75", "HalfDays" : "5","InCycleFlag" : "N","LockedFlag" : "N","OPAAmountPaid" : "", "OPABenefitMonth" : "","OPADeterminedAmount" : "","OPAMaritalStatus" : "","OverriddenBy" : "", "OverrideDate" : "","OverrideFlag" : "N","ParentPortionAmount" : "0","Period" : "","PeriodAdjusted" : "","Product" : "G1","ProductSTOB" : "7916", "ProductServiceId" : "","ProviderName" : "Denied Adjustment BP/BL And this is a really really really really really really really long name","Quantity" : "","ReasonCare" : "Employed","RecipientContactFirstName" : "Gretta And this is a reall", "RecipientContactLastName" : "Gold","RecipientContactId" : "1-CHILD01","RecipientContactMiddleName" : "Goldie","RecurringPaymentAmount" : "","ServiceLocationType" : "","ServiceRequestId" : "","Status" : "Approved", "SupervisorApprovalFlag" : "N", "SystemComments2" : "Assessed as eligible","Type" : "", "UnitofMeasure" : "", "YPPAmount" : "" ,"RowId" : ""}]}],	"Contact" : [{"SIN" : "123123123","Gender" : "Female","MiddleName" : "R","ICMContactId" : "1-4B1Z8XT ","BirthDate" : "04/20/1978","FirstName" : "Rainbow","LastName" : "Rita","Relationship" : "Key player","SpecialNeedsStatus" : "","ChildCareRequired" : "N","MinistryPlacementStatus" : "","SharedCustodyStatus" : "","CustodyDetail" : "","DisabilityStatus" : "Confirmed","Email" : "andrea.lloyd@gov.bc.ca","CellPhone" : "","HomePhone" : "3764091234","WorkPhone" : "2345678655",				"SPEIClient" : "N",				"PlacementType" : "",				"CareRequired" : "N",				"BCAssistance" : "N",				"FederalBenefits" : "N",				"MoreThan1Case" : "N",				"Income" : [ { 					"IncomeType" : "",					"RowId" : "",					"SubType" : "",					"Source" : "",					"Amount" : "20000.00",					"Frequency" : "",					"StartDate" : "07/25/2017 08:54:55",					"EndDate" : "",					"CaseType" : "",					"SamplePayFrequency" : "",					"ConversionFactor" : "",					"Sample1DatePaid" : "09/19/2015",					"Sample1PayPeriodStart" : "09/19/2015",					"Sample1PayPeriodEnd" : "",					"Sample1NetPay" : "375.00",					"Sample1Adjustments" : "25.00",					"Sample1TotalAmount" : "350.00",					"NoSample2Flag" : "N",					"Sample2DatePaid" : "04/19/2015",					"Sample2PayPeriodStart" : "04/19/2015",					"Sample2PayPeriodEnd" : "",					"Sample2NetPay" : "300.00",					"Sample2Adjustments" : "50.00",					"Sample2TotalAmount" : "250.00",					"TotalNetPay" : "230000.00",					"TotatAdjustments" : "300.00",					"TotalIncome" : "20000.00"				}],				"RFC" : [ { 					"Reason" : "",					"Name" : "",					"StartDate" : "09/19/2015",					"EndDate" : "",					"WeekdayDays" : "5",					"WeekdayHours" : "30",					"StartTime" : "08:00:00",					"EndTime" : "15:00:00",					"WeekendDays" : "2",					"WeekendHours" : "7",					"TravelTime" : "",					"Comments" : "",					"RowId" : ""				}]				}, 				{ 				"SIN" : "", 				"Gender" : "Male", 				"MiddleName" : "R", 				"ICMContactId" : "1-4B1ZHMI ", 				"BirthDate" : "08/31/1982", 				"FirstName" : "Ralph", 				"LastName" : "Rainbow", 				"Relationship" : "Spouse", 				"SpecialNeedsStatus" : "", 				"ChildCareRequired" : "", 				"MinistryPlacementStatus" : "", 				"SharedCustodyStatus" : "", 				"CustodyDetail" : "", 				"DisabilityStatus" : "", 				"Email" : "", 				"CellPhone" : "123-123-1234", 				"HomePhone" : "123-123-1234", 				"WorkPhone" : "123-123-1234",				"SPEIClient" : "N",				"PlacementType" : "",				"CareRequired" : "N",				"BCAssistance" : "N",				"FederalBenefits" : "N",				"MoreThan1Case" : "N",				"Income" : [ { 					"IncomeType" : "",					"RowId" : "",					"SubType" : "",					"Source" : "",					"Amount" : "20000.00",					"Frequency" : "",					"StartDate" : "07/25/2017 08:54:55",					"EndDate" : "",					"CaseType" : "",					"SamplePayFrequency" : "",					"ConversionFactor" : "",					"Sample1DatePaid" : "09/19/2015",					"Sample1PayPeriodStart" : "09/19/2015",					"Sample1PayPeriodEnd" : "",					"Sample1NetPay" : "375.00",					"Sample1Adjustments" : "25.00",					"Sample1TotalAmount" : "350.00",					"NoSample2Flag" : "N",					"Sample2DatePaid" : "04/19/2015",					"Sample2PayPeriodStart" : "04/19/2015",					"Sample2PayPeriodEnd" : "",					"Sample2NetPay" : "300.00",					"Sample2Adjustments" : "50.00",					"Sample2TotalAmount" : "250.00",					"TotalNetPay" : "230000.00",					"TotatAdjustments" : "300.00",					"TotalIncome" : "20000.00"				}],				"RFC" : [ { 					"Reason" : "",					"Name" : "",					"StartDate" : "09/19/2015",					"EndDate" : "",					"WeekdayDays" : "5",					"WeekdayHours" : "30",					"StartTime" : "08:00:00",					"EndTime" : "15:00:00",					"WeekendDays" : "2",					"WeekendHours" : "7",					"TravelTime" : "",					"Comments" : "",					"RowId" : ""				}]				}, 				{ 				"SIN" : "", 				"Gender" : "Female", 				"MiddleName" : "Goldie", 				"ICMContactId" : "1-CHILD01", 				"BirthDate" : "09/05/2007", 				"FirstName" : "Gretta", 				"LastName" : "Gold", 				"Relationship" : "Daughter", 				"SpecialNeedsStatus" : "Reported", 				"ChildCareRequired" : "N", 				"MinistryPlacementStatus" : "Y", 				"SharedCustodyStatus" : "Y", 				"CustodyDetail" : "Custody on weekdays", 				"DisabilityStatus" : "", 				"Email" : "", 				"CellPhone" : "123-123-1234", 				"HomePhone" : "123-123-1234", 				"WorkPhone" : "123-123-1234",				"SPEIClient" : "N",				"PlacementType" : "",				"CareRequired" : "N",				"BCAssistance" : "N",				"FederalBenefits" : "N",				"MoreThan1Case" : "N"}, 				{ 				"SIN" : "", 				"Gender" : "Male", 				"MiddleName" : "Orion", 				"ICMContactId" : "1-CHILD02", 				"BirthDate" : "09/05/2007", 				"FirstName" : "Oliver", 				"LastName" : "Orange", 				"Relationship" : "Son", 				"SpecialNeedsStatus" : "", 				"ChildCareRequired" : "Y", 				"MinistryPlacementStatus" : "Y", 				"SharedCustodyStatus" : "Y", 				"CustodyDetail" : "Custody on weekdays", 				"DisabilityStatus" : "", 				"Email" : "", 				"CellPhone" : "123-123-1234", 				"HomePhone" : "123-123-1234", 				"WorkPhone" : "123-123-1234",				"SPEIClient" : "N",				"PlacementType" : "",				"CareRequired" : "N",				"BCAssistance" : "N",				"FederalBenefits" : "N",				"MoreThan1Case" : "N"}, 				{ 				"SIN" : "", 				"Gender" : "Female", 				"MiddleName" : "Buddy", 				"ICMContactId" : "1-CHILD03", 				"BirthDate" : "09/05/2007", 				"FirstName" : "Bobbie", 				"LastName" : "Bronze", 				"Relationship" : "Daughter", 				"SpecialNeedsStatus" : "", 				"ChildCareRequired" : "Y", 				"MinistryPlacementStatus" : "Y", 				"SharedCustodyStatus" : "Y", 				"CustodyDetail" : "Custody on weekdays", 				"DisabilityStatus" : "", 				"Email" : "", 				"CellPhone" : "123-123-1234", 				"HomePhone" : "123-123-1234", 				"WorkPhone" : "123-123-1234",				"SPEIClient" : "N",				"PlacementType" : "",				"CareRequired" : "N",				"BCAssistance" : "N",				"FederalBenefits" : "N",				"MoreThan1Case" : "N"			}],			"Attachment" : [{				"Type" : "",				"Template" : "",				"FileName" : "","Status" : "Approved","Category" : "","SubCategory" : "","RowId" : ""}]}]}}';
			returnedRequest = MCFD_CallICMForContactDetails.createCCSRenewal(renewalString3);
			MCFD_CallICMForContactDetails.updateRenewalRequest(renewalString3,returnedRequest);

			String renewalString4 = '{ "docPortalResponse" : {"HlsCase" : [{"CaseNum" : "1-3333-3333","Status" : "Open","Type" : "Child Care Subsidy","SpouseLivingAway" : "Y","SpousalConsentFlagCalc" : "Y",			"TranslatorRequired" : "Y",			"TotalMonthlyIncome" : "3000.00",			"IncomeLastVerifiedDate" : "09/30/2017",			"DocumentsOutstanding" : "",			"DocumentsComments" : "",			"FAIRCCompleted" : "09/30/2017",			"RenewReviewDate" : "",			"RowId" : "",			"CaseAddress" : [{				"UnitNum" : "102", 				"Line1" : "45749 Spadina Ave", 				"Line2" : "More Address", 				"City" : "Chilliwack", 				"PostalCode" : "V2P 1T5", 				"Province" : "BC",				"MAKID" : "" 				}],"PubCaseBenefitPlan" : [{				"AllocationAmount" : "0", 				"ApprovedBy" : "CGWRK33", 				"ApprovedDate" : "07/25/2017 08:54:55", 				"ApprovedOrders" : "", 				"BenefitPlanNum" : "", 				"BenefitPlanType" : "Benefit Plan", 				"CloseReason" : "", 				"Comments" : "", 				"Commitment" : "0", 				"CreatedByOffice" : "XWB - CHILD CARE SUBSIDY SERV", 				"EndPeriod" : "Jun 2017", 				"FamilyIncome" : "290", 				"FamilyType" : "Two Parents", 				"InCycleAllocationCalc" : "0", 				"InCycleRemainderCalc" : "0", 				"LockedFlag" : "N", 				"Name2" : "Pass port", 				"OutofCycleAllocationCalc" : "0", 				"OutofCycleRemainderCalc" : "0", 				"PlanExpiryDate" : "11/30/2017", 				"PlanName" : "", 				"PlanStartDate" : "09/01/2017", 				"ProgramArea" : "", 				"ProgramLength" : "", 				"ProgramName" : "CCS Adjustment Benefit Plan", 				"RemainderAmount" : "750", 				"ServicePlan" : "", 				"StartPeriod" : "Jun 2017", 				"Status" : "Approved", 				"SystemComments" : "Assessed as eligible", 				"TotalAmount" : "750", 				"TotalInCycleAmountCalc" : "", 				"TotalOutofCycleAmountCalc" : "750", 				"TransitArea" : "", 				"TransitRate" : "", 				"RowId" : "",				"VSFTotalAmount" : "0", 				"PubCaseBenefitPlanLineItem" : [{"ActualAmount" : "","BenefitAmount" : "100","BenefitId" : "1-4ATHV4B","BenefitName2" : "Licence Not Required", "CFCSAmount" : "","CancellationDate" : "", "CaseOfficeName" : "XWB - CHILD CARE SUBSIDY SERV","Comments" : "","CostCare" : "1000","CreatedByOffice" : "XWB - CHILD CARE SUBSIDY SERV","EffectiveDate" : "06/01/2017","EstimatedAmount" : "","ExpirationDate" : "09/30/2017","FamilyUnitFlag" : "N","FirstPaymentDate" : "","Frequency" : "Monthly","FullDayRate" : "37.50", "FullDays" : "5","Funder" : "","HalfDayRate" : "18.75", "HalfDays" : "5","InCycleFlag" : "N","LockedFlag" : "N","OPAAmountPaid" : "", "OPABenefitMonth" : "","OPADeterminedAmount" : "","OPAMaritalStatus" : "","OverriddenBy" : "", "OverrideDate" : "","OverrideFlag" : "N","ParentPortionAmount" : "0","Period" : "","PeriodAdjusted" : "","Product" : "G1","ProductSTOB" : "7916", "ProductServiceId" : "","ProviderName" : "Denied Adjustment BP/BL And this is a really really really really really really really long name","Quantity" : "","ReasonCare" : "Employed","RecipientContactFirstName" : "Gretta And this is a reall", "RecipientContactLastName" : "Gold","RecipientContactId" : "1-CHILD01","RecipientContactMiddleName" : "Goldie","RecurringPaymentAmount" : "","ServiceLocationType" : "","ServiceRequestId" : "","Status" : "Approved", "SupervisorApprovalFlag" : "N", "SystemComments2" : "Assessed as eligible","Type" : "", "UnitofMeasure" : "", "YPPAmount" : "" ,"RowId" : ""}]}],	"Contact" : [{"SIN" : "123123123","Gender" : "Female","MiddleName" : "R","ICMContactId" : "1-4B1Z8XT ","BirthDate" : "04/20/1978","FirstName" : "Rainbow","LastName" : "Rita","Relationship" : "Key player","SpecialNeedsStatus" : "","ChildCareRequired" : "N","MinistryPlacementStatus" : "","SharedCustodyStatus" : "","CustodyDetail" : "","DisabilityStatus" : "Confirmed","Email" : "andrea.lloyd@gov.bc.ca","CellPhone" : "7676870999","HomePhone" : "","WorkPhone" : "2345678655",				"SPEIClient" : "N",				"PlacementType" : "",				"CareRequired" : "N",				"BCAssistance" : "N",				"FederalBenefits" : "N",				"MoreThan1Case" : "N",				"Income" : [ { 					"IncomeType" : "",					"RowId" : "",					"SubType" : "",					"Source" : "",					"Amount" : "20000.00",					"Frequency" : "",					"StartDate" : "07/25/2017 08:54:55",					"EndDate" : "",					"CaseType" : "",					"SamplePayFrequency" : "",					"ConversionFactor" : "",					"Sample1DatePaid" : "09/19/2015",					"Sample1PayPeriodStart" : "09/19/2015",					"Sample1PayPeriodEnd" : "",					"Sample1NetPay" : "375.00",					"Sample1Adjustments" : "25.00",					"Sample1TotalAmount" : "350.00",					"NoSample2Flag" : "N",					"Sample2DatePaid" : "04/19/2015",					"Sample2PayPeriodStart" : "04/19/2015",					"Sample2PayPeriodEnd" : "",					"Sample2NetPay" : "300.00",					"Sample2Adjustments" : "50.00",					"Sample2TotalAmount" : "250.00",					"TotalNetPay" : "230000.00",					"TotatAdjustments" : "300.00",					"TotalIncome" : "20000.00"				}],				"RFC" : [ { 					"Reason" : "",					"Name" : "",					"StartDate" : "09/19/2015",					"EndDate" : "",					"WeekdayDays" : "5",					"WeekdayHours" : "30",					"StartTime" : "08:00:00",					"EndTime" : "15:00:00",					"WeekendDays" : "2",					"WeekendHours" : "7",					"TravelTime" : "",					"Comments" : "",					"RowId" : ""				}]				}, 				{ 				"SIN" : "", 				"Gender" : "Male", 				"MiddleName" : "R", 				"ICMContactId" : "1-4B1ZHMI ", 				"BirthDate" : "08/31/1982", 				"FirstName" : "Ralph", 				"LastName" : "Rainbow", 				"Relationship" : "Spouse", 				"SpecialNeedsStatus" : "", 				"ChildCareRequired" : "", 				"MinistryPlacementStatus" : "", 				"SharedCustodyStatus" : "", 				"CustodyDetail" : "", 				"DisabilityStatus" : "", 				"Email" : "", 				"CellPhone" : "123-123-1234", 				"HomePhone" : "123-123-1234", 				"WorkPhone" : "123-123-1234",				"SPEIClient" : "N",				"PlacementType" : "",				"CareRequired" : "N",				"BCAssistance" : "N",				"FederalBenefits" : "N",				"MoreThan1Case" : "N",				"Income" : [ { 					"IncomeType" : "",					"RowId" : "",					"SubType" : "",					"Source" : "",					"Amount" : "20000.00",					"Frequency" : "",					"StartDate" : "07/25/2017 08:54:55",					"EndDate" : "",					"CaseType" : "",					"SamplePayFrequency" : "",					"ConversionFactor" : "",					"Sample1DatePaid" : "09/19/2015",					"Sample1PayPeriodStart" : "09/19/2015",					"Sample1PayPeriodEnd" : "",					"Sample1NetPay" : "375.00",					"Sample1Adjustments" : "25.00",					"Sample1TotalAmount" : "350.00",					"NoSample2Flag" : "N",					"Sample2DatePaid" : "04/19/2015",					"Sample2PayPeriodStart" : "04/19/2015",					"Sample2PayPeriodEnd" : "",					"Sample2NetPay" : "300.00",					"Sample2Adjustments" : "50.00",					"Sample2TotalAmount" : "250.00",					"TotalNetPay" : "230000.00",					"TotatAdjustments" : "300.00",					"TotalIncome" : "20000.00"				}],				"RFC" : [ { 					"Reason" : "",					"Name" : "",					"StartDate" : "09/19/2015",					"EndDate" : "",					"WeekdayDays" : "5",					"WeekdayHours" : "30",					"StartTime" : "08:00:00",					"EndTime" : "15:00:00",					"WeekendDays" : "2",					"WeekendHours" : "7",					"TravelTime" : "",					"Comments" : "",					"RowId" : ""				}]				}, 				{ 				"SIN" : "", 				"Gender" : "Female", 				"MiddleName" : "Goldie", 				"ICMContactId" : "1-CHILD01", 				"BirthDate" : "09/05/2007", 				"FirstName" : "Gretta", 				"LastName" : "Gold", 				"Relationship" : "Daughter", 				"SpecialNeedsStatus" : "Reported", 				"ChildCareRequired" : "N", 				"MinistryPlacementStatus" : "Y", 				"SharedCustodyStatus" : "Y", 				"CustodyDetail" : "Custody on weekdays", 				"DisabilityStatus" : "", 				"Email" : "", 				"CellPhone" : "123-123-1234", 				"HomePhone" : "123-123-1234", 				"WorkPhone" : "123-123-1234",				"SPEIClient" : "N",				"PlacementType" : "",				"CareRequired" : "N",				"BCAssistance" : "N",				"FederalBenefits" : "N",				"MoreThan1Case" : "N"}, 				{ 				"SIN" : "", 				"Gender" : "Male", 				"MiddleName" : "Orion", 				"ICMContactId" : "1-CHILD02", 				"BirthDate" : "09/05/2007", 				"FirstName" : "Oliver", 				"LastName" : "Orange", 				"Relationship" : "Son", 				"SpecialNeedsStatus" : "", 				"ChildCareRequired" : "Y", 				"MinistryPlacementStatus" : "Y", 				"SharedCustodyStatus" : "Y", 				"CustodyDetail" : "Custody on weekdays", 				"DisabilityStatus" : "", 				"Email" : "", 				"CellPhone" : "123-123-1234", 				"HomePhone" : "123-123-1234", 				"WorkPhone" : "123-123-1234",				"SPEIClient" : "N",				"PlacementType" : "",				"CareRequired" : "N",				"BCAssistance" : "N",				"FederalBenefits" : "N",				"MoreThan1Case" : "N"}, 				{ 				"SIN" : "", 				"Gender" : "Female", 				"MiddleName" : "Buddy", 				"ICMContactId" : "1-CHILD03", 				"BirthDate" : "09/05/2007", 				"FirstName" : "Bobbie", 				"LastName" : "Bronze", 				"Relationship" : "Daughter", 				"SpecialNeedsStatus" : "", 				"ChildCareRequired" : "Y", 				"MinistryPlacementStatus" : "Y", 				"SharedCustodyStatus" : "Y", 				"CustodyDetail" : "Custody on weekdays", 				"DisabilityStatus" : "", 				"Email" : "", 				"CellPhone" : "123-123-1234", 				"HomePhone" : "123-123-1234", 				"WorkPhone" : "123-123-1234",				"SPEIClient" : "N",				"PlacementType" : "",				"CareRequired" : "N",				"BCAssistance" : "N",				"FederalBenefits" : "N",				"MoreThan1Case" : "N"			}],			"Attachment" : [{				"Type" : "",				"Template" : "",				"FileName" : "","Status" : "Approved","Category" : "","SubCategory" : "","RowId" : ""}]}]}}';
			returnedRequest = MCFD_CallICMForContactDetails.createCCSRenewal(renewalString4);
			MCFD_CallICMForContactDetails.updateRenewalRequest(renewalString4,returnedRequest);

			String renewalString5 = '{ "docPortalResponse" : {"HlsCase" : [{"CaseNum" : "1-3333-3333","Status" : "Open","Type" : "Child Care Subsidy","SpouseLivingAway" : "Y","SpousalConsentFlagCalc" : "Y",			"TranslatorRequired" : "Y",			"TotalMonthlyIncome" : "3000.00",			"IncomeLastVerifiedDate" : "09/30/2017",			"DocumentsOutstanding" : "",			"DocumentsComments" : "",			"FAIRCCompleted" : "09/30/2017",			"RenewReviewDate" : "",			"RowId" : "",			"CaseAddress" : [{				"UnitNum" : "102", 				"Line1" : "45749 Spadina Ave", 				"Line2" : "", 				"City" : "Chilliwack", 				"PostalCode" : "V2P 1T5", 				"Province" : "BC",				"MAKID" : "" 				}],"PubCaseBenefitPlan" : [{				"AllocationAmount" : "0", 				"ApprovedBy" : "CGWRK33", 				"ApprovedDate" : "07/25/2017 08:54:55", 				"ApprovedOrders" : "", 				"BenefitPlanNum" : "", 				"BenefitPlanType" : "Benefit Plan", 				"CloseReason" : "", 				"Comments" : "", 				"Commitment" : "0", 				"CreatedByOffice" : "XWB - CHILD CARE SUBSIDY SERV", 				"EndPeriod" : "Jun 2017", 				"FamilyIncome" : "290", 				"FamilyType" : "Two Parents", 				"InCycleAllocationCalc" : "0", 				"InCycleRemainderCalc" : "0", 				"LockedFlag" : "N", 				"Name2" : "Pass port", 				"OutofCycleAllocationCalc" : "0", 				"OutofCycleRemainderCalc" : "0", 				"PlanExpiryDate" : "11/30/2017", 				"PlanName" : "", 				"PlanStartDate" : "09/01/2017", 				"ProgramArea" : "", 				"ProgramLength" : "", 				"ProgramName" : "CCS Adjustment Benefit Plan", 				"RemainderAmount" : "750", 				"ServicePlan" : "", 				"StartPeriod" : "Jun 2017", 				"Status" : "Approved", 				"SystemComments" : "Assessed as eligible", 				"TotalAmount" : "750", 				"TotalInCycleAmountCalc" : "", 				"TotalOutofCycleAmountCalc" : "750", 				"TransitArea" : "", 				"TransitRate" : "", 				"RowId" : "",				"VSFTotalAmount" : "0", 				"PubCaseBenefitPlanLineItem" : [{"ActualAmount" : "","BenefitAmount" : "100","BenefitId" : "1-4ATHV4B","BenefitName2" : "In Childs Own Home", "CFCSAmount" : "","CancellationDate" : "", "CaseOfficeName" : "XWB - CHILD CARE SUBSIDY SERV","Comments" : "","CostCare" : "1000","CreatedByOffice" : "XWB - CHILD CARE SUBSIDY SERV","EffectiveDate" : "06/01/2017","EstimatedAmount" : "","ExpirationDate" : "09/30/2017","FamilyUnitFlag" : "N","FirstPaymentDate" : "","Frequency" : "Monthly","FullDayRate" : "37.50", "FullDays" : "5","Funder" : "","HalfDayRate" : "18.75", "HalfDays" : "5","InCycleFlag" : "N","LockedFlag" : "N","OPAAmountPaid" : "", "OPABenefitMonth" : "","OPADeterminedAmount" : "","OPAMaritalStatus" : "","OverriddenBy" : "", "OverrideDate" : "","OverrideFlag" : "N","ParentPortionAmount" : "0","Period" : "","PeriodAdjusted" : "","Product" : "G1","ProductSTOB" : "7916", "ProductServiceId" : "","ProviderName" : "Denied Adjustment BP/BL And this is a really really really really really really really long name","Quantity" : "","ReasonCare" : "Employed","RecipientContactFirstName" : "Gretta And this is a reall", "RecipientContactLastName" : "Gold","RecipientContactId" : "1-CHILD01","RecipientContactMiddleName" : "Goldie","RecurringPaymentAmount" : "","ServiceLocationType" : "","ServiceRequestId" : "","Status" : "Approved", "SupervisorApprovalFlag" : "N", "SystemComments2" : "Assessed as eligible","Type" : "", "UnitofMeasure" : "", "YPPAmount" : "" ,"RowId" : ""}]}],	"Contact" : [{"SIN" : "123123123","Gender" : "Female","MiddleName" : "R","ICMContactId" : "1-4B1Z8XT ","BirthDate" : "04/20/1978","FirstName" : "Rainbow","LastName" : "Rita","Relationship" : "Key player","SpecialNeedsStatus" : "","ChildCareRequired" : "N","MinistryPlacementStatus" : "","SharedCustodyStatus" : "","CustodyDetail" : "","DisabilityStatus" : "Confirmed","Email" : "andrea.lloyd@gov.bc.ca","CellPhone" : "","HomePhone" : "","WorkPhone" : "",				"SPEIClient" : "N",				"PlacementType" : "",				"CareRequired" : "N",				"BCAssistance" : "N",				"FederalBenefits" : "N",				"MoreThan1Case" : "N",				"Income" : [ { 					"IncomeType" : "",					"RowId" : "",					"SubType" : "",					"Source" : "",					"Amount" : "20000.00",					"Frequency" : "",					"StartDate" : "07/25/2017 08:54:55",					"EndDate" : "",					"CaseType" : "",					"SamplePayFrequency" : "",					"ConversionFactor" : "",					"Sample1DatePaid" : "09/19/2015",					"Sample1PayPeriodStart" : "09/19/2015",					"Sample1PayPeriodEnd" : "",					"Sample1NetPay" : "375.00",					"Sample1Adjustments" : "25.00",					"Sample1TotalAmount" : "350.00",					"NoSample2Flag" : "N",					"Sample2DatePaid" : "04/19/2015",					"Sample2PayPeriodStart" : "04/19/2015",					"Sample2PayPeriodEnd" : "",					"Sample2NetPay" : "300.00",					"Sample2Adjustments" : "50.00",					"Sample2TotalAmount" : "250.00",					"TotalNetPay" : "230000.00",					"TotatAdjustments" : "300.00",					"TotalIncome" : "20000.00"				}],				"RFC" : [ { 					"Reason" : "",					"Name" : "",					"StartDate" : "09/19/2015",					"EndDate" : "",					"WeekdayDays" : "5",					"WeekdayHours" : "30",					"StartTime" : "08:00:00",					"EndTime" : "15:00:00",					"WeekendDays" : "2",					"WeekendHours" : "7",					"TravelTime" : "",					"Comments" : "",					"RowId" : ""				}]				}, 				{ 				"SIN" : "", 				"Gender" : "Male", 				"MiddleName" : "R", 				"ICMContactId" : "1-4B1ZHMI ", 				"BirthDate" : "08/31/1982", 				"FirstName" : "Ralph", 				"LastName" : "Rainbow", 				"Relationship" : "Spouse", 				"SpecialNeedsStatus" : "", 				"ChildCareRequired" : "", 				"MinistryPlacementStatus" : "", 				"SharedCustodyStatus" : "", 				"CustodyDetail" : "", 				"DisabilityStatus" : "", 				"Email" : "", 				"CellPhone" : "123-123-1234", 				"HomePhone" : "123-123-1234", 				"WorkPhone" : "123-123-1234",				"SPEIClient" : "N",				"PlacementType" : "",				"CareRequired" : "N",				"BCAssistance" : "N",				"FederalBenefits" : "N",				"MoreThan1Case" : "N",				"Income" : [ { 					"IncomeType" : "",					"RowId" : "",					"SubType" : "",					"Source" : "",					"Amount" : "20000.00",					"Frequency" : "",					"StartDate" : "07/25/2017 08:54:55",					"EndDate" : "",					"CaseType" : "",					"SamplePayFrequency" : "",					"ConversionFactor" : "",					"Sample1DatePaid" : "09/19/2015",					"Sample1PayPeriodStart" : "09/19/2015",					"Sample1PayPeriodEnd" : "",					"Sample1NetPay" : "375.00",					"Sample1Adjustments" : "25.00",					"Sample1TotalAmount" : "350.00",					"NoSample2Flag" : "N",					"Sample2DatePaid" : "04/19/2015",					"Sample2PayPeriodStart" : "04/19/2015",					"Sample2PayPeriodEnd" : "",					"Sample2NetPay" : "300.00",					"Sample2Adjustments" : "50.00",					"Sample2TotalAmount" : "250.00",					"TotalNetPay" : "230000.00",					"TotatAdjustments" : "300.00",					"TotalIncome" : "20000.00"				}],				"RFC" : [ { 					"Reason" : "",					"Name" : "",					"StartDate" : "09/19/2015",					"EndDate" : "",					"WeekdayDays" : "5",					"WeekdayHours" : "30",					"StartTime" : "08:00:00",					"EndTime" : "15:00:00",					"WeekendDays" : "2",					"WeekendHours" : "7",					"TravelTime" : "",					"Comments" : "",					"RowId" : ""				}]				}, 				{ 				"SIN" : "", 				"Gender" : "Female", 				"MiddleName" : "Goldie", 				"ICMContactId" : "1-CHILD01", 				"BirthDate" : "09/05/2007", 				"FirstName" : "Gretta", 				"LastName" : "Gold", 				"Relationship" : "Daughter", 				"SpecialNeedsStatus" : "Reported", 				"ChildCareRequired" : "N", 				"MinistryPlacementStatus" : "Y", 				"SharedCustodyStatus" : "Y", 				"CustodyDetail" : "Custody on weekdays", 				"DisabilityStatus" : "", 				"Email" : "", 				"CellPhone" : "123-123-1234", 				"HomePhone" : "123-123-1234", 				"WorkPhone" : "123-123-1234",				"SPEIClient" : "N",				"PlacementType" : "",				"CareRequired" : "N",				"BCAssistance" : "N",				"FederalBenefits" : "N",				"MoreThan1Case" : "N"}, 				{ 				"SIN" : "", 				"Gender" : "Male", 				"MiddleName" : "Orion", 				"ICMContactId" : "1-CHILD02", 				"BirthDate" : "09/05/2007", 				"FirstName" : "Oliver", 				"LastName" : "Orange", 				"Relationship" : "Son", 				"SpecialNeedsStatus" : "", 				"ChildCareRequired" : "Y", 				"MinistryPlacementStatus" : "Y", 				"SharedCustodyStatus" : "Y", 				"CustodyDetail" : "Custody on weekdays", 				"DisabilityStatus" : "", 				"Email" : "", 				"CellPhone" : "123-123-1234", 				"HomePhone" : "123-123-1234", 				"WorkPhone" : "123-123-1234",				"SPEIClient" : "N",				"PlacementType" : "",				"CareRequired" : "N",				"BCAssistance" : "N",				"FederalBenefits" : "N",				"MoreThan1Case" : "N"}, 				{ 				"SIN" : "", 				"Gender" : "Female", 				"MiddleName" : "Buddy", 				"ICMContactId" : "1-CHILD03", 				"BirthDate" : "09/05/2007", 				"FirstName" : "Bobbie", 				"LastName" : "Bronze", 				"Relationship" : "Daughter", 				"SpecialNeedsStatus" : "", 				"ChildCareRequired" : "Y", 				"MinistryPlacementStatus" : "Y", 				"SharedCustodyStatus" : "Y", 				"CustodyDetail" : "Custody on weekdays", 				"DisabilityStatus" : "", 				"Email" : "", 				"CellPhone" : "123-123-1234", 				"HomePhone" : "123-123-1234", 				"WorkPhone" : "123-123-1234",				"SPEIClient" : "N",				"PlacementType" : "",				"CareRequired" : "N",				"BCAssistance" : "N",				"FederalBenefits" : "N",				"MoreThan1Case" : "N"			}],			"Attachment" : [{				"Type" : "",				"Template" : "",				"FileName" : "","Status" : "Approved","Category" : "","SubCategory" : "","RowId" : ""}]}]}}';
			returnedRequest = MCFD_CallICMForContactDetails.createCCSRenewal(renewalString5);
			MCFD_CallICMForContactDetails.updateRenewalRequest(renewalString5,returnedRequest);

		}
	}
	@isTest static void test_JSONCreation(){
		MCFD_CallICMForContactDetails.ContactJSON newContactJSON = new MCFD_CallICMForContactDetails.ContactJSON('123456789', 'female', 'test', '1234', '02/02/1992','test', 'test', 'Key player', 'Reported', 'Yes', 'Y', 'Y', 'Y', '', '', '', '', '');
		
		MCFD_CallICMForContactDetails.AddressJSON newAddressJSON = new MCFD_CallICMForContactDetails.AddressJSON('123', 'test', 'test', 'test', '1t12y2', 'test', 'test');

		MCFD_CallICMForContactDetails.BenefitJSON newBenefitJSON = new MCFD_CallICMForContactDetails.BenefitJSON('test', 'test', 'test');

		List<MCFD_CallICMForContactDetails.BenefitJSON> newList = new List<MCFD_CallICMForContactDetails.BenefitJSON>();
		MCFD_CallICMForContactDetails.BenefitPlanJSON newBenefitPlanJSON = new MCFD_CallICMForContactDetails.BenefitPlanJSON('test', 'test', newList);
	
		MCFD_CallICMForContactDetails.RequestJSON newRequestJSON = new MCFD_CallICMForContactDetails.RequestJSON('test', 'test', 'test', 'test', 'test','test','test', 'test', 'test');
		
		Contact newContact = new Contact();
		MCFD_CallICMForContactDetails.ContactWrapper newContactWrapper = new MCFD_CallICMForContactDetails.ContactWrapper(newContact);

	}
	
	@isTest static void test_method_five() {
		

		User objuser = MCFD_TestDataHelper_Test.getCommunityUser('1-407SJCD');
           
        System.RunAs(objuser){ 

		    Request__c request = new Request__c();
			//set it to rtp record type
			List<RecordType> rtp = [SELECT Id, Name FROM RecordType WHERE Name = 'Application'];
			request.RecordTypeId = rtp[0].Id;
			request.MCFD_Status__c = 'In Progress';
			request.ICM_SR_Number__c = '1234fgf56789';
			insert request;


			List<Request__c> returnedList;

			Test.StartTest();
		    // setting up mock webservice response 
		    Test.setMock(HttpCalloutMock.class, new MCFD_ExampleCalloutMockICMContactError());  

			returnedList = MCFD_CallICMForContactDetails.getPortalApplicationDetails('test');
			
			Test.StopTest();
		}
	}
    
    static testMethod void deactiveCurrentAndActiveOldUser_test() {
        User objuser = MCFD_TestDataHelper_Test.getCommunityUser('1-407SJCD');
        Contact objContact = MCFD_TestDataHelper_Test.getContact();
        Contact objSpouseContact = MCFD_TestDataHelper_Test.getContact();
        insert objSpouseContact;
        insert objContact;
        String idObjContact = objContact.Id;
        String idObjSpouseContact = objSpouseContact.Id; 
        String strUser = JSON.serialize(objuser);
        System.RunAs(objuser){ 
            
            List<Contact> lstContact = [SELECT Id, CreatedDate From Contact];
           // insert lstContact;
            Map<Id, Contact> similarContactUserMapTest = new Map<Id, Contact>(lstContact);
            Test.startTest();
            MCFD_CallICMForContactDetails.deactiveCurrentAndActiveOldUser(similarContactUserMapTest, strUser);
         //   MCFD_CallICMForContactDetails.updateSpouseContact(idObjContact, idObjSpouseContact); commenting this line as it gives invalid method error. Please review this.
            Test.stopTest();
        }
    }
    
}