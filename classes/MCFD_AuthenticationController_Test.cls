/*********************************************************************************************************
Name            : MCFD_AuthenticationController_Test.cls  
Description     : This class is to test methods in MCFD_AuthenticationController  
Created By      : Deloitte
Created Date    : 22/May/2017
Modification Log:
-------------------------------------------------------------------------------------------------------------- 
Developer       Date        Description
--------------------------------------------------------------------------------------------------------------            
Abhishek      22/May/2017   
--------------------------------------------------------------------------------------------------------------              

***************************************************************************************************************/
@isTest(seeAllData=false)
public class MCFD_AuthenticationController_Test{


    // insert test data
    private Static Request__c requestTestData(){
        Request__c req = new Request__c();
        req.ICM_SR_number__c = '123456789';
        insert req;
        return req;
            
          
    }
        // insert test data for custom settings
    public static void createTest(){
        insert MCFD_TestDataHelper_Test.getMCFD_Portal_Settings('MCFD Community Login','MCFD Portal');      
        insert MCFD_TestDataHelper_Test.getMCFD_Portal_SSO_Redirection();
        Account mcfdPortalAccount = MCFD_TestDataHelper_Test.getAccount('MCFD Portal');
        insert mcfdPortalAccount;       
        
    }
    
    
    
        
    private static testMethod void test1(){
        Test.startTest();
        createTest();
        // setting current page reference
        PageReference pageRef = ApexPages.currentPage();
        Test.setCurrentPage(pageRef);
 
        // Add parameters to page URL
        Test.setMock(HttpCalloutMock.class, new MCFD_ExampleCalloutMock());
        // encodedbase64string 
        String encodedString = 'PFJlc3BvbnNlIHhtbG5zPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6cHJvdG9jb2wiIERlc3RpbmF0aW9uPSJodHRwczovL3FhLW1jZmQtcG9ydGFsLmNzNzEuZm9yY2UuY29tL01DRkRfQXV0aFJlZGlyZWN0IiBJRD0iXzBiZGM0ZjZlYTE5NDZkNjZhY2QyYzFhN2E4NDZjNzYyMTQ0ZSIgSXNzdWVJbnN0YW50PSIyMDE3LTA1LTIzVDEwOjI0OjM3WiIgVmVyc2lvbj0iMi4wIj4gPG5zMTpJc3N1ZXIgeG1sbnM6bnMxPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXNzZXJ0aW9uIiBGb3JtYXQ9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpuYW1laWQtZm9ybWF0OmVudGl0eSI+dXJuOmNhOmJjOmdvdjpzZnN0ZXN0Om1jZjpkc3A6cG9ydGFsZXh0ZXJuYWw8L25zMTpJc3N1ZXI+IDxTdGF0dXM+IDxTdGF0dXNDb2RlIFZhbHVlPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6c3RhdHVzOlN1Y2Nlc3MiLz4gPC9TdGF0dXM+IDxuczI6QXNzZXJ0aW9uIHhtbG5zOm5zMj0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmFzc2VydGlvbiIgSUQ9Il80YTJiODY5MmIyOWQ1NmI4YWY4M2E5Yzc3MDI3YmY2Y2RlZGIiIElzc3VlSW5zdGFudD0iMjAxNy0wNS0yM1QxMDoyNDozN1oiIFZlcnNpb249IjIuMCI+IDxuczI6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij51cm46Y2E6YmM6Z292OnNmc3Rlc3Q6bWNmOmRzcDpwb3J0YWxleHRlcm5hbDwvbnMyOklzc3Vlcj48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIj4gPGRzOlNpZ25lZEluZm8+IDxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIi8+IDxkczpTaWduYXR1cmVNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNyc2Etc2hhMjU2Ii8+IDxkczpSZWZlcmVuY2UgVVJJPSIjXzRhMmI4NjkyYjI5ZDU2YjhhZjgzYTljNzcwMjdiZjZjZGVkYiI+IDxkczpUcmFuc2Zvcm1zPiA8ZHM6VHJhbnNmb3JtIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI2VudmVsb3BlZC1zaWduYXR1cmUiLz4gPGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMTAveG1sLWV4Yy1jMTRuIyIvPiA8L2RzOlRyYW5zZm9ybXM+IDxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz4gPGRzOkRpZ2VzdFZhbHVlPkh3TVk5dGFhK1pjWlRDdE5FRlloaWxsblRuMURxRXdXTVpFbFZMdFZVZUk9PC9kczpEaWdlc3RWYWx1ZT4gPC9kczpSZWZlcmVuY2U+IDwvZHM6U2lnbmVkSW5mbz4gPGRzOlNpZ25hdHVyZVZhbHVlPiBqVU94cmRBUjdTQW9rSElRc2xHVW5CQmFJT0h6cXBIazVHSGRzNkZVYk1vbHFFS29ZdEIzVTA0U3U0RG1DZWVTcEdScEFXaHlhUmVYIFdwa0JtS1dCaVdHSmhlWjBPOStSSUFMRnVmeG1JSyttSEUzazJPRG51QzV0TTB0eXUwNjZZUHE4Yy84a1V1TnUzN3lwQjVGQVRJQy8gbTJrYmhHeStlbEtMVjdFcmc0S0VuWlg4VEd4V0ZCRTJJTHRoN1FoaGNuTEhKQ2ZaeFBXclZIbWJjK1BCMlJhNW5PM2pVWmhlQ0lCYSB3NWlOcGFvRlV0WTJYT2dMajA1Z2R5R3M1WnJ2THdkbGU5K1pRVjNnbnpLMmhEMmIxNG5LRGlYdmRxMk1veHVNdWxubGxvcGJCeFhCIEx2aTNsd3BIMGFzNDhWMWtMUDI1UEE1aWh1VWlQWm5JL3FNelBRPT0gPC9kczpTaWduYXR1cmVWYWx1ZT4gPGRzOktleUluZm8+IDxkczpYNTA5RGF0YT4gPGRzOlg1MDlDZXJ0aWZpY2F0ZT4gTUlJRUN6Q0NBdk1DQ1FDZG9XTjRYdFVJNlRBTkJna3Foa2lHOXcwQkFRc0ZBRENCeWpFTE1Ba0dBMVVFQmhNQ1EwRXhHVEFYQmdOViBCQWdURUVKeWFYUnBjMmdnUTI5c2RXMWlhV0V4RVRBUEJnTlZCQWNUQ0ZacFkzUnZjbWxoTVRjd05RWURWUVFLRXk1SGIzWmxjbTV0IFpXNTBJRzltSUhSb1pTQlFjbTkyYVc1alpTQnZaaUJDY21sMGFYTm9JRU52YkhWdFltbGhNUTh3RFFZRFZRUUxFd1pUUmxNdFEwRXggSWpBZ0JnTlZCQU1UR1ZOR1V5QkRaWEowYVdacFkyRjBaU0JCZFhSb2IzSnBkSGt4SHpBZEJna3Foa2lHOXcwQkNRRVdFRmRVVTFkQiBUVUJuYjNZdVltTXVZMkV3SGhjTk1UTXdOREExTWpJMU5qVTNXaGNOTXpNd05EQTFNakkxTmpVM1dqQ0J3ekVMTUFrR0ExVUVCaE1DIFEwRXhHVEFYQmdOVkJBZ1RFRUp5YVhScGMyZ2dRMjlzZFcxaWFXRXhFVEFQQmdOVkJBY1RDRlpwWTNSdmNtbGhNVGN3TlFZRFZRUUsgRXk1SGIzWmxjbTV0Wlc1MElHOW1JSFJvWlNCUWNtOTJhVzVqWlNCdlppQkNjbWwwYVhOb0lFTnZiSFZ0WW1saE1Rd3dDZ1lEVlFRTCBFd05UUmxNeEhqQWNCZ05WQkFNVEZYTm1jeTF6Wm5OMFpYTjBMbWR2ZGk1aVl5NWpZVEVmTUIwR0NTcUdTSWIzRFFFSkFSWVFWMVJUIFYwRk5RR2R2ZGk1aVl5NWpZVENDQVNJd0RRWUpLb1pJaHZjTkFRRUJCUUFEZ2dFUEFEQ0NBUW9DZ2dFQkFKdzVFMDQ1amxKK3NiU2cgTmZrdnlKQTMrMjdLUkJtQWxxK01VUm9SM09TaVdjMjBNV2R0NXBLeGRSVXEyZll4clFqdHJ0UHVHcWtrRUdhZUkwaU5ad1JJbmJ5NiBIdTZ1YkN3ZjFRN2ZUbFc3OGxzK0NqTmtZTlVDMy93dUMzbW4xUW5nOFUwbGRRN3RRVTRjUE9xd0xJdlNpSmRpSlpybUY4UkRwcG9kIFljSGhiaWo3N3Q2dGlIVkN4UVlncXhOY3V0M2d3bnhWcjI0MTZ5V0hYVnFxcGNjS0xUaUkvSm9lQ2I1b0kyVVVDcmRldnlXZDRINXEgTlpseTRoTDVQQkNZWTRUdXBVYXlqaGJXZnhKSzRVV2NEdjdPT2ErdXhxNGtZbkdleERwcUNiVzZidmNIYms0N1A1UkFaSXZndm5HbyBCZ1Nmb2gzN3p4US9GcDZWRTRpV0F1Y0NBd0VBQVRBTkJna3Foa2lHOXcwQkFRc0ZBQU9DQVFFQWJka2pROXVIcHZka1NlSUdPbmZ4IHU0Vm5mM2pHTzR5bzgrQnJub0dhTEM4aTJDV21Wb2RpOUdPdTNIM2pyR3ZzU296N242QzJBK3ZJdkR4dkE3dHdqd0xBcXVaVlFKbkIgQ3BNS213bFBDQUNBd1orRWxiNHIycU1teGEyRm0wSWVZejN4MkJXWU9BVHRpYzgxZkZ6aEo4UWtXQnV3YjkrZEorMGwvR0dRZjlwTyAycWlJcVVFZDJvSVVWRHhxV1JZemhQZXplanBmVmpCc1RQWFk1eFFoZEJVS0hNcjBacFNVOWtNb0p6Y00xbjZsSkg3cEZIWkJVS043IDkyaG9FNTVPbEszTFFMVW9oKzNXNEROL1lWS2tEczZrSHI0b0w2dXo5ajJXODRIVVBYNURMbUZGaUorTHBTMDUyVkJ0WWNoangyQnQgMEZQc0hKSjRDMEYwcjVHNG93PT0gPC9kczpYNTA5Q2VydGlmaWNhdGU+IDwvZHM6WDUwOURhdGE+IDwvZHM6S2V5SW5mbz4gPC9kczpTaWduYXR1cmU+IDxuczI6U3ViamVjdD4gPG5zMjpOYW1lSUQgRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6bmFtZWlkLWZvcm1hdDp0cmFuc2llbnQiPl81YmU1YTM1OWJmM2JmOTYyYjNiMGU3ZjAyOWM5ZGIyOGRmM2U8L25zMjpOYW1lSUQ+IDxuczI6U3ViamVjdENvbmZpcm1hdGlvbiBNZXRob2Q9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpjbTpiZWFyZXIiPiA8bnMyOlN1YmplY3RDb25maXJtYXRpb25EYXRhIE5vdE9uT3JBZnRlcj0iMjAxNy0wNS0yM1QxMDoyNjowN1oiIFJlY2lwaWVudD0iaHR0cHM6Ly9xYS1tY2ZkLXBvcnRhbC5jczcxLmZvcmNlLmNvbS9NQ0ZEX0F1dGhSZWRpcmVjdCIvPiA8L25zMjpTdWJqZWN0Q29uZmlybWF0aW9uPiA8L25zMjpTdWJqZWN0PiA8bnMyOkNvbmRpdGlvbnMgTm90QmVmb3JlPSIyMDE3LTA1LTIzVDEwOjI0OjA3WiIgTm90T25PckFmdGVyPSIyMDE3LTA1LTIzVDEwOjI2OjA3WiI+IDxuczI6QXVkaWVuY2VSZXN0cmljdGlvbj4gPG5zMjpBdWRpZW5jZT5iY2VpZC5kc3Bwb3J0YWwuc2FsZXNmb3JjZS5jb208L25zMjpBdWRpZW5jZT4gPC9uczI6QXVkaWVuY2VSZXN0cmljdGlvbj4gPG5zMjpBdWRpZW5jZVJlc3RyaWN0aW9uPiA8bnMyOkF1ZGllbmNlPmh0dHBzOi8vc2FtbC5zYWxlc2ZvcmNlLmNvbTwvbnMyOkF1ZGllbmNlPiA8L25zMjpBdWRpZW5jZVJlc3RyaWN0aW9uPiA8L25zMjpDb25kaXRpb25zPiA8bnMyOkF1dGhuU3RhdGVtZW50IEF1dGhuSW5zdGFudD0iMjAxNy0wNS0yM1QxMDoyNDoyN1oiIFNlc3Npb25JbmRleD0iZnc5R2ZKc3hVT0NDcUwraTZXS25NdkRPUUowPXdNekpUZz09IiBTZXNzaW9uTm90T25PckFmdGVyPSIyMDE3LTA1LTIzVDEwOjI2OjA3WiI+IDxuczI6QXV0aG5Db250ZXh0PiA8bnMyOkF1dGhuQ29udGV4dENsYXNzUmVmPnVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphYzpjbGFzc2VzOlBhc3N3b3JkPC9uczI6QXV0aG5Db250ZXh0Q2xhc3NSZWY+IDwvbnMyOkF1dGhuQ29udGV4dD4gPC9uczI6QXV0aG5TdGF0ZW1lbnQ+IDxuczI6QXR0cmlidXRlU3RhdGVtZW50PiA8bnMyOkF0dHJpYnV0ZSBOYW1lPSJodHRwOi8vd3d3LmNpby5nb3YuYmMuY2Evc3RhbmRhcmRzL2NsYWltcy8yMDEyLzA2L3VzZXJpZGVudGlmaWVyIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OnVyaSI+IDxuczI6QXR0cmlidXRlVmFsdWU+N0MwMTUxOEM4Q0JENDhFRDkzQzEwOTE4QkQ1NTQzMjE8L25zMjpBdHRyaWJ1dGVWYWx1ZT4gPC9uczI6QXR0cmlidXRlPiA8bnMyOkF0dHJpYnV0ZSBOYW1lPSJ1c2VyaWRlbnRpZmllciIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1bnNwZWNpZmllZCI+IDxuczI6QXR0cmlidXRlVmFsdWU+N0MwMTUxOEM4Q0JENDhFRDkzQzEwOTE4QkQ1NTQzMjE8L25zMjpBdHRyaWJ1dGVWYWx1ZT4gPC9uczI6QXR0cmlidXRlPiA8bnMyOkF0dHJpYnV0ZSBOYW1lPSJUZXN0QXR0ciIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1bnNwZWNpZmllZCI+IDxuczI6QXR0cmlidXRlVmFsdWU+VGVzdEF0dHI8L25zMjpBdHRyaWJ1dGVWYWx1ZT4gPC9uczI6QXR0cmlidXRlPiA8bnMyOkF0dHJpYnV0ZSBOYW1lPSJHSVZFTk5BTUUiIE5hbWVGb3JtYXQ9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphdHRybmFtZS1mb3JtYXQ6dW5zcGVjaWZpZWQiPiA8bnMyOkF0dHJpYnV0ZVZhbHVlPnRlc3QyPC9uczI6QXR0cmlidXRlVmFsdWU+IDwvbnMyOkF0dHJpYnV0ZT4gPG5zMjpBdHRyaWJ1dGUgTmFtZT0iRU1BSUwiIE5hbWVGb3JtYXQ9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphdHRybmFtZS1mb3JtYXQ6dW5zcGVjaWZpZWQiPiA8bnMyOkF0dHJpYnV0ZVZhbHVlPnBkYXZlQGRlbG9pdHRlLmNvbTwvbnMyOkF0dHJpYnV0ZVZhbHVlPiA8L25zMjpBdHRyaWJ1dGU+IDxuczI6QXR0cmlidXRlIE5hbWU9IkJDRUlEIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OnVuc3BlY2lmaWVkIj4gPG5zMjpBdHRyaWJ1dGVWYWx1ZT50ZXN0bWNmZF8yMTwvbnMyOkF0dHJpYnV0ZVZhbHVlPiA8L25zMjpBdHRyaWJ1dGU+IDxuczI6QXR0cmlidXRlIE5hbWU9IkRJU1BMQVlOQU1FIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OnVuc3BlY2lmaWVkIj4gPG5zMjpBdHRyaWJ1dGVWYWx1ZT50ZXN0MiBUZXN0MTwvbnMyOkF0dHJpYnV0ZVZhbHVlPiA8L25zMjpBdHRyaWJ1dGU+IDxuczI6QXR0cmlidXRlIE5hbWU9IlNFQ09ORE5BTUUiIE5hbWVGb3JtYXQ9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphdHRybmFtZS1mb3JtYXQ6dW5zcGVjaWZpZWQiPiA8bnMyOkF0dHJpYnV0ZVZhbHVlPnRlc3QyPC9uczI6QXR0cmlidXRlVmFsdWU+IDwvbnMyOkF0dHJpYnV0ZT4gPG5zMjpBdHRyaWJ1dGUgTmFtZT0iU1VSTkFNRSIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1bnNwZWNpZmllZCI+IDxuczI6QXR0cmlidXRlVmFsdWU+dGVzdDwvbnMyOkF0dHJpYnV0ZVZhbHVlPiA8L25zMjpBdHRyaWJ1dGU+IDxuczI6QXR0cmlidXRlIE5hbWU9IklTSURJUiIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1bnNwZWNpZmllZCI+IDxuczI6QXR0cmlidXRlVmFsdWU+ZmFsc2U8L25zMjpBdHRyaWJ1dGVWYWx1ZT4gPC9uczI6QXR0cmlidXRlPiA8L25zMjpBdHRyaWJ1dGVTdGF0ZW1lbnQ+IDwvbnMyOkFzc2VydGlvbj4gPC9SZXNwb25zZT4=';
        // Adding parameter  to current page
        pageRef.getParameters().put('SAMLResponse', encodedString );
        Test.setCurrentPage(pageRef);
        // calling class method
        MCFD_AuthenticationController cobj = new MCFD_AuthenticationController ();
        cobj.error= '';
        cobj.evaluateAssertion();
        
        MCFD_AuthenticationController.portalLandingPage();
        User usr = [select id,IsPortalEnabled from user limit 1];
        cobj.isUserFrozen(usr);
        cobj.redirectToSso(usr);
        Test.stopTest();
    }
        
        
    private static testMethod void test2(){
        Test.startTest();
        createTest();
        PageReference pageRef = ApexPages.currentPage();
        Test.setCurrentPage(pageRef);
 
        // Add parameters to page URL
        Test.setMock(HttpCalloutMock.class, new MCFD_ExampleCalloutMock());
       
        String encodedString = 'PFJlc3BvbnNlIHhtbG5zPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6cHJvdG9jb2wiIERlc3RpbmF0aW9uPSJodHRwczovL3FhLW1jZmQtcG9ydGFsLmNzNzEuZm9yY2UuY29tL01DRkRfQXV0aFJlZGlyZWN0IiBJRD0iXzBiZGM0ZjZlYTE5NDZkNjZhY2QyYzFhN2E4NDZjNzYyMTQ0ZSIgSXNzdWVJbnN0YW50PSIyMDE3LTA1LTIzVDEwOjI0OjM3WiIgVmVyc2lvbj0iMi4wIj4gPG5zMTpJc3N1ZXIgeG1sbnM6bnMxPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXNzZXJ0aW9uIiBGb3JtYXQ9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpuYW1laWQtZm9ybWF0OmVudGl0eSI+dXJuOmNhOmJjOmdvdjpzZnN0ZXN0Om1jZjpkc3A6cG9ydGFsZXh0ZXJuYWw8L25zMTpJc3N1ZXI+IDxTdGF0dXM+IDxTdGF0dXNDb2RlIFZhbHVlPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6c3RhdHVzOlN1Y2Nlc3MiLz4gPC9TdGF0dXM+IDxuczI6QXNzZXJ0aW9uIHhtbG5zOm5zMj0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmFzc2VydGlvbiIgSUQ9Il80YTJiODY5MmIyOWQ1NmI4YWY4M2E5Yzc3MDI3YmY2Y2RlZGIiIElzc3VlSW5zdGFudD0iMjAxNy0wNS0yM1QxMDoyNDozN1oiIFZlcnNpb249IjIuMCI+IDxuczI6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij51cm46Y2E6YmM6Z292OnNmc3Rlc3Q6bWNmOmRzcDpwb3J0YWxleHRlcm5hbDwvbnMyOklzc3Vlcj48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIj4gPGRzOlNpZ25lZEluZm8+IDxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIi8+IDxkczpTaWduYXR1cmVNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNyc2Etc2hhMjU2Ii8+IDxkczpSZWZlcmVuY2UgVVJJPSIjXzRhMmI4NjkyYjI5ZDU2YjhhZjgzYTljNzcwMjdiZjZjZGVkYiI+IDxkczpUcmFuc2Zvcm1zPiA8ZHM6VHJhbnNmb3JtIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI2VudmVsb3BlZC1zaWduYXR1cmUiLz4gPGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMTAveG1sLWV4Yy1jMTRuIyIvPiA8L2RzOlRyYW5zZm9ybXM+IDxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz4gPGRzOkRpZ2VzdFZhbHVlPkh3TVk5dGFhK1pjWlRDdE5FRlloaWxsblRuMURxRXdXTVpFbFZMdFZVZUk9PC9kczpEaWdlc3RWYWx1ZT4gPC9kczpSZWZlcmVuY2U+IDwvZHM6U2lnbmVkSW5mbz4gPGRzOlNpZ25hdHVyZVZhbHVlPiBqVU94cmRBUjdTQW9rSElRc2xHVW5CQmFJT0h6cXBIazVHSGRzNkZVYk1vbHFFS29ZdEIzVTA0U3U0RG1DZWVTcEdScEFXaHlhUmVYIFdwa0JtS1dCaVdHSmhlWjBPOStSSUFMRnVmeG1JSyttSEUzazJPRG51QzV0TTB0eXUwNjZZUHE4Yy84a1V1TnUzN3lwQjVGQVRJQy8gbTJrYmhHeStlbEtMVjdFcmc0S0VuWlg4VEd4V0ZCRTJJTHRoN1FoaGNuTEhKQ2ZaeFBXclZIbWJjK1BCMlJhNW5PM2pVWmhlQ0lCYSB3NWlOcGFvRlV0WTJYT2dMajA1Z2R5R3M1WnJ2THdkbGU5K1pRVjNnbnpLMmhEMmIxNG5LRGlYdmRxMk1veHVNdWxubGxvcGJCeFhCIEx2aTNsd3BIMGFzNDhWMWtMUDI1UEE1aWh1VWlQWm5JL3FNelBRPT0gPC9kczpTaWduYXR1cmVWYWx1ZT4gPGRzOktleUluZm8+IDxkczpYNTA5RGF0YT4gPGRzOlg1MDlDZXJ0aWZpY2F0ZT4gTUlJRUN6Q0NBdk1DQ1FDZG9XTjRYdFVJNlRBTkJna3Foa2lHOXcwQkFRc0ZBRENCeWpFTE1Ba0dBMVVFQmhNQ1EwRXhHVEFYQmdOViBCQWdURUVKeWFYUnBjMmdnUTI5c2RXMWlhV0V4RVRBUEJnTlZCQWNUQ0ZacFkzUnZjbWxoTVRjd05RWURWUVFLRXk1SGIzWmxjbTV0IFpXNTBJRzltSUhSb1pTQlFjbTkyYVc1alpTQnZaaUJDY21sMGFYTm9JRU52YkhWdFltbGhNUTh3RFFZRFZRUUxFd1pUUmxNdFEwRXggSWpBZ0JnTlZCQU1UR1ZOR1V5QkRaWEowYVdacFkyRjBaU0JCZFhSb2IzSnBkSGt4SHpBZEJna3Foa2lHOXcwQkNRRVdFRmRVVTFkQiBUVUJuYjNZdVltTXVZMkV3SGhjTk1UTXdOREExTWpJMU5qVTNXaGNOTXpNd05EQTFNakkxTmpVM1dqQ0J3ekVMTUFrR0ExVUVCaE1DIFEwRXhHVEFYQmdOVkJBZ1RFRUp5YVhScGMyZ2dRMjlzZFcxaWFXRXhFVEFQQmdOVkJBY1RDRlpwWTNSdmNtbGhNVGN3TlFZRFZRUUsgRXk1SGIzWmxjbTV0Wlc1MElHOW1JSFJvWlNCUWNtOTJhVzVqWlNCdlppQkNjbWwwYVhOb0lFTnZiSFZ0WW1saE1Rd3dDZ1lEVlFRTCBFd05UUmxNeEhqQWNCZ05WQkFNVEZYTm1jeTF6Wm5OMFpYTjBMbWR2ZGk1aVl5NWpZVEVmTUIwR0NTcUdTSWIzRFFFSkFSWVFWMVJUIFYwRk5RR2R2ZGk1aVl5NWpZVENDQVNJd0RRWUpLb1pJaHZjTkFRRUJCUUFEZ2dFUEFEQ0NBUW9DZ2dFQkFKdzVFMDQ1amxKK3NiU2cgTmZrdnlKQTMrMjdLUkJtQWxxK01VUm9SM09TaVdjMjBNV2R0NXBLeGRSVXEyZll4clFqdHJ0UHVHcWtrRUdhZUkwaU5ad1JJbmJ5NiBIdTZ1YkN3ZjFRN2ZUbFc3OGxzK0NqTmtZTlVDMy93dUMzbW4xUW5nOFUwbGRRN3RRVTRjUE9xd0xJdlNpSmRpSlpybUY4UkRwcG9kIFljSGhiaWo3N3Q2dGlIVkN4UVlncXhOY3V0M2d3bnhWcjI0MTZ5V0hYVnFxcGNjS0xUaUkvSm9lQ2I1b0kyVVVDcmRldnlXZDRINXEgTlpseTRoTDVQQkNZWTRUdXBVYXlqaGJXZnhKSzRVV2NEdjdPT2ErdXhxNGtZbkdleERwcUNiVzZidmNIYms0N1A1UkFaSXZndm5HbyBCZ1Nmb2gzN3p4US9GcDZWRTRpV0F1Y0NBd0VBQVRBTkJna3Foa2lHOXcwQkFRc0ZBQU9DQVFFQWJka2pROXVIcHZka1NlSUdPbmZ4IHU0Vm5mM2pHTzR5bzgrQnJub0dhTEM4aTJDV21Wb2RpOUdPdTNIM2pyR3ZzU296N242QzJBK3ZJdkR4dkE3dHdqd0xBcXVaVlFKbkIgQ3BNS213bFBDQUNBd1orRWxiNHIycU1teGEyRm0wSWVZejN4MkJXWU9BVHRpYzgxZkZ6aEo4UWtXQnV3YjkrZEorMGwvR0dRZjlwTyAycWlJcVVFZDJvSVVWRHhxV1JZemhQZXplanBmVmpCc1RQWFk1eFFoZEJVS0hNcjBacFNVOWtNb0p6Y00xbjZsSkg3cEZIWkJVS043IDkyaG9FNTVPbEszTFFMVW9oKzNXNEROL1lWS2tEczZrSHI0b0w2dXo5ajJXODRIVVBYNURMbUZGaUorTHBTMDUyVkJ0WWNoangyQnQgMEZQc0hKSjRDMEYwcjVHNG93PT0gPC9kczpYNTA5Q2VydGlmaWNhdGU+IDwvZHM6WDUwOURhdGE+IDwvZHM6S2V5SW5mbz4gPC9kczpTaWduYXR1cmU+IDxuczI6U3ViamVjdD4gPG5zMjpOYW1lSUQgRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6bmFtZWlkLWZvcm1hdDp0cmFuc2llbnQiPl81YmU1YTM1OWJmM2JmOTYyYjNiMGU3ZjAyOWM5ZGIyOGRmM2U8L25zMjpOYW1lSUQ+IDxuczI6U3ViamVjdENvbmZpcm1hdGlvbiBNZXRob2Q9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpjbTpiZWFyZXIiPiA8bnMyOlN1YmplY3RDb25maXJtYXRpb25EYXRhIE5vdE9uT3JBZnRlcj0iMjAxNy0wNS0yM1QxMDoyNjowN1oiIFJlY2lwaWVudD0iaHR0cHM6Ly9xYS1tY2ZkLXBvcnRhbC5jczcxLmZvcmNlLmNvbS9NQ0ZEX0F1dGhSZWRpcmVjdCIvPiA8L25zMjpTdWJqZWN0Q29uZmlybWF0aW9uPiA8L25zMjpTdWJqZWN0PiA8bnMyOkNvbmRpdGlvbnMgTm90QmVmb3JlPSIyMDE3LTA1LTIzVDEwOjI0OjA3WiIgTm90T25PckFmdGVyPSIyMDE3LTA1LTIzVDEwOjI2OjA3WiI+IDxuczI6QXVkaWVuY2VSZXN0cmljdGlvbj4gPG5zMjpBdWRpZW5jZT5iY2VpZC5kc3Bwb3J0YWwuc2FsZXNmb3JjZS5jb208L25zMjpBdWRpZW5jZT4gPC9uczI6QXVkaWVuY2VSZXN0cmljdGlvbj4gPG5zMjpBdWRpZW5jZVJlc3RyaWN0aW9uPiA8bnMyOkF1ZGllbmNlPmh0dHBzOi8vc2FtbC5zYWxlc2ZvcmNlLmNvbTwvbnMyOkF1ZGllbmNlPiA8L25zMjpBdWRpZW5jZVJlc3RyaWN0aW9uPiA8L25zMjpDb25kaXRpb25zPiA8bnMyOkF1dGhuU3RhdGVtZW50IEF1dGhuSW5zdGFudD0iMjAxNy0wNS0yM1QxMDoyNDoyN1oiIFNlc3Npb25JbmRleD0iZnc5R2ZKc3hVT0NDcUwraTZXS25NdkRPUUowPXdNekpUZz09IiBTZXNzaW9uTm90T25PckFmdGVyPSIyMDE3LTA1LTIzVDEwOjI2OjA3WiI+IDxuczI6QXV0aG5Db250ZXh0PiA8bnMyOkF1dGhuQ29udGV4dENsYXNzUmVmPnVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphYzpjbGFzc2VzOlBhc3N3b3JkPC9uczI6QXV0aG5Db250ZXh0Q2xhc3NSZWY+IDwvbnMyOkF1dGhuQ29udGV4dD4gPC9uczI6QXV0aG5TdGF0ZW1lbnQ+IDxuczI6QXR0cmlidXRlU3RhdGVtZW50PiA8bnMyOkF0dHJpYnV0ZSBOYW1lPSJodHRwOi8vd3d3LmNpby5nb3YuYmMuY2Evc3RhbmRhcmRzL2NsYWltcy8yMDEyLzA2L3VzZXJpZGVudGlmaWVyIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OnVyaSI+IDxuczI6QXR0cmlidXRlVmFsdWU+N0MwMTUxOEM4Q0JENDhFRDkzQzEwOTE4QkQ1NTQzMjE8L25zMjpBdHRyaWJ1dGVWYWx1ZT4gPC9uczI6QXR0cmlidXRlPiA8bnMyOkF0dHJpYnV0ZSBOYW1lPSJ1c2VyaWRlbnRpZmllciIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1bnNwZWNpZmllZCI+IDxuczI6QXR0cmlidXRlVmFsdWU+N0MwMTUxOEM4Q0JENDhFRDkzQzEwOTE4QkQ1NTQzMjE8L25zMjpBdHRyaWJ1dGVWYWx1ZT4gPC9uczI6QXR0cmlidXRlPiA8bnMyOkF0dHJpYnV0ZSBOYW1lPSJHSVZFTk5BTUUiIE5hbWVGb3JtYXQ9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphdHRybmFtZS1mb3JtYXQ6dW5zcGVjaWZpZWQiPiA8bnMyOkF0dHJpYnV0ZVZhbHVlPnRlc3QyPC9uczI6QXR0cmlidXRlVmFsdWU+IDwvbnMyOkF0dHJpYnV0ZT4gPG5zMjpBdHRyaWJ1dGUgTmFtZT0iRU1BSUwiIE5hbWVGb3JtYXQ9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphdHRybmFtZS1mb3JtYXQ6dW5zcGVjaWZpZWQiPiA8bnMyOkF0dHJpYnV0ZVZhbHVlPnBkYXZlQGRlbG9pdHRlLmNvbTwvbnMyOkF0dHJpYnV0ZVZhbHVlPiA8L25zMjpBdHRyaWJ1dGU+IDxuczI6QXR0cmlidXRlIE5hbWU9IkJDRUlEIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OnVuc3BlY2lmaWVkIj4gPG5zMjpBdHRyaWJ1dGVWYWx1ZT50ZXN0bWNmZF8yMTwvbnMyOkF0dHJpYnV0ZVZhbHVlPiA8L25zMjpBdHRyaWJ1dGU+IDxuczI6QXR0cmlidXRlIE5hbWU9IkRJU1BMQVlOQU1FIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OnVuc3BlY2lmaWVkIj4gPG5zMjpBdHRyaWJ1dGVWYWx1ZT50ZXN0MiBUZXN0MTwvbnMyOkF0dHJpYnV0ZVZhbHVlPiA8L25zMjpBdHRyaWJ1dGU+IDxuczI6QXR0cmlidXRlIE5hbWU9IlNFQ09ORE5BTUUiIE5hbWVGb3JtYXQ9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphdHRybmFtZS1mb3JtYXQ6dW5zcGVjaWZpZWQiPiA8bnMyOkF0dHJpYnV0ZVZhbHVlPnRlc3QyPC9uczI6QXR0cmlidXRlVmFsdWU+IDwvbnMyOkF0dHJpYnV0ZT4gPG5zMjpBdHRyaWJ1dGUgTmFtZT0iU1VSTkFNRSIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1bnNwZWNpZmllZCI+IDxuczI6QXR0cmlidXRlVmFsdWUvPiA8L25zMjpBdHRyaWJ1dGU+IDxuczI6QXR0cmlidXRlIE5hbWU9IklTSURJUiIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1bnNwZWNpZmllZCI+IDxuczI6QXR0cmlidXRlVmFsdWU+dHJ1ZTwvbnMyOkF0dHJpYnV0ZVZhbHVlPiA8L25zMjpBdHRyaWJ1dGU+IDwvbnMyOkF0dHJpYnV0ZVN0YXRlbWVudD4gPC9uczI6QXNzZXJ0aW9uPiA8L1Jlc3BvbnNlPg==';
        pageRef.getParameters().put('SAMLResponse', encodedString );
        Test.setCurrentPage(pageRef);
        MCFD_AuthenticationController cobj = new MCFD_AuthenticationController ();
        cobj.error= '';
        cobj.evaluateAssertion();
        
        MCFD_AuthenticationController.portalLandingPage();
        User usr = [select id,IsPortalEnabled from user limit 1];
        cobj.isUserFrozen(usr);
        cobj.redirectToSso(usr);
        Test.stopTest();
    }
        
    private static testMethod void test3(){
        
        createTest();
        PageReference pageRef = ApexPages.currentPage();
        Test.setCurrentPage(pageRef);
 
        // Add parameters to page URL
        Test.setMock(HttpCalloutMock.class, new MCFD_ExampleCalloutMock());
        
        String encodedString = 'PFJlc3BvbnNlIHhtbG5zPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6cHJvdG9jb2wiIERlc3RpbmF0aW9uPSJodHRwczovL3FhLW1jZmQtcG9ydGFsLmNzNzEuZm9yY2UuY29tL01DRkRfQXV0aFJlZGlyZWN0IiBJRD0iXzBiZGM0ZjZlYTE5NDZkNjZhY2QyYzFhN2E4NDZjNzYyMTQ0ZSIgSXNzdWVJbnN0YW50PSIyMDE3LTA1LTIzVDEwOjI0OjM3WiIgVmVyc2lvbj0iMi4wIj4gPG5zMTpJc3N1ZXIgeG1sbnM6bnMxPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXNzZXJ0aW9uIiBGb3JtYXQ9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpuYW1laWQtZm9ybWF0OmVudGl0eSI+dXJuOmNhOmJjOmdvdjpzZnN0ZXN0Om1jZjpkc3A6cG9ydGFsZXh0ZXJuYWw8L25zMTpJc3N1ZXI+IDxTdGF0dXM+IDxTdGF0dXNDb2RlIFZhbHVlPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6c3RhdHVzOlN1Y2Nlc3MiLz4gPC9TdGF0dXM+IDxuczI6QXNzZXJ0aW9uIHhtbG5zOm5zMj0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmFzc2VydGlvbiIgSUQ9Il80YTJiODY5MmIyOWQ1NmI4YWY4M2E5Yzc3MDI3YmY2Y2RlZGIiIElzc3VlSW5zdGFudD0iMjAxNy0wNS0yM1QxMDoyNDozN1oiIFZlcnNpb249IjIuMCI+IDxuczI6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij51cm46Y2E6YmM6Z292OnNmc3Rlc3Q6bWNmOmRzcDpwb3J0YWxleHRlcm5hbDwvbnMyOklzc3Vlcj48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIj4gPGRzOlNpZ25lZEluZm8+IDxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIi8+IDxkczpTaWduYXR1cmVNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNyc2Etc2hhMjU2Ii8+IDxkczpSZWZlcmVuY2UgVVJJPSIjXzRhMmI4NjkyYjI5ZDU2YjhhZjgzYTljNzcwMjdiZjZjZGVkYiI+IDxkczpUcmFuc2Zvcm1zPiA8ZHM6VHJhbnNmb3JtIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI2VudmVsb3BlZC1zaWduYXR1cmUiLz4gPGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMTAveG1sLWV4Yy1jMTRuIyIvPiA8L2RzOlRyYW5zZm9ybXM+IDxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz4gPGRzOkRpZ2VzdFZhbHVlPkh3TVk5dGFhK1pjWlRDdE5FRlloaWxsblRuMURxRXdXTVpFbFZMdFZVZUk9PC9kczpEaWdlc3RWYWx1ZT4gPC9kczpSZWZlcmVuY2U+IDwvZHM6U2lnbmVkSW5mbz4gPGRzOlNpZ25hdHVyZVZhbHVlPiBqVU94cmRBUjdTQW9rSElRc2xHVW5CQmFJT0h6cXBIazVHSGRzNkZVYk1vbHFFS29ZdEIzVTA0U3U0RG1DZWVTcEdScEFXaHlhUmVYIFdwa0JtS1dCaVdHSmhlWjBPOStSSUFMRnVmeG1JSyttSEUzazJPRG51QzV0TTB0eXUwNjZZUHE4Yy84a1V1TnUzN3lwQjVGQVRJQy8gbTJrYmhHeStlbEtMVjdFcmc0S0VuWlg4VEd4V0ZCRTJJTHRoN1FoaGNuTEhKQ2ZaeFBXclZIbWJjK1BCMlJhNW5PM2pVWmhlQ0lCYSB3NWlOcGFvRlV0WTJYT2dMajA1Z2R5R3M1WnJ2THdkbGU5K1pRVjNnbnpLMmhEMmIxNG5LRGlYdmRxMk1veHVNdWxubGxvcGJCeFhCIEx2aTNsd3BIMGFzNDhWMWtMUDI1UEE1aWh1VWlQWm5JL3FNelBRPT0gPC9kczpTaWduYXR1cmVWYWx1ZT4gPGRzOktleUluZm8+IDxkczpYNTA5RGF0YT4gPGRzOlg1MDlDZXJ0aWZpY2F0ZT4gTUlJRUN6Q0NBdk1DQ1FDZG9XTjRYdFVJNlRBTkJna3Foa2lHOXcwQkFRc0ZBRENCeWpFTE1Ba0dBMVVFQmhNQ1EwRXhHVEFYQmdOViBCQWdURUVKeWFYUnBjMmdnUTI5c2RXMWlhV0V4RVRBUEJnTlZCQWNUQ0ZacFkzUnZjbWxoTVRjd05RWURWUVFLRXk1SGIzWmxjbTV0IFpXNTBJRzltSUhSb1pTQlFjbTkyYVc1alpTQnZaaUJDY21sMGFYTm9JRU52YkhWdFltbGhNUTh3RFFZRFZRUUxFd1pUUmxNdFEwRXggSWpBZ0JnTlZCQU1UR1ZOR1V5QkRaWEowYVdacFkyRjBaU0JCZFhSb2IzSnBkSGt4SHpBZEJna3Foa2lHOXcwQkNRRVdFRmRVVTFkQiBUVUJuYjNZdVltTXVZMkV3SGhjTk1UTXdOREExTWpJMU5qVTNXaGNOTXpNd05EQTFNakkxTmpVM1dqQ0J3ekVMTUFrR0ExVUVCaE1DIFEwRXhHVEFYQmdOVkJBZ1RFRUp5YVhScGMyZ2dRMjlzZFcxaWFXRXhFVEFQQmdOVkJBY1RDRlpwWTNSdmNtbGhNVGN3TlFZRFZRUUsgRXk1SGIzWmxjbTV0Wlc1MElHOW1JSFJvWlNCUWNtOTJhVzVqWlNCdlppQkNjbWwwYVhOb0lFTnZiSFZ0WW1saE1Rd3dDZ1lEVlFRTCBFd05UUmxNeEhqQWNCZ05WQkFNVEZYTm1jeTF6Wm5OMFpYTjBMbWR2ZGk1aVl5NWpZVEVmTUIwR0NTcUdTSWIzRFFFSkFSWVFWMVJUIFYwRk5RR2R2ZGk1aVl5NWpZVENDQVNJd0RRWUpLb1pJaHZjTkFRRUJCUUFEZ2dFUEFEQ0NBUW9DZ2dFQkFKdzVFMDQ1amxKK3NiU2cgTmZrdnlKQTMrMjdLUkJtQWxxK01VUm9SM09TaVdjMjBNV2R0NXBLeGRSVXEyZll4clFqdHJ0UHVHcWtrRUdhZUkwaU5ad1JJbmJ5NiBIdTZ1YkN3ZjFRN2ZUbFc3OGxzK0NqTmtZTlVDMy93dUMzbW4xUW5nOFUwbGRRN3RRVTRjUE9xd0xJdlNpSmRpSlpybUY4UkRwcG9kIFljSGhiaWo3N3Q2dGlIVkN4UVlncXhOY3V0M2d3bnhWcjI0MTZ5V0hYVnFxcGNjS0xUaUkvSm9lQ2I1b0kyVVVDcmRldnlXZDRINXEgTlpseTRoTDVQQkNZWTRUdXBVYXlqaGJXZnhKSzRVV2NEdjdPT2ErdXhxNGtZbkdleERwcUNiVzZidmNIYms0N1A1UkFaSXZndm5HbyBCZ1Nmb2gzN3p4US9GcDZWRTRpV0F1Y0NBd0VBQVRBTkJna3Foa2lHOXcwQkFRc0ZBQU9DQVFFQWJka2pROXVIcHZka1NlSUdPbmZ4IHU0Vm5mM2pHTzR5bzgrQnJub0dhTEM4aTJDV21Wb2RpOUdPdTNIM2pyR3ZzU296N242QzJBK3ZJdkR4dkE3dHdqd0xBcXVaVlFKbkIgQ3BNS213bFBDQUNBd1orRWxiNHIycU1teGEyRm0wSWVZejN4MkJXWU9BVHRpYzgxZkZ6aEo4UWtXQnV3YjkrZEorMGwvR0dRZjlwTyAycWlJcVVFZDJvSVVWRHhxV1JZemhQZXplanBmVmpCc1RQWFk1eFFoZEJVS0hNcjBacFNVOWtNb0p6Y00xbjZsSkg3cEZIWkJVS043IDkyaG9FNTVPbEszTFFMVW9oKzNXNEROL1lWS2tEczZrSHI0b0w2dXo5ajJXODRIVVBYNURMbUZGaUorTHBTMDUyVkJ0WWNoangyQnQgMEZQc0hKSjRDMEYwcjVHNG93PT0gPC9kczpYNTA5Q2VydGlmaWNhdGU+IDwvZHM6WDUwOURhdGE+IDwvZHM6S2V5SW5mbz4gPC9kczpTaWduYXR1cmU+IDxuczI6U3ViamVjdD4gPG5zMjpOYW1lSUQgRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6bmFtZWlkLWZvcm1hdDp0cmFuc2llbnQiPl81YmU1YTM1OWJmM2JmOTYyYjNiMGU3ZjAyOWM5ZGIyOGRmM2U8L25zMjpOYW1lSUQ+IDxuczI6U3ViamVjdENvbmZpcm1hdGlvbiBNZXRob2Q9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpjbTpiZWFyZXIiPiA8bnMyOlN1YmplY3RDb25maXJtYXRpb25EYXRhIE5vdE9uT3JBZnRlcj0iMjAxNy0wNS0yM1QxMDoyNjowN1oiIFJlY2lwaWVudD0iaHR0cHM6Ly9xYS1tY2ZkLXBvcnRhbC5jczcxLmZvcmNlLmNvbS9NQ0ZEX0F1dGhSZWRpcmVjdCIvPiA8L25zMjpTdWJqZWN0Q29uZmlybWF0aW9uPiA8L25zMjpTdWJqZWN0PiA8bnMyOkNvbmRpdGlvbnMgTm90QmVmb3JlPSIyMDE3LTA1LTIzVDEwOjI0OjA3WiIgTm90T25PckFmdGVyPSIyMDE3LTA1LTIzVDEwOjI2OjA3WiI+IDxuczI6QXVkaWVuY2VSZXN0cmljdGlvbj4gPG5zMjpBdWRpZW5jZT5iY2VpZC5kc3Bwb3J0YWwuc2FsZXNmb3JjZS5jb208L25zMjpBdWRpZW5jZT4gPC9uczI6QXVkaWVuY2VSZXN0cmljdGlvbj4gPG5zMjpBdWRpZW5jZVJlc3RyaWN0aW9uPiA8bnMyOkF1ZGllbmNlPmh0dHBzOi8vc2FtbC5zYWxlc2ZvcmNlLmNvbTwvbnMyOkF1ZGllbmNlPiA8L25zMjpBdWRpZW5jZVJlc3RyaWN0aW9uPiA8L25zMjpDb25kaXRpb25zPiA8bnMyOkF1dGhuU3RhdGVtZW50IEF1dGhuSW5zdGFudD0iMjAxNy0wNS0yM1QxMDoyNDoyN1oiIFNlc3Npb25JbmRleD0iZnc5R2ZKc3hVT0NDcUwraTZXS25NdkRPUUowPXdNekpUZz09IiBTZXNzaW9uTm90T25PckFmdGVyPSIyMDE3LTA1LTIzVDEwOjI2OjA3WiI+IDxuczI6QXV0aG5Db250ZXh0PiA8bnMyOkF1dGhuQ29udGV4dENsYXNzUmVmPnVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphYzpjbGFzc2VzOlBhc3N3b3JkPC9uczI6QXV0aG5Db250ZXh0Q2xhc3NSZWY+IDwvbnMyOkF1dGhuQ29udGV4dD4gPC9uczI6QXV0aG5TdGF0ZW1lbnQ+IDxuczI6QXR0cmlidXRlU3RhdGVtZW50PiA8bnMyOkF0dHJpYnV0ZSBOYW1lPSJodHRwOi8vd3d3LmNpby5nb3YuYmMuY2Evc3RhbmRhcmRzL2NsYWltcy8yMDEyLzA2L3VzZXJpZGVudGlmaWVyIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OnVyaSI+IDxuczI6QXR0cmlidXRlVmFsdWU+N0MwMTUxOEM4Q0JENDhFRDkzQzEwOTE4QkQ1NTQzMjE8L25zMjpBdHRyaWJ1dGVWYWx1ZT4gPC9uczI6QXR0cmlidXRlPiA8bnMyOkF0dHJpYnV0ZSBOYW1lPSJ1c2VyaWRlbnRpZmllciIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1bnNwZWNpZmllZCI+IDxuczI6QXR0cmlidXRlVmFsdWU+N0MwMTUxOEM4Q0JENDhFRDkzQzEwOTE4QkQ1NTQzMjE8L25zMjpBdHRyaWJ1dGVWYWx1ZT4gPC9uczI6QXR0cmlidXRlPiA8bnMyOkF0dHJpYnV0ZSBOYW1lPSJHSVZFTk5BTUUiIE5hbWVGb3JtYXQ9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphdHRybmFtZS1mb3JtYXQ6dW5zcGVjaWZpZWQiPiA8bnMyOkF0dHJpYnV0ZVZhbHVlPnRlc3QyPC9uczI6QXR0cmlidXRlVmFsdWU+IDwvbnMyOkF0dHJpYnV0ZT4gPG5zMjpBdHRyaWJ1dGUgTmFtZT0iRU1BSUwiIE5hbWVGb3JtYXQ9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphdHRybmFtZS1mb3JtYXQ6dW5zcGVjaWZpZWQiPiA8bnMyOkF0dHJpYnV0ZVZhbHVlPnBkYXZlQGRlbG9pdHRlLmNvbTwvbnMyOkF0dHJpYnV0ZVZhbHVlPiA8L25zMjpBdHRyaWJ1dGU+IDxuczI6QXR0cmlidXRlIE5hbWU9IkJDRUlEIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OnVuc3BlY2lmaWVkIj4gPG5zMjpBdHRyaWJ1dGVWYWx1ZT50ZXN0bWNmZF8yMTwvbnMyOkF0dHJpYnV0ZVZhbHVlPiA8L25zMjpBdHRyaWJ1dGU+IDxuczI6QXR0cmlidXRlIE5hbWU9IkRJU1BMQVlOQU1FIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OnVuc3BlY2lmaWVkIj4gPG5zMjpBdHRyaWJ1dGVWYWx1ZT50ZXN0MiBUZXN0MTwvbnMyOkF0dHJpYnV0ZVZhbHVlPiA8L25zMjpBdHRyaWJ1dGU+IDxuczI6QXR0cmlidXRlIE5hbWU9IlNFQ09ORE5BTUUiIE5hbWVGb3JtYXQ9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphdHRybmFtZS1mb3JtYXQ6dW5zcGVjaWZpZWQiPiA8bnMyOkF0dHJpYnV0ZVZhbHVlPnRlc3QyPC9uczI6QXR0cmlidXRlVmFsdWU+IDwvbnMyOkF0dHJpYnV0ZT4gPG5zMjpBdHRyaWJ1dGUgTmFtZT0iU1VSTkFNRSIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1bnNwZWNpZmllZCI+IDxuczI6QXR0cmlidXRlVmFsdWUvPiA8L25zMjpBdHRyaWJ1dGU+IDxuczI6QXR0cmlidXRlIE5hbWU9IklTSURJUiIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1bnNwZWNpZmllZCI+IDxuczI6QXR0cmlidXRlVmFsdWU+UmFuZG9tPC9uczI6QXR0cmlidXRlVmFsdWU+IDwvbnMyOkF0dHJpYnV0ZT4gPC9uczI6QXR0cmlidXRlU3RhdGVtZW50PiA8L25zMjpBc3NlcnRpb24+IDwvUmVzcG9uc2U+';
        pageRef.getParameters().put('SAMLResponse', encodedString );
        Test.setCurrentPage(pageRef);
        MCFD_AuthenticationController cobj = new MCFD_AuthenticationController ();
        cobj.error= '';
        cobj.evaluateAssertion();
        
        MCFD_AuthenticationController.portalLandingPage();
        User usr = [select id,IsPortalEnabled from user limit 1];
        cobj.isUserFrozen(usr);
        cobj.redirectToSso(usr);
        }
        
         private static testMethod void test4(){
        
        createTest();
        PageReference pageRef = ApexPages.currentPage();
        Test.setCurrentPage(pageRef);
        User us = MCFD_TestDataHelper_Test.getCommunityUser();
        
        // update us;
        // Add parameters to page URL
        Test.startTest();
        System.RunAs(us){
         
            String encodedString = 'PFJlc3BvbnNlIHhtbG5zPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6cHJvdG9jb2wiIERlc3RpbmF0aW9uPSJodHRwczovL3FhLW1jZmQtcG9ydGFsLmNzNzEuZm9yY2UuY29tL01DRkRfQXV0aFJlZGlyZWN0IiBJRD0iXzBiZGM0ZjZlYTE5NDZkNjZhY2QyYzFhN2E4NDZjNzYyMTQ0ZSIgSXNzdWVJbnN0YW50PSIyMDE3LTA1LTIzVDEwOjI0OjM3WiIgVmVyc2lvbj0iMi4wIj4gPG5zMTpJc3N1ZXIgeG1sbnM6bnMxPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXNzZXJ0aW9uIiBGb3JtYXQ9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpuYW1laWQtZm9ybWF0OmVudGl0eSI+dXJuOmNhOmJjOmdvdjpzZnN0ZXN0Om1jZjpkc3A6cG9ydGFsZXh0ZXJuYWw8L25zMTpJc3N1ZXI+IDxTdGF0dXM+IDxTdGF0dXNDb2RlIFZhbHVlPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6c3RhdHVzOlN1Y2Nlc3MiLz4gPC9TdGF0dXM+IDxuczI6QXNzZXJ0aW9uIHhtbG5zOm5zMj0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmFzc2VydGlvbiIgSUQ9Il80YTJiODY5MmIyOWQ1NmI4YWY4M2E5Yzc3MDI3YmY2Y2RlZGIiIElzc3VlSW5zdGFudD0iMjAxNy0wNS0yM1QxMDoyNDozN1oiIFZlcnNpb249IjIuMCI+IDxuczI6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij51cm46Y2E6YmM6Z292OnNmc3Rlc3Q6bWNmOmRzcDpwb3J0YWxleHRlcm5hbDwvbnMyOklzc3Vlcj48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIj4gPGRzOlNpZ25lZEluZm8+IDxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIi8+IDxkczpTaWduYXR1cmVNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNyc2Etc2hhMjU2Ii8+IDxkczpSZWZlcmVuY2UgVVJJPSIjXzRhMmI4NjkyYjI5ZDU2YjhhZjgzYTljNzcwMjdiZjZjZGVkYiI+IDxkczpUcmFuc2Zvcm1zPiA8ZHM6VHJhbnNmb3JtIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI2VudmVsb3BlZC1zaWduYXR1cmUiLz4gPGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMTAveG1sLWV4Yy1jMTRuIyIvPiA8L2RzOlRyYW5zZm9ybXM+IDxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz4gPGRzOkRpZ2VzdFZhbHVlPkh3TVk5dGFhK1pjWlRDdE5FRlloaWxsblRuMURxRXdXTVpFbFZMdFZVZUk9PC9kczpEaWdlc3RWYWx1ZT4gPC9kczpSZWZlcmVuY2U+IDwvZHM6U2lnbmVkSW5mbz4gPGRzOlNpZ25hdHVyZVZhbHVlPiBqVU94cmRBUjdTQW9rSElRc2xHVW5CQmFJT0h6cXBIazVHSGRzNkZVYk1vbHFFS29ZdEIzVTA0U3U0RG1DZWVTcEdScEFXaHlhUmVYIFdwa0JtS1dCaVdHSmhlWjBPOStSSUFMRnVmeG1JSyttSEUzazJPRG51QzV0TTB0eXUwNjZZUHE4Yy84a1V1TnUzN3lwQjVGQVRJQy8gbTJrYmhHeStlbEtMVjdFcmc0S0VuWlg4VEd4V0ZCRTJJTHRoN1FoaGNuTEhKQ2ZaeFBXclZIbWJjK1BCMlJhNW5PM2pVWmhlQ0lCYSB3NWlOcGFvRlV0WTJYT2dMajA1Z2R5R3M1WnJ2THdkbGU5K1pRVjNnbnpLMmhEMmIxNG5LRGlYdmRxMk1veHVNdWxubGxvcGJCeFhCIEx2aTNsd3BIMGFzNDhWMWtMUDI1UEE1aWh1VWlQWm5JL3FNelBRPT0gPC9kczpTaWduYXR1cmVWYWx1ZT4gPGRzOktleUluZm8+IDxkczpYNTA5RGF0YT4gPGRzOlg1MDlDZXJ0aWZpY2F0ZT4gTUlJRUN6Q0NBdk1DQ1FDZG9XTjRYdFVJNlRBTkJna3Foa2lHOXcwQkFRc0ZBRENCeWpFTE1Ba0dBMVVFQmhNQ1EwRXhHVEFYQmdOViBCQWdURUVKeWFYUnBjMmdnUTI5c2RXMWlhV0V4RVRBUEJnTlZCQWNUQ0ZacFkzUnZjbWxoTVRjd05RWURWUVFLRXk1SGIzWmxjbTV0IFpXNTBJRzltSUhSb1pTQlFjbTkyYVc1alpTQnZaaUJDY21sMGFYTm9JRU52YkhWdFltbGhNUTh3RFFZRFZRUUxFd1pUUmxNdFEwRXggSWpBZ0JnTlZCQU1UR1ZOR1V5QkRaWEowYVdacFkyRjBaU0JCZFhSb2IzSnBkSGt4SHpBZEJna3Foa2lHOXcwQkNRRVdFRmRVVTFkQiBUVUJuYjNZdVltTXVZMkV3SGhjTk1UTXdOREExTWpJMU5qVTNXaGNOTXpNd05EQTFNakkxTmpVM1dqQ0J3ekVMTUFrR0ExVUVCaE1DIFEwRXhHVEFYQmdOVkJBZ1RFRUp5YVhScGMyZ2dRMjlzZFcxaWFXRXhFVEFQQmdOVkJBY1RDRlpwWTNSdmNtbGhNVGN3TlFZRFZRUUsgRXk1SGIzWmxjbTV0Wlc1MElHOW1JSFJvWlNCUWNtOTJhVzVqWlNCdlppQkNjbWwwYVhOb0lFTnZiSFZ0WW1saE1Rd3dDZ1lEVlFRTCBFd05UUmxNeEhqQWNCZ05WQkFNVEZYTm1jeTF6Wm5OMFpYTjBMbWR2ZGk1aVl5NWpZVEVmTUIwR0NTcUdTSWIzRFFFSkFSWVFWMVJUIFYwRk5RR2R2ZGk1aVl5NWpZVENDQVNJd0RRWUpLb1pJaHZjTkFRRUJCUUFEZ2dFUEFEQ0NBUW9DZ2dFQkFKdzVFMDQ1amxKK3NiU2cgTmZrdnlKQTMrMjdLUkJtQWxxK01VUm9SM09TaVdjMjBNV2R0NXBLeGRSVXEyZll4clFqdHJ0UHVHcWtrRUdhZUkwaU5ad1JJbmJ5NiBIdTZ1YkN3ZjFRN2ZUbFc3OGxzK0NqTmtZTlVDMy93dUMzbW4xUW5nOFUwbGRRN3RRVTRjUE9xd0xJdlNpSmRpSlpybUY4UkRwcG9kIFljSGhiaWo3N3Q2dGlIVkN4UVlncXhOY3V0M2d3bnhWcjI0MTZ5V0hYVnFxcGNjS0xUaUkvSm9lQ2I1b0kyVVVDcmRldnlXZDRINXEgTlpseTRoTDVQQkNZWTRUdXBVYXlqaGJXZnhKSzRVV2NEdjdPT2ErdXhxNGtZbkdleERwcUNiVzZidmNIYms0N1A1UkFaSXZndm5HbyBCZ1Nmb2gzN3p4US9GcDZWRTRpV0F1Y0NBd0VBQVRBTkJna3Foa2lHOXcwQkFRc0ZBQU9DQVFFQWJka2pROXVIcHZka1NlSUdPbmZ4IHU0Vm5mM2pHTzR5bzgrQnJub0dhTEM4aTJDV21Wb2RpOUdPdTNIM2pyR3ZzU296N242QzJBK3ZJdkR4dkE3dHdqd0xBcXVaVlFKbkIgQ3BNS213bFBDQUNBd1orRWxiNHIycU1teGEyRm0wSWVZejN4MkJXWU9BVHRpYzgxZkZ6aEo4UWtXQnV3YjkrZEorMGwvR0dRZjlwTyAycWlJcVVFZDJvSVVWRHhxV1JZemhQZXplanBmVmpCc1RQWFk1eFFoZEJVS0hNcjBacFNVOWtNb0p6Y00xbjZsSkg3cEZIWkJVS043IDkyaG9FNTVPbEszTFFMVW9oKzNXNEROL1lWS2tEczZrSHI0b0w2dXo5ajJXODRIVVBYNURMbUZGaUorTHBTMDUyVkJ0WWNoangyQnQgMEZQc0hKSjRDMEYwcjVHNG93PT0gPC9kczpYNTA5Q2VydGlmaWNhdGU+IDwvZHM6WDUwOURhdGE+IDwvZHM6S2V5SW5mbz4gPC9kczpTaWduYXR1cmU+IDxuczI6U3ViamVjdD4gPG5zMjpOYW1lSUQgRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6bmFtZWlkLWZvcm1hdDp0cmFuc2llbnQiPl81YmU1YTM1OWJmM2JmOTYyYjNiMGU3ZjAyOWM5ZGIyOGRmM2U8L25zMjpOYW1lSUQ+IDxuczI6U3ViamVjdENvbmZpcm1hdGlvbiBNZXRob2Q9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpjbTpiZWFyZXIiPiA8bnMyOlN1YmplY3RDb25maXJtYXRpb25EYXRhIE5vdE9uT3JBZnRlcj0iMjAxNy0wNS0yM1QxMDoyNjowN1oiIFJlY2lwaWVudD0iaHR0cHM6Ly9xYS1tY2ZkLXBvcnRhbC5jczcxLmZvcmNlLmNvbS9NQ0ZEX0F1dGhSZWRpcmVjdCIvPiA8L25zMjpTdWJqZWN0Q29uZmlybWF0aW9uPiA8L25zMjpTdWJqZWN0PiA8bnMyOkNvbmRpdGlvbnMgTm90QmVmb3JlPSIyMDE3LTA1LTIzVDEwOjI0OjA3WiIgTm90T25PckFmdGVyPSIyMDE3LTA1LTIzVDEwOjI2OjA3WiI+IDxuczI6QXVkaWVuY2VSZXN0cmljdGlvbj4gPG5zMjpBdWRpZW5jZT5iY2VpZC5kc3Bwb3J0YWwuc2FsZXNmb3JjZS5jb208L25zMjpBdWRpZW5jZT4gPC9uczI6QXVkaWVuY2VSZXN0cmljdGlvbj4gPG5zMjpBdWRpZW5jZVJlc3RyaWN0aW9uPiA8bnMyOkF1ZGllbmNlPmh0dHBzOi8vc2FtbC5zYWxlc2ZvcmNlLmNvbTwvbnMyOkF1ZGllbmNlPiA8L25zMjpBdWRpZW5jZVJlc3RyaWN0aW9uPiA8L25zMjpDb25kaXRpb25zPiA8bnMyOkF1dGhuU3RhdGVtZW50IEF1dGhuSW5zdGFudD0iMjAxNy0wNS0yM1QxMDoyNDoyN1oiIFNlc3Npb25JbmRleD0iZnc5R2ZKc3hVT0NDcUwraTZXS25NdkRPUUowPXdNekpUZz09IiBTZXNzaW9uTm90T25PckFmdGVyPSIyMDE3LTA1LTIzVDEwOjI2OjA3WiI+IDxuczI6QXV0aG5Db250ZXh0PiA8bnMyOkF1dGhuQ29udGV4dENsYXNzUmVmPnVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphYzpjbGFzc2VzOlBhc3N3b3JkPC9uczI6QXV0aG5Db250ZXh0Q2xhc3NSZWY+IDwvbnMyOkF1dGhuQ29udGV4dD4gPC9uczI6QXV0aG5TdGF0ZW1lbnQ+IDxuczI6QXR0cmlidXRlU3RhdGVtZW50PiA8bnMyOkF0dHJpYnV0ZSBOYW1lPSJodHRwOi8vd3d3LmNpby5nb3YuYmMuY2Evc3RhbmRhcmRzL2NsYWltcy8yMDEyLzA2L3VzZXJpZGVudGlmaWVyIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OnVyaSI+IDxuczI6QXR0cmlidXRlVmFsdWU+N0MwMTUxOEM4Q0JENDhFRDkzQzEwOTE4QkQ1NTQzMjE8L25zMjpBdHRyaWJ1dGVWYWx1ZT4gPC9uczI6QXR0cmlidXRlPiA8bnMyOkF0dHJpYnV0ZSBOYW1lPSJ1c2VyaWRlbnRpZmllciIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1bnNwZWNpZmllZCI+IDxuczI6QXR0cmlidXRlVmFsdWU+N0MwMTUxOEM4Q0JENDhFRDkzQzEwOTE4QkQ1NTQzMjE8L25zMjpBdHRyaWJ1dGVWYWx1ZT4gPC9uczI6QXR0cmlidXRlPiA8bnMyOkF0dHJpYnV0ZSBOYW1lPSJHSVZFTk5BTUUiIE5hbWVGb3JtYXQ9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphdHRybmFtZS1mb3JtYXQ6dW5zcGVjaWZpZWQiPiA8bnMyOkF0dHJpYnV0ZVZhbHVlPnRlc3QyPC9uczI6QXR0cmlidXRlVmFsdWU+IDwvbnMyOkF0dHJpYnV0ZT4gPG5zMjpBdHRyaWJ1dGUgTmFtZT0iRU1BSUwiIE5hbWVGb3JtYXQ9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphdHRybmFtZS1mb3JtYXQ6dW5zcGVjaWZpZWQiPiA8bnMyOkF0dHJpYnV0ZVZhbHVlPnBkYXZlQGRlbG9pdHRlLmNvbTwvbnMyOkF0dHJpYnV0ZVZhbHVlPiA8L25zMjpBdHRyaWJ1dGU+IDxuczI6QXR0cmlidXRlIE5hbWU9IkJDRUlEIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OnVuc3BlY2lmaWVkIj4gPG5zMjpBdHRyaWJ1dGVWYWx1ZT50ZXN0bWNmZF8yMTwvbnMyOkF0dHJpYnV0ZVZhbHVlPiA8L25zMjpBdHRyaWJ1dGU+IDxuczI6QXR0cmlidXRlIE5hbWU9IkRJU1BMQVlOQU1FIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OnVuc3BlY2lmaWVkIj4gPG5zMjpBdHRyaWJ1dGVWYWx1ZT50ZXN0MiBUZXN0MTwvbnMyOkF0dHJpYnV0ZVZhbHVlPiA8L25zMjpBdHRyaWJ1dGU+IDxuczI6QXR0cmlidXRlIE5hbWU9IlNFQ09ORE5BTUUiIE5hbWVGb3JtYXQ9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphdHRybmFtZS1mb3JtYXQ6dW5zcGVjaWZpZWQiPiA8bnMyOkF0dHJpYnV0ZVZhbHVlPnRlc3QyPC9uczI6QXR0cmlidXRlVmFsdWU+IDwvbnMyOkF0dHJpYnV0ZT4gPG5zMjpBdHRyaWJ1dGUgTmFtZT0iU1VSTkFNRSIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1bnNwZWNpZmllZCI+IDxuczI6QXR0cmlidXRlVmFsdWUvPiA8L25zMjpBdHRyaWJ1dGU+IDxuczI6QXR0cmlidXRlIE5hbWU9IklTSURJUiIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1bnNwZWNpZmllZCI+IDxuczI6QXR0cmlidXRlVmFsdWU+UmFuZG9tPC9uczI6QXR0cmlidXRlVmFsdWU+IDwvbnMyOkF0dHJpYnV0ZT4gPC9uczI6QXR0cmlidXRlU3RhdGVtZW50PiA8L25zMjpBc3NlcnRpb24+IDwvUmVzcG9uc2U+';
            pageRef.getParameters().put('SAMLResponse', encodedString );
            Test.setCurrentPage(pageRef);
            MCFD_AuthenticationController cobj = new MCFD_AuthenticationController ();
            cobj.error= '';
            cobj.evaluateAssertion();
        
        }
        Test.stopTest();
    }
        
    private static testMethod void test5(){
        
        createTest();
        PageReference pageRef = ApexPages.currentPage();
        Test.setCurrentPage(pageRef);
        User us = MCFD_TestDataHelper_Test.getCommunityUser();
        
       
        Test.startTest();
        System.RunAs(us){
            String encodedString = 'PHNvYXA6RW52ZWxvcGUgeG1sbnM6c29hcD1cImh0dHA6Ly93d3cudzMub3JnLzIwMDMvMDUvc29hcC1lbnZlbG9wZVwiIHhtbG5zOnhzaT1cImh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlXCIgeG1sbnM6eHNkPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWFcIj4gPHNvYXA6Qm9keT4gPFBhc3NUaHJvdWdoUmVxUmVzcG9uc2UgeG1sbnM9XCJodHRwOi8vYW1zc2VydmljZXMuY29tL1wiPiA8UGFzc1Rocm91Z2hSZXFSZXN1bHQ+IDxQaWNrUmVzcG9uc2U+IDxGaWxlcz4gPEZpbGUgc2FnZmlsZT1cIldPUksuNzg2NDQ3MFwiPiA8SXRlbSBzYWdpdGVtPVwiV0VCU0VSVklDRS5UQUdTKldPUksuNzg2NDQ3MFwiPiA8YTE+UE9MSUNZLk5VTUJFUjwvYTE+IDxhMj5DTElFTlQuQ09ERTwvYTI+IDxhMz5FRkYuREFURTwvYTM+IDxhND5FWFAuREFURTwvYTQ+IDxhNT5DT1Y8L2E1PiA8YTY+SU5TPC9hNj4gPGE3PlRFUk08L2E3PiA8YTg+UE9MSUNZLlNUQVRVUzwvYTg+IDxhOT5CSUxMSU5HLk1FVEhPRDwvYTk+IDxhMTA+MzE8L2ExMD4gPGExMT4zMjwvYTExPiA8YTEyPjMzPC9hMTI+IDxhMTM+UE9MSUNZLlNUQVRVUzwvYTEzPiA8YTE0Pk5FVy5SRU48L2ExND4gPGExNT5DSEcuVElNRTwvYTE1PiA8L0l0ZW0+IDwvRmlsZT4gPEZpbGUgc2FnZmlsZT1cIldPUksuNzg2NDQ3MFwiPiA8SXRlbSBzYWdpdGVtPVwiNTc5NjE1XCI+IDxhMT5URVNUSU5HTkVXPC9hMT4gPGEyPlpJTUpPMTwvYTI+IDxhMz4wOC8wOC8xNjwvYTM+IDxhND4wOC8wOC8xNzwvYTQ+IDxhNT5BUkE8L2E1PiA8YTY+Q0VSPC9hNj4gPGE3PkE8L2E3PiA8YTk+QWdlbmN5IEJpbGw8L2E5PiA8YTE0Pk5FVzwvYTE0PiA8YTE1PjEyOjA2OjQ2PC9hMTU+IDwvSXRlbT4gPC9GaWxlPiA8L0ZpbGVzPiA8L1BpY2tSZXNwb25zZT48L1Bhc3NUaHJvdWdoUmVxUmVzdWx0PiA8L1Bhc3NUaHJvdWdoUmVxUmVzcG9uc2U+IDwvc29hcDpCb2R5PiA8L3NvYXA6RW52ZWxvcGU+Jw==';
           
            pageRef.getParameters().put('SAMLResponse', encodedString );
            Test.setCurrentPage(pageRef);
            MCFD_AuthenticationController cobj = new MCFD_AuthenticationController ();
            cobj.error= '';
            cobj.evaluateAssertion();
        
        }
        Test.stopTest();
    }
        
    private static testMethod void test6(){
        
        createTest();
        PageReference pageRef = ApexPages.currentPage();
        Test.setCurrentPage(pageRef);
        User us = MCFD_TestDataHelper_Test.getCommunityUser();
        
        
        Test.startTest();
        System.RunAs(us){
       
        String encodedString = 'PFJlc3BvbnNlIHhtbG5zPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6cHJvdG9jb2wiIERlc3RpbmF0aW9uPSJodHRwczovL3FhLW1jZmQtcG9ydGFsLmNzNzEuZm9yY2UuY29tL01DRkRfQXV0aFJlZGlyZWN0IiBJRD0iXzBiZGM0ZjZlYTE5NDZkNjZhY2QyYzFhN2E4NDZjNzYyMTQ0ZSIgSXNzdWVJbnN0YW50PSIyMDE3LTA1LTIzVDEwOjI0OjM3WiIgVmVyc2lvbj0iMi4wIj4gPG5zMTpJc3N1ZXIgeG1sbnM6bnMxPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXNzZXJ0aW9uIiBGb3JtYXQ9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpuYW1laWQtZm9ybWF0OmVudGl0eSI+dXJuOmNhOmJjOmdvdjpzZnN0ZXN0Om1jZjpkc3A6cG9ydGFsZXh0ZXJuYWw8L25zMTpJc3N1ZXI+IDxTdGF0dXM+IDxTdGF0dXNDb2RlIFZhbHVlPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6c3RhdHVzOlN1Y2Nlc3MiLz4gPC9TdGF0dXM+IDxuczI6QXNzZXJ0aW9uIHhtbG5zOm5zMj0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmFzc2VydGlvbiIgSUQ9Il80YTJiODY5MmIyOWQ1NmI4YWY4M2E5Yzc3MDI3YmY2Y2RlZGIiIElzc3VlSW5zdGFudD0iMjAxNy0wNS0yM1QxMDoyNDozN1oiIFZlcnNpb249IjIuMCI+IDxuczI6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij51cm46Y2E6YmM6Z292OnNmc3Rlc3Q6bWNmOmRzcDpwb3J0YWxleHRlcm5hbDwvbnMyOklzc3Vlcj48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIj4gPGRzOlNpZ25lZEluZm8+IDxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIi8+IDxkczpTaWduYXR1cmVNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNyc2Etc2hhMjU2Ii8+IDxkczpSZWZlcmVuY2UgVVJJPSIjXzRhMmI4NjkyYjI5ZDU2YjhhZjgzYTljNzcwMjdiZjZjZGVkYiI+IDxkczpUcmFuc2Zvcm1zPiA8ZHM6VHJhbnNmb3JtIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI2VudmVsb3BlZC1zaWduYXR1cmUiLz4gPGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMTAveG1sLWV4Yy1jMTRuIyIvPiA8L2RzOlRyYW5zZm9ybXM+IDxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz4gPGRzOkRpZ2VzdFZhbHVlPkh3TVk5dGFhK1pjWlRDdE5FRlloaWxsblRuMURxRXdXTVpFbFZMdFZVZUk9PC9kczpEaWdlc3RWYWx1ZT4gPC9kczpSZWZlcmVuY2U+IDwvZHM6U2lnbmVkSW5mbz4gPGRzOlNpZ25hdHVyZVZhbHVlPiBqVU94cmRBUjdTQW9rSElRc2xHVW5CQmFJT0h6cXBIazVHSGRzNkZVYk1vbHFFS29ZdEIzVTA0U3U0RG1DZWVTcEdScEFXaHlhUmVYIFdwa0JtS1dCaVdHSmhlWjBPOStSSUFMRnVmeG1JSyttSEUzazJPRG51QzV0TTB0eXUwNjZZUHE4Yy84a1V1TnUzN3lwQjVGQVRJQy8gbTJrYmhHeStlbEtMVjdFcmc0S0VuWlg4VEd4V0ZCRTJJTHRoN1FoaGNuTEhKQ2ZaeFBXclZIbWJjK1BCMlJhNW5PM2pVWmhlQ0lCYSB3NWlOcGFvRlV0WTJYT2dMajA1Z2R5R3M1WnJ2THdkbGU5K1pRVjNnbnpLMmhEMmIxNG5LRGlYdmRxMk1veHVNdWxubGxvcGJCeFhCIEx2aTNsd3BIMGFzNDhWMWtMUDI1UEE1aWh1VWlQWm5JL3FNelBRPT0gPC9kczpTaWduYXR1cmVWYWx1ZT4gPGRzOktleUluZm8+IDxkczpYNTA5RGF0YT4gPGRzOlg1MDlDZXJ0aWZpY2F0ZT4gTUlJRUN6Q0NBdk1DQ1FDZG9XTjRYdFVJNlRBTkJna3Foa2lHOXcwQkFRc0ZBRENCeWpFTE1Ba0dBMVVFQmhNQ1EwRXhHVEFYQmdOViBCQWdURUVKeWFYUnBjMmdnUTI5c2RXMWlhV0V4RVRBUEJnTlZCQWNUQ0ZacFkzUnZjbWxoTVRjd05RWURWUVFLRXk1SGIzWmxjbTV0IFpXNTBJRzltSUhSb1pTQlFjbTkyYVc1alpTQnZaaUJDY21sMGFYTm9JRU52YkhWdFltbGhNUTh3RFFZRFZRUUxFd1pUUmxNdFEwRXggSWpBZ0JnTlZCQU1UR1ZOR1V5QkRaWEowYVdacFkyRjBaU0JCZFhSb2IzSnBkSGt4SHpBZEJna3Foa2lHOXcwQkNRRVdFRmRVVTFkQiBUVUJuYjNZdVltTXVZMkV3SGhjTk1UTXdOREExTWpJMU5qVTNXaGNOTXpNd05EQTFNakkxTmpVM1dqQ0J3ekVMTUFrR0ExVUVCaE1DIFEwRXhHVEFYQmdOVkJBZ1RFRUp5YVhScGMyZ2dRMjlzZFcxaWFXRXhFVEFQQmdOVkJBY1RDRlpwWTNSdmNtbGhNVGN3TlFZRFZRUUsgRXk1SGIzWmxjbTV0Wlc1MElHOW1JSFJvWlNCUWNtOTJhVzVqWlNCdlppQkNjbWwwYVhOb0lFTnZiSFZ0WW1saE1Rd3dDZ1lEVlFRTCBFd05UUmxNeEhqQWNCZ05WQkFNVEZYTm1jeTF6Wm5OMFpYTjBMbWR2ZGk1aVl5NWpZVEVmTUIwR0NTcUdTSWIzRFFFSkFSWVFWMVJUIFYwRk5RR2R2ZGk1aVl5NWpZVENDQVNJd0RRWUpLb1pJaHZjTkFRRUJCUUFEZ2dFUEFEQ0NBUW9DZ2dFQkFKdzVFMDQ1amxKK3NiU2cgTmZrdnlKQTMrMjdLUkJtQWxxK01VUm9SM09TaVdjMjBNV2R0NXBLeGRSVXEyZll4clFqdHJ0UHVHcWtrRUdhZUkwaU5ad1JJbmJ5NiBIdTZ1YkN3ZjFRN2ZUbFc3OGxzK0NqTmtZTlVDMy93dUMzbW4xUW5nOFUwbGRRN3RRVTRjUE9xd0xJdlNpSmRpSlpybUY4UkRwcG9kIFljSGhiaWo3N3Q2dGlIVkN4UVlncXhOY3V0M2d3bnhWcjI0MTZ5V0hYVnFxcGNjS0xUaUkvSm9lQ2I1b0kyVVVDcmRldnlXZDRINXEgTlpseTRoTDVQQkNZWTRUdXBVYXlqaGJXZnhKSzRVV2NEdjdPT2ErdXhxNGtZbkdleERwcUNiVzZidmNIYms0N1A1UkFaSXZndm5HbyBCZ1Nmb2gzN3p4US9GcDZWRTRpV0F1Y0NBd0VBQVRBTkJna3Foa2lHOXcwQkFRc0ZBQU9DQVFFQWJka2pROXVIcHZka1NlSUdPbmZ4IHU0Vm5mM2pHTzR5bzgrQnJub0dhTEM4aTJDV21Wb2RpOUdPdTNIM2pyR3ZzU296N242QzJBK3ZJdkR4dkE3dHdqd0xBcXVaVlFKbkIgQ3BNS213bFBDQUNBd1orRWxiNHIycU1teGEyRm0wSWVZejN4MkJXWU9BVHRpYzgxZkZ6aEo4UWtXQnV3YjkrZEorMGwvR0dRZjlwTyAycWlJcVVFZDJvSVVWRHhxV1JZemhQZXplanBmVmpCc1RQWFk1eFFoZEJVS0hNcjBacFNVOWtNb0p6Y00xbjZsSkg3cEZIWkJVS043IDkyaG9FNTVPbEszTFFMVW9oKzNXNEROL1lWS2tEczZrSHI0b0w2dXo5ajJXODRIVVBYNURMbUZGaUorTHBTMDUyVkJ0WWNoangyQnQgMEZQc0hKSjRDMEYwcjVHNG93PT0gPC9kczpYNTA5Q2VydGlmaWNhdGU+IDwvZHM6WDUwOURhdGE+IDwvZHM6S2V5SW5mbz4gPC9kczpTaWduYXR1cmU+IDxuczI6U3ViamVjdD4gPG5zMjpOYW1lSUQgRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6bmFtZWlkLWZvcm1hdDp0cmFuc2llbnQiPl81YmU1YTM1OWJmM2JmOTYyYjNiMGU3ZjAyOWM5ZGIyOGRmM2U8L25zMjpOYW1lSUQ+IDxuczI6U3ViamVjdENvbmZpcm1hdGlvbiBNZXRob2Q9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpjbTpiZWFyZXIiPiA8bnMyOlN1YmplY3RDb25maXJtYXRpb25EYXRhIE5vdE9uT3JBZnRlcj0iMjAxNy0wNS0yM1QxMDoyNjowN1oiIFJlY2lwaWVudD0iaHR0cHM6Ly9xYS1tY2ZkLXBvcnRhbC5jczcxLmZvcmNlLmNvbS9NQ0ZEX0F1dGhSZWRpcmVjdCIvPiA8L25zMjpTdWJqZWN0Q29uZmlybWF0aW9uPiA8L25zMjpTdWJqZWN0PiA8bnMyOkNvbmRpdGlvbnMgTm90QmVmb3JlPSIyMDE3LTA1LTIzVDEwOjI0OjA3WiIgTm90T25PckFmdGVyPSIyMDE3LTA1LTIzVDEwOjI2OjA3WiI+IDxuczI6QXVkaWVuY2VSZXN0cmljdGlvbj4gPG5zMjpBdWRpZW5jZT5iY2VpZC5kc3Bwb3J0YWwuc2FsZXNmb3JjZS5jb208L25zMjpBdWRpZW5jZT4gPC9uczI6QXVkaWVuY2VSZXN0cmljdGlvbj4gPG5zMjpBdWRpZW5jZVJlc3RyaWN0aW9uPiA8bnMyOkF1ZGllbmNlPmh0dHBzOi8vc2FtbC5zYWxlc2ZvcmNlLmNvbTwvbnMyOkF1ZGllbmNlPiA8L25zMjpBdWRpZW5jZVJlc3RyaWN0aW9uPiA8L25zMjpDb25kaXRpb25zPiA8bnMyOkF1dGhuU3RhdGVtZW50IEF1dGhuSW5zdGFudD0iMjAxNy0wNS0yM1QxMDoyNDoyN1oiIFNlc3Npb25JbmRleD0iZnc5R2ZKc3hVT0NDcUwraTZXS25NdkRPUUowPXdNekpUZz09IiBTZXNzaW9uTm90T25PckFmdGVyPSIyMDE3LTA1LTIzVDEwOjI2OjA3WiI+IDxuczI6QXV0aG5Db250ZXh0PiA8bnMyOkF1dGhuQ29udGV4dENsYXNzUmVmPnVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphYzpjbGFzc2VzOlBhc3N3b3JkPC9uczI6QXV0aG5Db250ZXh0Q2xhc3NSZWY+IDwvbnMyOkF1dGhuQ29udGV4dD4gPC9uczI6QXV0aG5TdGF0ZW1lbnQ+IDxuczI6QXR0cmlidXRlU3RhdGVtZW50PiA8bnMyOkF0dHJpYnV0ZSBOYW1lPSJodHRwOi8vd3d3LmNpby5nb3YuYmMuY2Evc3RhbmRhcmRzL2NsYWltcy8yMDEyLzA2L3VzZXJpZGVudGlmaWVyIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OnVyaSI+IDxuczI6QXR0cmlidXRlVmFsdWU+N0MwMTUxOEM4Q0JENDhFRDkzQzEwOTE4QkQ1NTQzMjE8L25zMjpBdHRyaWJ1dGVWYWx1ZT4gPC9uczI6QXR0cmlidXRlPiA8bnMyOkF0dHJpYnV0ZSBOYW1lPSJ1c2VyaWRlbnRpZmllciIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1bnNwZWNpZmllZCI+IDxuczI6QXR0cmlidXRlVmFsdWU+N0MwMTUxOEM4Q0JENDhFRDkzQzEwOTE4QkQ1NTQzMjE8L25zMjpBdHRyaWJ1dGVWYWx1ZT4gPC9uczI6QXR0cmlidXRlPiA8bnMyOkF0dHJpYnV0ZSBOYW1lPSJHSVZFTk5BTUUiIE5hbWVGb3JtYXQ9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphdHRybmFtZS1mb3JtYXQ6dW5zcGVjaWZpZWQiPiA8bnMyOkF0dHJpYnV0ZVZhbHVlPnRlc3QyPC9uczI6QXR0cmlidXRlVmFsdWU+IDwvbnMyOkF0dHJpYnV0ZT4gPG5zMjpBdHRyaWJ1dGUgTmFtZT0iRU1BSUwiIE5hbWVGb3JtYXQ9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphdHRybmFtZS1mb3JtYXQ6dW5zcGVjaWZpZWQiPiA8bnMyOkF0dHJpYnV0ZVZhbHVlPnBkYXZlQGRlbG9pdHRlLmNvbTwvbnMyOkF0dHJpYnV0ZVZhbHVlPiA8L25zMjpBdHRyaWJ1dGU+IDxuczI6QXR0cmlidXRlIE5hbWU9IkJDRUlEIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OnVuc3BlY2lmaWVkIj4gPG5zMjpBdHRyaWJ1dGVWYWx1ZT50ZXN0bWNmZF8yMTwvbnMyOkF0dHJpYnV0ZVZhbHVlPiA8L25zMjpBdHRyaWJ1dGU+IDxuczI6QXR0cmlidXRlIE5hbWU9IkRJU1BMQVlOQU1FIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OnVuc3BlY2lmaWVkIj4gPG5zMjpBdHRyaWJ1dGVWYWx1ZT50ZXN0MiBUZXN0MTwvbnMyOkF0dHJpYnV0ZVZhbHVlPiA8L25zMjpBdHRyaWJ1dGU+IDxuczI6QXR0cmlidXRlIE5hbWU9IlNFQ09ORE5BTUUiIE5hbWVGb3JtYXQ9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphdHRybmFtZS1mb3JtYXQ6dW5zcGVjaWZpZWQiPiA8bnMyOkF0dHJpYnV0ZVZhbHVlPnRlc3QyPC9uczI6QXR0cmlidXRlVmFsdWU+IDwvbnMyOkF0dHJpYnV0ZT4gPG5zMjpBdHRyaWJ1dGUgTmFtZT0iU1VSTkFNRSIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1bnNwZWNpZmllZCI+IDxuczI6QXR0cmlidXRlVmFsdWUvPiA8L25zMjpBdHRyaWJ1dGU+IDxuczI6QXR0cmlidXRlIE5hbWU9IklTSURJUiIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1bnNwZWNpZmllZCI+IDxuczI6QXR0cmlidXRlVmFsdWU+dHJ1ZTwvbnMyOkF0dHJpYnV0ZVZhbHVlPiA8L25zMjpBdHRyaWJ1dGU+IDwvbnMyOkF0dHJpYnV0ZVN0YXRlbWVudD4gPC9uczI6QXNzZXJ0aW9uPiA8L1Jlc3BvbnNlPg==';
        
        pageRef.getParameters().put('SAMLResponse', encodedString );
            Test.setCurrentPage(pageRef);
            MCFD_AuthenticationController cobj = new MCFD_AuthenticationController ();
            cobj.error= '';
            cobj.evaluateAssertion();
            cobj.redirectToSso(us);
            cobj.redirectToSso(null);
        }
        Test.stopTest();
    }
        
    private static testMethod void test7(){
        
        createTest();
        PageReference pageRef = ApexPages.currentPage();
        Test.setCurrentPage(pageRef);
        User us = MCFD_TestDataHelper_Test.getCommunityUser();
        
        
        Test.startTest();
        System.RunAs(us){
        
            String encodedString = 'PFJlc3BvbnNlIHhtbG5zPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6cHJvdG9jb2wiIERlc3RpbmF0aW9uPSJodHRwczovL3FhLW1jZmQtcG9ydGFsLmNzNzEuZm9yY2UuY29tL01DRkRfQXV0aFJlZGlyZWN0IiBJRD0iXzBiZGM0ZjZlYTE5NDZkNjZhY2QyYzFhN2E4NDZjNzYyMTQ0ZSIgSXNzdWVJbnN0YW50PSIyMDE3LTA1LTIzVDEwOjI0OjM3WiIgVmVyc2lvbj0iMi4wIj4gPG5zMTpJc3N1ZXIgeG1sbnM6bnMxPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXNzZXJ0aW9uIiBGb3JtYXQ9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpuYW1laWQtZm9ybWF0OmVudGl0eSI+dXJuOmNhOmJjOmdvdjpzZnN0ZXN0Om1jZjpkc3A6cG9ydGFsZXh0ZXJuYWw8L25zMTpJc3N1ZXI+IDxTdGF0dXM+IDxTdGF0dXNDb2RlIFZhbHVlPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6c3RhdHVzOlN1Y2Nlc3MiLz4gPC9TdGF0dXM+IDxuczI6QXNzZXJ0aW9uIHhtbG5zOm5zMj0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmFzc2VydGlvbiIgSUQ9Il80YTJiODY5MmIyOWQ1NmI4YWY4M2E5Yzc3MDI3YmY2Y2RlZGIiIElzc3VlSW5zdGFudD0iMjAxNy0wNS0yM1QxMDoyNDozN1oiIFZlcnNpb249IjIuMCI+IDxuczI6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij51cm46Y2E6YmM6Z292OnNmc3Rlc3Q6bWNmOmRzcDpwb3J0YWxleHRlcm5hbDwvbnMyOklzc3Vlcj48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIj4gPGRzOlNpZ25lZEluZm8+IDxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIi8+IDxkczpTaWduYXR1cmVNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNyc2Etc2hhMjU2Ii8+IDxkczpSZWZlcmVuY2UgVVJJPSIjXzRhMmI4NjkyYjI5ZDU2YjhhZjgzYTljNzcwMjdiZjZjZGVkYiI+IDxkczpUcmFuc2Zvcm1zPiA8ZHM6VHJhbnNmb3JtIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI2VudmVsb3BlZC1zaWduYXR1cmUiLz4gPGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMTAveG1sLWV4Yy1jMTRuIyIvPiA8L2RzOlRyYW5zZm9ybXM+IDxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz4gPGRzOkRpZ2VzdFZhbHVlPkh3TVk5dGFhK1pjWlRDdE5FRlloaWxsblRuMURxRXdXTVpFbFZMdFZVZUk9PC9kczpEaWdlc3RWYWx1ZT4gPC9kczpSZWZlcmVuY2U+IDwvZHM6U2lnbmVkSW5mbz4gPGRzOlNpZ25hdHVyZVZhbHVlPiBqVU94cmRBUjdTQW9rSElRc2xHVW5CQmFJT0h6cXBIazVHSGRzNkZVYk1vbHFFS29ZdEIzVTA0U3U0RG1DZWVTcEdScEFXaHlhUmVYIFdwa0JtS1dCaVdHSmhlWjBPOStSSUFMRnVmeG1JSyttSEUzazJPRG51QzV0TTB0eXUwNjZZUHE4Yy84a1V1TnUzN3lwQjVGQVRJQy8gbTJrYmhHeStlbEtMVjdFcmc0S0VuWlg4VEd4V0ZCRTJJTHRoN1FoaGNuTEhKQ2ZaeFBXclZIbWJjK1BCMlJhNW5PM2pVWmhlQ0lCYSB3NWlOcGFvRlV0WTJYT2dMajA1Z2R5R3M1WnJ2THdkbGU5K1pRVjNnbnpLMmhEMmIxNG5LRGlYdmRxMk1veHVNdWxubGxvcGJCeFhCIEx2aTNsd3BIMGFzNDhWMWtMUDI1UEE1aWh1VWlQWm5JL3FNelBRPT0gPC9kczpTaWduYXR1cmVWYWx1ZT4gPGRzOktleUluZm8+IDxkczpYNTA5RGF0YT4gPGRzOlg1MDlDZXJ0aWZpY2F0ZT4gTUlJRUN6Q0NBdk1DQ1FDZG9XTjRYdFVJNlRBTkJna3Foa2lHOXcwQkFRc0ZBRENCeWpFTE1Ba0dBMVVFQmhNQ1EwRXhHVEFYQmdOViBCQWdURUVKeWFYUnBjMmdnUTI5c2RXMWlhV0V4RVRBUEJnTlZCQWNUQ0ZacFkzUnZjbWxoTVRjd05RWURWUVFLRXk1SGIzWmxjbTV0IFpXNTBJRzltSUhSb1pTQlFjbTkyYVc1alpTQnZaaUJDY21sMGFYTm9JRU52YkhWdFltbGhNUTh3RFFZRFZRUUxFd1pUUmxNdFEwRXggSWpBZ0JnTlZCQU1UR1ZOR1V5QkRaWEowYVdacFkyRjBaU0JCZFhSb2IzSnBkSGt4SHpBZEJna3Foa2lHOXcwQkNRRVdFRmRVVTFkQiBUVUJuYjNZdVltTXVZMkV3SGhjTk1UTXdOREExTWpJMU5qVTNXaGNOTXpNd05EQTFNakkxTmpVM1dqQ0J3ekVMTUFrR0ExVUVCaE1DIFEwRXhHVEFYQmdOVkJBZ1RFRUp5YVhScGMyZ2dRMjlzZFcxaWFXRXhFVEFQQmdOVkJBY1RDRlpwWTNSdmNtbGhNVGN3TlFZRFZRUUsgRXk1SGIzWmxjbTV0Wlc1MElHOW1JSFJvWlNCUWNtOTJhVzVqWlNCdlppQkNjbWwwYVhOb0lFTnZiSFZ0WW1saE1Rd3dDZ1lEVlFRTCBFd05UUmxNeEhqQWNCZ05WQkFNVEZYTm1jeTF6Wm5OMFpYTjBMbWR2ZGk1aVl5NWpZVEVmTUIwR0NTcUdTSWIzRFFFSkFSWVFWMVJUIFYwRk5RR2R2ZGk1aVl5NWpZVENDQVNJd0RRWUpLb1pJaHZjTkFRRUJCUUFEZ2dFUEFEQ0NBUW9DZ2dFQkFKdzVFMDQ1amxKK3NiU2cgTmZrdnlKQTMrMjdLUkJtQWxxK01VUm9SM09TaVdjMjBNV2R0NXBLeGRSVXEyZll4clFqdHJ0UHVHcWtrRUdhZUkwaU5ad1JJbmJ5NiBIdTZ1YkN3ZjFRN2ZUbFc3OGxzK0NqTmtZTlVDMy93dUMzbW4xUW5nOFUwbGRRN3RRVTRjUE9xd0xJdlNpSmRpSlpybUY4UkRwcG9kIFljSGhiaWo3N3Q2dGlIVkN4UVlncXhOY3V0M2d3bnhWcjI0MTZ5V0hYVnFxcGNjS0xUaUkvSm9lQ2I1b0kyVVVDcmRldnlXZDRINXEgTlpseTRoTDVQQkNZWTRUdXBVYXlqaGJXZnhKSzRVV2NEdjdPT2ErdXhxNGtZbkdleERwcUNiVzZidmNIYms0N1A1UkFaSXZndm5HbyBCZ1Nmb2gzN3p4US9GcDZWRTRpV0F1Y0NBd0VBQVRBTkJna3Foa2lHOXcwQkFRc0ZBQU9DQVFFQWJka2pROXVIcHZka1NlSUdPbmZ4IHU0Vm5mM2pHTzR5bzgrQnJub0dhTEM4aTJDV21Wb2RpOUdPdTNIM2pyR3ZzU296N242QzJBK3ZJdkR4dkE3dHdqd0xBcXVaVlFKbkIgQ3BNS213bFBDQUNBd1orRWxiNHIycU1teGEyRm0wSWVZejN4MkJXWU9BVHRpYzgxZkZ6aEo4UWtXQnV3YjkrZEorMGwvR0dRZjlwTyAycWlJcVVFZDJvSVVWRHhxV1JZemhQZXplanBmVmpCc1RQWFk1eFFoZEJVS0hNcjBacFNVOWtNb0p6Y00xbjZsSkg3cEZIWkJVS043IDkyaG9FNTVPbEszTFFMVW9oKzNXNEROL1lWS2tEczZrSHI0b0w2dXo5ajJXODRIVVBYNURMbUZGaUorTHBTMDUyVkJ0WWNoangyQnQgMEZQc0hKSjRDMEYwcjVHNG93PT0gPC9kczpYNTA5Q2VydGlmaWNhdGU+IDwvZHM6WDUwOURhdGE+IDwvZHM6S2V5SW5mbz4gPC9kczpTaWduYXR1cmU+IDxuczI6U3ViamVjdD4gPG5zMjpOYW1lSUQgRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6bmFtZWlkLWZvcm1hdDp0cmFuc2llbnQiPl81YmU1YTM1OWJmM2JmOTYyYjNiMGU3ZjAyOWM5ZGIyOGRmM2U8L25zMjpOYW1lSUQ+IDxuczI6U3ViamVjdENvbmZpcm1hdGlvbiBNZXRob2Q9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpjbTpiZWFyZXIiPiA8bnMyOlN1YmplY3RDb25maXJtYXRpb25EYXRhIE5vdE9uT3JBZnRlcj0iMjAxNy0wNS0yM1QxMDoyNjowN1oiIFJlY2lwaWVudD0iaHR0cHM6Ly9xYS1tY2ZkLXBvcnRhbC5jczcxLmZvcmNlLmNvbS9NQ0ZEX0F1dGhSZWRpcmVjdCIvPiA8L25zMjpTdWJqZWN0Q29uZmlybWF0aW9uPiA8L25zMjpTdWJqZWN0PiA8bnMyOkNvbmRpdGlvbnMgTm90QmVmb3JlPSIyMDE3LTA1LTIzVDEwOjI0OjA3WiIgTm90T25PckFmdGVyPSIyMDE3LTA1LTIzVDEwOjI2OjA3WiI+IDxuczI6QXVkaWVuY2VSZXN0cmljdGlvbj4gPG5zMjpBdWRpZW5jZT5iY2VpZC5kc3Bwb3J0YWwuc2FsZXNmb3JjZS5jb208L25zMjpBdWRpZW5jZT4gPC9uczI6QXVkaWVuY2VSZXN0cmljdGlvbj4gPG5zMjpBdWRpZW5jZVJlc3RyaWN0aW9uPiA8bnMyOkF1ZGllbmNlPmh0dHBzOi8vc2FtbC5zYWxlc2ZvcmNlLmNvbTwvbnMyOkF1ZGllbmNlPiA8L25zMjpBdWRpZW5jZVJlc3RyaWN0aW9uPiA8L25zMjpDb25kaXRpb25zPiA8bnMyOkF1dGhuU3RhdGVtZW50IEF1dGhuSW5zdGFudD0iMjAxNy0wNS0yM1QxMDoyNDoyN1oiIFNlc3Npb25JbmRleD0iZnc5R2ZKc3hVT0NDcUwraTZXS25NdkRPUUowPXdNekpUZz09IiBTZXNzaW9uTm90T25PckFmdGVyPSIyMDE3LTA1LTIzVDEwOjI2OjA3WiI+IDxuczI6QXV0aG5Db250ZXh0PiA8bnMyOkF1dGhuQ29udGV4dENsYXNzUmVmPnVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphYzpjbGFzc2VzOlBhc3N3b3JkPC9uczI6QXV0aG5Db250ZXh0Q2xhc3NSZWY+IDwvbnMyOkF1dGhuQ29udGV4dD4gPC9uczI6QXV0aG5TdGF0ZW1lbnQ+IDxuczI6QXR0cmlidXRlU3RhdGVtZW50PiA8bnMyOkF0dHJpYnV0ZSBOYW1lPSJodHRwOi8vd3d3LmNpby5nb3YuYmMuY2Evc3RhbmRhcmRzL2NsYWltcy8yMDEyLzA2L3VzZXJpZGVudGlmaWVyIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OnVyaSI+IDxuczI6QXR0cmlidXRlVmFsdWU+N0MwMTUxOEM4Q0JENDhFRDkzQzEwOTE4QkQ1NTQzMjE8L25zMjpBdHRyaWJ1dGVWYWx1ZT4gPC9uczI6QXR0cmlidXRlPiA8bnMyOkF0dHJpYnV0ZSBOYW1lPSJ1c2VyaWRlbnRpZmllciIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1bnNwZWNpZmllZCI+IDxuczI6QXR0cmlidXRlVmFsdWU+PC9uczI6QXR0cmlidXRlVmFsdWU+IDwvbnMyOkF0dHJpYnV0ZT4gPG5zMjpBdHRyaWJ1dGUgTmFtZT0iR0lWRU5OQU1FIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OnVuc3BlY2lmaWVkIj4gPG5zMjpBdHRyaWJ1dGVWYWx1ZT50ZXN0MjwvbnMyOkF0dHJpYnV0ZVZhbHVlPiA8L25zMjpBdHRyaWJ1dGU+IDxuczI6QXR0cmlidXRlIE5hbWU9IkVNQUlMIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OnVuc3BlY2lmaWVkIj4gPG5zMjpBdHRyaWJ1dGVWYWx1ZT5wZGF2ZUBkZWxvaXR0ZS5jb208L25zMjpBdHRyaWJ1dGVWYWx1ZT4gPC9uczI6QXR0cmlidXRlPiA8bnMyOkF0dHJpYnV0ZSBOYW1lPSJCQ0VJRCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1bnNwZWNpZmllZCI+IDxuczI6QXR0cmlidXRlVmFsdWU+dGVzdG1jZmRfMjE8L25zMjpBdHRyaWJ1dGVWYWx1ZT4gPC9uczI6QXR0cmlidXRlPiA8bnMyOkF0dHJpYnV0ZSBOYW1lPSJESVNQTEFZTkFNRSIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1bnNwZWNpZmllZCI+IDxuczI6QXR0cmlidXRlVmFsdWU+dGVzdDIgVGVzdDE8L25zMjpBdHRyaWJ1dGVWYWx1ZT4gPC9uczI6QXR0cmlidXRlPiA8bnMyOkF0dHJpYnV0ZSBOYW1lPSJTRUNPTkROQU1FIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OnVuc3BlY2lmaWVkIj4gPG5zMjpBdHRyaWJ1dGVWYWx1ZT50ZXN0MjwvbnMyOkF0dHJpYnV0ZVZhbHVlPiA8L25zMjpBdHRyaWJ1dGU+IDxuczI6QXR0cmlidXRlIE5hbWU9IlNVUk5BTUUiIE5hbWVGb3JtYXQ9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphdHRybmFtZS1mb3JtYXQ6dW5zcGVjaWZpZWQiPiA8bnMyOkF0dHJpYnV0ZVZhbHVlLz4gPC9uczI6QXR0cmlidXRlPiA8bnMyOkF0dHJpYnV0ZSBOYW1lPSJJU0lESVIiIE5hbWVGb3JtYXQ9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphdHRybmFtZS1mb3JtYXQ6dW5zcGVjaWZpZWQiPiA8bnMyOkF0dHJpYnV0ZVZhbHVlPlJhbmRvbTwvbnMyOkF0dHJpYnV0ZVZhbHVlPiA8L25zMjpBdHRyaWJ1dGU+IDwvbnMyOkF0dHJpYnV0ZVN0YXRlbWVudD4gPC9uczI6QXNzZXJ0aW9uPiA8L1Jlc3BvbnNlPg==';
            pageRef.getParameters().put('SAMLResponse', encodedString );
            Test.setCurrentPage(pageRef);
            MCFD_AuthenticationController cobj = new MCFD_AuthenticationController ();
            cobj.error= '';
            cobj.evaluateAssertion();
        
        }
        Test.stopTest();
    }
        
        
    private static testMethod void test8(){
        
        createTest();
        PageReference pageRef = ApexPages.currentPage();
        Test.setCurrentPage(pageRef);
        User us = MCFD_TestDataHelper_Test.getCommunityUser();
        
        // update us;
        // Add parameters to page URL
        Test.startTest();
        System.RunAs(us){
            String encodedString = '';
            pageRef.getParameters().put('SAMLResponse', encodedString );
            Test.setCurrentPage(pageRef);
            MCFD_AuthenticationController cobj = new MCFD_AuthenticationController ();
            cobj.error= '';
            cobj.evaluateAssertion();
        
        }
        Test.stopTest();
    }
        
    private static testMethod void test9(){
        
        createTest();
        PageReference pageRef = ApexPages.currentPage();
        Test.setCurrentPage(pageRef);
        //User us = getUser();
        User inActiveUser = MCFD_TestDataHelper_Test.getinActiveUser();
       
        Test.startTest();
        
        
        String encodedString = 'PFJlc3BvbnNlIHhtbG5zPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6cHJvdG9jb2wiIERlc3RpbmF0aW9uPSJodHRwczovL3FhLW1jZmQtcG9ydGFsLmNzNzEuZm9yY2UuY29tL01DRkRfQXV0aFJlZGlyZWN0IiBJRD0iXzBiZGM0ZjZlYTE5NDZkNjZhY2QyYzFhN2E4NDZjNzYyMTQ0ZSIgSXNzdWVJbnN0YW50PSIyMDE3LTA1LTIzVDEwOjI0OjM3WiIgVmVyc2lvbj0iMi4wIj4gPG5zMTpJc3N1ZXIgeG1sbnM6bnMxPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXNzZXJ0aW9uIiBGb3JtYXQ9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpuYW1laWQtZm9ybWF0OmVudGl0eSI+dXJuOmNhOmJjOmdvdjpzZnN0ZXN0Om1jZjpkc3A6cG9ydGFsZXh0ZXJuYWw8L25zMTpJc3N1ZXI+IDxTdGF0dXM+IDxTdGF0dXNDb2RlIFZhbHVlPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6c3RhdHVzOlN1Y2Nlc3MiLz4gPC9TdGF0dXM+IDxuczI6QXNzZXJ0aW9uIHhtbG5zOm5zMj0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmFzc2VydGlvbiIgSUQ9Il80YTJiODY5MmIyOWQ1NmI4YWY4M2E5Yzc3MDI3YmY2Y2RlZGIiIElzc3VlSW5zdGFudD0iMjAxNy0wNS0yM1QxMDoyNDozN1oiIFZlcnNpb249IjIuMCI+IDxuczI6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij51cm46Y2E6YmM6Z292OnNmc3Rlc3Q6bWNmOmRzcDpwb3J0YWxleHRlcm5hbDwvbnMyOklzc3Vlcj48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjIj4gPGRzOlNpZ25lZEluZm8+IDxkczpDYW5vbmljYWxpemF0aW9uTWV0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIi8+IDxkczpTaWduYXR1cmVNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGRzaWctbW9yZSNyc2Etc2hhMjU2Ii8+IDxkczpSZWZlcmVuY2UgVVJJPSIjXzRhMmI4NjkyYjI5ZDU2YjhhZjgzYTljNzcwMjdiZjZjZGVkYiI+IDxkczpUcmFuc2Zvcm1zPiA8ZHM6VHJhbnNmb3JtIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMC8wOS94bWxkc2lnI2VudmVsb3BlZC1zaWduYXR1cmUiLz4gPGRzOlRyYW5zZm9ybSBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMTAveG1sLWV4Yy1jMTRuIyIvPiA8L2RzOlRyYW5zZm9ybXM+IDxkczpEaWdlc3RNZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzA0L3htbGVuYyNzaGEyNTYiLz4gPGRzOkRpZ2VzdFZhbHVlPkh3TVk5dGFhK1pjWlRDdE5FRlloaWxsblRuMURxRXdXTVpFbFZMdFZVZUk9PC9kczpEaWdlc3RWYWx1ZT4gPC9kczpSZWZlcmVuY2U+IDwvZHM6U2lnbmVkSW5mbz4gPGRzOlNpZ25hdHVyZVZhbHVlPiBqVU94cmRBUjdTQW9rSElRc2xHVW5CQmFJT0h6cXBIazVHSGRzNkZVYk1vbHFFS29ZdEIzVTA0U3U0RG1DZWVTcEdScEFXaHlhUmVYIFdwa0JtS1dCaVdHSmhlWjBPOStSSUFMRnVmeG1JSyttSEUzazJPRG51QzV0TTB0eXUwNjZZUHE4Yy84a1V1TnUzN3lwQjVGQVRJQy8gbTJrYmhHeStlbEtMVjdFcmc0S0VuWlg4VEd4V0ZCRTJJTHRoN1FoaGNuTEhKQ2ZaeFBXclZIbWJjK1BCMlJhNW5PM2pVWmhlQ0lCYSB3NWlOcGFvRlV0WTJYT2dMajA1Z2R5R3M1WnJ2THdkbGU5K1pRVjNnbnpLMmhEMmIxNG5LRGlYdmRxMk1veHVNdWxubGxvcGJCeFhCIEx2aTNsd3BIMGFzNDhWMWtMUDI1UEE1aWh1VWlQWm5JL3FNelBRPT0gPC9kczpTaWduYXR1cmVWYWx1ZT4gPGRzOktleUluZm8+IDxkczpYNTA5RGF0YT4gPGRzOlg1MDlDZXJ0aWZpY2F0ZT4gTUlJRUN6Q0NBdk1DQ1FDZG9XTjRYdFVJNlRBTkJna3Foa2lHOXcwQkFRc0ZBRENCeWpFTE1Ba0dBMVVFQmhNQ1EwRXhHVEFYQmdOViBCQWdURUVKeWFYUnBjMmdnUTI5c2RXMWlhV0V4RVRBUEJnTlZCQWNUQ0ZacFkzUnZjbWxoTVRjd05RWURWUVFLRXk1SGIzWmxjbTV0IFpXNTBJRzltSUhSb1pTQlFjbTkyYVc1alpTQnZaaUJDY21sMGFYTm9JRU52YkhWdFltbGhNUTh3RFFZRFZRUUxFd1pUUmxNdFEwRXggSWpBZ0JnTlZCQU1UR1ZOR1V5QkRaWEowYVdacFkyRjBaU0JCZFhSb2IzSnBkSGt4SHpBZEJna3Foa2lHOXcwQkNRRVdFRmRVVTFkQiBUVUJuYjNZdVltTXVZMkV3SGhjTk1UTXdOREExTWpJMU5qVTNXaGNOTXpNd05EQTFNakkxTmpVM1dqQ0J3ekVMTUFrR0ExVUVCaE1DIFEwRXhHVEFYQmdOVkJBZ1RFRUp5YVhScGMyZ2dRMjlzZFcxaWFXRXhFVEFQQmdOVkJBY1RDRlpwWTNSdmNtbGhNVGN3TlFZRFZRUUsgRXk1SGIzWmxjbTV0Wlc1MElHOW1JSFJvWlNCUWNtOTJhVzVqWlNCdlppQkNjbWwwYVhOb0lFTnZiSFZ0WW1saE1Rd3dDZ1lEVlFRTCBFd05UUmxNeEhqQWNCZ05WQkFNVEZYTm1jeTF6Wm5OMFpYTjBMbWR2ZGk1aVl5NWpZVEVmTUIwR0NTcUdTSWIzRFFFSkFSWVFWMVJUIFYwRk5RR2R2ZGk1aVl5NWpZVENDQVNJd0RRWUpLb1pJaHZjTkFRRUJCUUFEZ2dFUEFEQ0NBUW9DZ2dFQkFKdzVFMDQ1amxKK3NiU2cgTmZrdnlKQTMrMjdLUkJtQWxxK01VUm9SM09TaVdjMjBNV2R0NXBLeGRSVXEyZll4clFqdHJ0UHVHcWtrRUdhZUkwaU5ad1JJbmJ5NiBIdTZ1YkN3ZjFRN2ZUbFc3OGxzK0NqTmtZTlVDMy93dUMzbW4xUW5nOFUwbGRRN3RRVTRjUE9xd0xJdlNpSmRpSlpybUY4UkRwcG9kIFljSGhiaWo3N3Q2dGlIVkN4UVlncXhOY3V0M2d3bnhWcjI0MTZ5V0hYVnFxcGNjS0xUaUkvSm9lQ2I1b0kyVVVDcmRldnlXZDRINXEgTlpseTRoTDVQQkNZWTRUdXBVYXlqaGJXZnhKSzRVV2NEdjdPT2ErdXhxNGtZbkdleERwcUNiVzZidmNIYms0N1A1UkFaSXZndm5HbyBCZ1Nmb2gzN3p4US9GcDZWRTRpV0F1Y0NBd0VBQVRBTkJna3Foa2lHOXcwQkFRc0ZBQU9DQVFFQWJka2pROXVIcHZka1NlSUdPbmZ4IHU0Vm5mM2pHTzR5bzgrQnJub0dhTEM4aTJDV21Wb2RpOUdPdTNIM2pyR3ZzU296N242QzJBK3ZJdkR4dkE3dHdqd0xBcXVaVlFKbkIgQ3BNS213bFBDQUNBd1orRWxiNHIycU1teGEyRm0wSWVZejN4MkJXWU9BVHRpYzgxZkZ6aEo4UWtXQnV3YjkrZEorMGwvR0dRZjlwTyAycWlJcVVFZDJvSVVWRHhxV1JZemhQZXplanBmVmpCc1RQWFk1eFFoZEJVS0hNcjBacFNVOWtNb0p6Y00xbjZsSkg3cEZIWkJVS043IDkyaG9FNTVPbEszTFFMVW9oKzNXNEROL1lWS2tEczZrSHI0b0w2dXo5ajJXODRIVVBYNURMbUZGaUorTHBTMDUyVkJ0WWNoangyQnQgMEZQc0hKSjRDMEYwcjVHNG93PT0gPC9kczpYNTA5Q2VydGlmaWNhdGU+IDwvZHM6WDUwOURhdGE+IDwvZHM6S2V5SW5mbz4gPC9kczpTaWduYXR1cmU+IDxuczI6U3ViamVjdD4gPG5zMjpOYW1lSUQgRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6bmFtZWlkLWZvcm1hdDp0cmFuc2llbnQiPl81YmU1YTM1OWJmM2JmOTYyYjNiMGU3ZjAyOWM5ZGIyOGRmM2U8L25zMjpOYW1lSUQ+IDxuczI6U3ViamVjdENvbmZpcm1hdGlvbiBNZXRob2Q9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpjbTpiZWFyZXIiPiA8bnMyOlN1YmplY3RDb25maXJtYXRpb25EYXRhIE5vdE9uT3JBZnRlcj0iMjAxNy0wNS0yM1QxMDoyNjowN1oiIFJlY2lwaWVudD0iaHR0cHM6Ly9xYS1tY2ZkLXBvcnRhbC5jczcxLmZvcmNlLmNvbS9NQ0ZEX0F1dGhSZWRpcmVjdCIvPiA8L25zMjpTdWJqZWN0Q29uZmlybWF0aW9uPiA8L25zMjpTdWJqZWN0PiA8bnMyOkNvbmRpdGlvbnMgTm90QmVmb3JlPSIyMDE3LTA1LTIzVDEwOjI0OjA3WiIgTm90T25PckFmdGVyPSIyMDE3LTA1LTIzVDEwOjI2OjA3WiI+IDxuczI6QXVkaWVuY2VSZXN0cmljdGlvbj4gPG5zMjpBdWRpZW5jZT5iY2VpZC5kc3Bwb3J0YWwuc2FsZXNmb3JjZS5jb208L25zMjpBdWRpZW5jZT4gPC9uczI6QXVkaWVuY2VSZXN0cmljdGlvbj4gPG5zMjpBdWRpZW5jZVJlc3RyaWN0aW9uPiA8bnMyOkF1ZGllbmNlPmh0dHBzOi8vc2FtbC5zYWxlc2ZvcmNlLmNvbTwvbnMyOkF1ZGllbmNlPiA8L25zMjpBdWRpZW5jZVJlc3RyaWN0aW9uPiA8L25zMjpDb25kaXRpb25zPiA8bnMyOkF1dGhuU3RhdGVtZW50IEF1dGhuSW5zdGFudD0iMjAxNy0wNS0yM1QxMDoyNDoyN1oiIFNlc3Npb25JbmRleD0iZnc5R2ZKc3hVT0NDcUwraTZXS25NdkRPUUowPXdNekpUZz09IiBTZXNzaW9uTm90T25PckFmdGVyPSIyMDE3LTA1LTIzVDEwOjI2OjA3WiI+IDxuczI6QXV0aG5Db250ZXh0PiA8bnMyOkF1dGhuQ29udGV4dENsYXNzUmVmPnVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphYzpjbGFzc2VzOlBhc3N3b3JkPC9uczI6QXV0aG5Db250ZXh0Q2xhc3NSZWY+IDwvbnMyOkF1dGhuQ29udGV4dD4gPC9uczI6QXV0aG5TdGF0ZW1lbnQ+IDxuczI6QXR0cmlidXRlU3RhdGVtZW50PiA8bnMyOkF0dHJpYnV0ZSBOYW1lPSJodHRwOi8vd3d3LmNpby5nb3YuYmMuY2Evc3RhbmRhcmRzL2NsYWltcy8yMDEyLzA2L3VzZXJpZGVudGlmaWVyIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OnVyaSI+IDxuczI6QXR0cmlidXRlVmFsdWU+N0MwMTUxOEM4Q0JENDhFRDkzQzEwOTE4QkQ1NTQzMjE8L25zMjpBdHRyaWJ1dGVWYWx1ZT4gPC9uczI6QXR0cmlidXRlPiA8bnMyOkF0dHJpYnV0ZSBOYW1lPSJ1c2VyaWRlbnRpZmllciIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1bnNwZWNpZmllZCI+IDxuczI6QXR0cmlidXRlVmFsdWU+N0MwMTUxOEM4Q0JENDhFRDkzQzEwOTE4QkQ1NTQzMjE8L25zMjpBdHRyaWJ1dGVWYWx1ZT4gPC9uczI6QXR0cmlidXRlPiA8bnMyOkF0dHJpYnV0ZSBOYW1lPSJHSVZFTk5BTUUiIE5hbWVGb3JtYXQ9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphdHRybmFtZS1mb3JtYXQ6dW5zcGVjaWZpZWQiPiA8bnMyOkF0dHJpYnV0ZVZhbHVlPnRlc3QyPC9uczI6QXR0cmlidXRlVmFsdWU+IDwvbnMyOkF0dHJpYnV0ZT4gPG5zMjpBdHRyaWJ1dGUgTmFtZT0iRU1BSUwiIE5hbWVGb3JtYXQ9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphdHRybmFtZS1mb3JtYXQ6dW5zcGVjaWZpZWQiPiA8bnMyOkF0dHJpYnV0ZVZhbHVlPnBkYXZlQGRlbG9pdHRlLmNvbTwvbnMyOkF0dHJpYnV0ZVZhbHVlPiA8L25zMjpBdHRyaWJ1dGU+IDxuczI6QXR0cmlidXRlIE5hbWU9IkJDRUlEIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OnVuc3BlY2lmaWVkIj4gPG5zMjpBdHRyaWJ1dGVWYWx1ZT50ZXN0bWNmZF8yMTwvbnMyOkF0dHJpYnV0ZVZhbHVlPiA8L25zMjpBdHRyaWJ1dGU+IDxuczI6QXR0cmlidXRlIE5hbWU9IkRJU1BMQVlOQU1FIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OnVuc3BlY2lmaWVkIj4gPG5zMjpBdHRyaWJ1dGVWYWx1ZT50ZXN0MiBUZXN0MTwvbnMyOkF0dHJpYnV0ZVZhbHVlPiA8L25zMjpBdHRyaWJ1dGU+IDxuczI6QXR0cmlidXRlIE5hbWU9IlNFQ09ORE5BTUUiIE5hbWVGb3JtYXQ9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphdHRybmFtZS1mb3JtYXQ6dW5zcGVjaWZpZWQiPiA8bnMyOkF0dHJpYnV0ZVZhbHVlPnRlc3QyPC9uczI6QXR0cmlidXRlVmFsdWU+IDwvbnMyOkF0dHJpYnV0ZT4gPG5zMjpBdHRyaWJ1dGUgTmFtZT0iU1VSTkFNRSIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1bnNwZWNpZmllZCI+IDxuczI6QXR0cmlidXRlVmFsdWU+dGVzdDwvbnMyOkF0dHJpYnV0ZVZhbHVlPiA8L25zMjpBdHRyaWJ1dGU+IDxuczI6QXR0cmlidXRlIE5hbWU9IklTSURJUiIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1bnNwZWNpZmllZCI+IDxuczI6QXR0cmlidXRlVmFsdWU+ZmFsc2U8L25zMjpBdHRyaWJ1dGVWYWx1ZT4gPC9uczI6QXR0cmlidXRlPiA8L25zMjpBdHRyaWJ1dGVTdGF0ZW1lbnQ+IDwvbnMyOkFzc2VydGlvbj4gPC9SZXNwb25zZT4=';
        pageRef.getParameters().put('SAMLResponse', encodedString );
        Test.setCurrentPage(pageRef);
        MCFD_AuthenticationController cobj = new MCFD_AuthenticationController ();
        cobj.error= '';
        cobj.evaluateAssertion();
        
        
        Test.stopTest();
    }
        
    private static testMethod void test10(){
        
        createTest();
        PageReference pageRef = ApexPages.currentPage();
        Test.setCurrentPage(pageRef);
        
        User inActiveUser = MCFD_TestDataHelper_Test.getinActiveUser();
       
        Test.startTest();
        
       
        Test.setCurrentPage(pageRef);
        MCFD_AuthenticationController cobj = new MCFD_AuthenticationController ();
        cobj.error= '';
        cobj.evaluateAssertion();
        
        
        Test.stopTest();
    }
	/*
    private static testMethod void test11(){
        
        createTest();
       
        Test.startTest();
        
        MCFD_AuthenticationController.AuthenticationException testError = new MCFD_AuthenticationController.AuthenticationException(new MCFD_AuthenticationController.AuthenticationException(),'test');
 
        
        
        Test.stopTest();
    }*/
}